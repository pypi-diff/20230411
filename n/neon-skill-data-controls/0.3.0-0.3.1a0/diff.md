# Comparing `tmp/neon_skill_data_controls-0.3.0-py3-none-any.whl.zip` & `tmp/neon_skill_data_controls-0.3.1a0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,47 +1,46 @@
-Zip file size: 23949 bytes, number of entries: 45
--rw-r--r--  2.0 unx     1635 b- defN 23-Mar-25 02:48 skill_data_controls/LICENSE.md
--rw-r--r--  2.0 unx      709 b- defN 23-Mar-25 02:48 skill_data_controls/README.md
--rw-r--r--  2.0 unx     9656 b- defN 23-Mar-25 02:48 skill_data_controls/__init__.py
--rw-r--r--  2.0 unx     4374 b- defN 23-Mar-25 02:48 skill_data_controls/data_utils.py
--rw-r--r--  2.0 unx     1291 b- defN 23-Mar-25 02:48 skill_data_controls/skill.json
--rw-r--r--  2.0 unx     1854 b- defN 23-Mar-25 02:48 skill_data_controls/version.py
--rw-r--r--  2.0 unx      117 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/ask_clear_data.dialog
--rw-r--r--  2.0 unx      126 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/confirm_clear_all.dialog
--rw-r--r--  2.0 unx       23 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/confirm_clear_data.dialog
--rw-r--r--  2.0 unx       25 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/confirm_no_action.dialog
--rw-r--r--  2.0 unx       22 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_all_brands.dialog
--rw-r--r--  2.0 unx       16 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_all_data.dialog
--rw-r--r--  2.0 unx       16 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_caches.dialog
--rw-r--r--  2.0 unx       14 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_disliked_brands.dialog
--rw-r--r--  2.0 unx       20 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_language.dialog
--rw-r--r--  2.0 unx       12 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_liked_brands.dialog
--rw-r--r--  2.0 unx       51 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_media.dialog
--rw-r--r--  2.0 unx       21 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_profile_data.dialog
--rw-r--r--  2.0 unx       35 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_transcriptions.dialog
--rw-r--r--  2.0 unx       16 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/dialog/word_units.dialog
--rw-r--r--  2.0 unx      191 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/intent/clear_data.intent
--rw-r--r--  2.0 unx       30 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/brands.voc
--rw-r--r--  2.0 unx       34 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/cache.voc
--rw-r--r--  2.0 unx       30 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/cancel.voc
--rw-r--r--  2.0 unx       21 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/data.voc
--rw-r--r--  2.0 unx       31 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/dislikes.voc
--rw-r--r--  2.0 unx       18 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/language.voc
--rw-r--r--  2.0 unx      164 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/likes.voc
--rw-r--r--  2.0 unx       48 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/media.voc
--rw-r--r--  2.0 unx       15 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/profile.voc
--rw-r--r--  2.0 unx       51 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/transcription.voc
--rw-r--r--  2.0 unx       24 b- defN 23-Mar-25 02:48 skill_data_controls/locale/en-us/vocab/units.voc
--rw-r--r--  2.0 unx     1234 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/PKG-INFO
--rw-r--r--  2.0 unx      375 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/SOURCES.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/dependency_links.txt
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/entry_points.txt
--rw-r--r--  2.0 unx       35 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/requires.txt
--rw-r--r--  2.0 unx       20 b- defN 23-Mar-25 02:48 skill_data_controls/neon_skill_data_controls.egg-info/top_level.txt
--rw-r--r--  2.0 unx    14158 b- defN 23-Mar-25 02:48 skill_data_controls/test/test_skill.py
--rw-r--r--  2.0 unx     1635 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/LICENSE.md
--rw-r--r--  2.0 unx     1062 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       20 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4847 b- defN 23-Mar-25 02:48 neon_skill_data_controls-0.3.0.dist-info/RECORD
-45 files, 44353 bytes uncompressed, 15707 bytes compressed:  64.6%
+Zip file size: 22392 bytes, number of entries: 44
+-rw-r--r--  2.0 unx     1635 b- defN 23-Apr-10 23:34 skill_data_controls/LICENSE.md
+-rw-r--r--  2.0 unx      709 b- defN 23-Apr-10 23:34 skill_data_controls/README.md
+-rw-r--r--  2.0 unx     9881 b- defN 23-Apr-10 23:34 skill_data_controls/__init__.py
+-rw-r--r--  2.0 unx     1291 b- defN 23-Apr-10 23:34 skill_data_controls/skill.json
+-rw-r--r--  2.0 unx     1856 b- defN 23-Apr-10 23:34 skill_data_controls/version.py
+-rw-r--r--  2.0 unx      117 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/ask_clear_data.dialog
+-rw-r--r--  2.0 unx      126 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/confirm_clear_all.dialog
+-rw-r--r--  2.0 unx       23 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/confirm_clear_data.dialog
+-rw-r--r--  2.0 unx       25 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/confirm_no_action.dialog
+-rw-r--r--  2.0 unx       22 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_all_brands.dialog
+-rw-r--r--  2.0 unx       16 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_all_data.dialog
+-rw-r--r--  2.0 unx       16 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_caches.dialog
+-rw-r--r--  2.0 unx       14 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_disliked_brands.dialog
+-rw-r--r--  2.0 unx       20 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_language.dialog
+-rw-r--r--  2.0 unx       12 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_liked_brands.dialog
+-rw-r--r--  2.0 unx       51 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_media.dialog
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_profile_data.dialog
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_transcriptions.dialog
+-rw-r--r--  2.0 unx       16 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/dialog/word_units.dialog
+-rw-r--r--  2.0 unx      147 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/intent/clear_data.intent
+-rw-r--r--  2.0 unx       30 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/brands.voc
+-rw-r--r--  2.0 unx       34 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/cache.voc
+-rw-r--r--  2.0 unx       30 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/cancel.voc
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/data.voc
+-rw-r--r--  2.0 unx       31 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/dislikes.voc
+-rw-r--r--  2.0 unx       18 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/language.voc
+-rw-r--r--  2.0 unx      164 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/likes.voc
+-rw-r--r--  2.0 unx       48 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/media.voc
+-rw-r--r--  2.0 unx       20 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/profile.voc
+-rw-r--r--  2.0 unx       51 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/transcription.voc
+-rw-r--r--  2.0 unx       24 b- defN 23-Apr-10 23:34 skill_data_controls/locale/en-us/vocab/units.voc
+-rw-r--r--  2.0 unx      982 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/PKG-INFO
+-rw-r--r--  2.0 unx     1349 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/SOURCES.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/dependency_links.txt
+-rw-r--r--  2.0 unx       93 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/entry_points.txt
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/requires.txt
+-rw-r--r--  2.0 unx       20 b- defN 23-Apr-10 23:34 skill_data_controls/neon_skill_data_controls.egg-info/top_level.txt
+-rw-r--r--  2.0 unx    14831 b- defN 23-Apr-10 23:34 skill_data_controls/test/test_skill.py
+-rw-r--r--  2.0 unx     1635 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/LICENSE.md
+-rw-r--r--  2.0 unx     1053 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       93 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       20 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4769 b- defN 23-Apr-10 23:34 neon_skill_data_controls-0.3.1a0.dist-info/RECORD
+44 files, 41477 bytes uncompressed, 14268 bytes compressed:  65.6%
```

## zipnote {}

```diff
@@ -3,17 +3,14 @@
 
 Filename: skill_data_controls/README.md
 Comment: 
 
 Filename: skill_data_controls/__init__.py
 Comment: 
 
-Filename: skill_data_controls/data_utils.py
-Comment: 
-
 Filename: skill_data_controls/skill.json
 Comment: 
 
 Filename: skill_data_controls/version.py
 Comment: 
 
 Filename: skill_data_controls/locale/en-us/dialog/ask_clear_data.dialog
@@ -111,26 +108,26 @@
 
 Filename: skill_data_controls/neon_skill_data_controls.egg-info/top_level.txt
 Comment: 
 
 Filename: skill_data_controls/test/test_skill.py
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/LICENSE.md
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/LICENSE.md
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/METADATA
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/METADATA
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/WHEEL
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/WHEEL
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/entry_points.txt
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/entry_points.txt
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/top_level.txt
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/top_level.txt
 Comment: 
 
-Filename: neon_skill_data_controls-0.3.0.dist-info/RECORD
+Filename: neon_skill_data_controls-0.3.1a0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## skill_data_controls/__init__.py

```diff
@@ -27,15 +27,15 @@
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
 from enum import IntEnum
 from random import randint
 from mycroft_bus_client import Message
 from neon_utils.skills.neon_skill import NeonSkill
 from neon_utils.validator_utils import numeric_confirmation_validator
-from neon_utils.configuration_utils import get_neon_user_config
+from neon_utils.configuration_utils import get_user_config_from_mycroft_conf
 from neon_utils.user_utils import get_message_user
 from ovos_utils import classproperty
 from ovos_utils.log import LOG
 from ovos_utils.process_utils import RuntimeRequirements
 
 from mycroft.skills import intent_file_handler
 
@@ -64,36 +64,33 @@
                                    requires_network=False,
                                    requires_gui=False,
                                    no_internet_fallback=True,
                                    no_network_fallback=True,
                                    no_gui_fallback=True)
 
     @intent_file_handler("clear_data.intent")
-    def handle_data_erase(self, message):
+    def handle_data_erase(self, message: Message):
         """
         Handles a request to clear user data.
         This action will be confirmed numerically before executing
-        :param message: message object associated with request
+        :param message: Message associated with request
         """
         opt = str(message.data.get('dataset')).replace("user ", "")
         confirm_number = randint(100, 999)
         # LOG.info(self.confirm_number)
         LOG.info(opt)
         if opt in ['of']:  # Catch bad regex parsing
             utt = message.data['utterance']
             LOG.warning(utt)
             if " my " in utt:
                 opt = utt.split("my ")[1]
             else:
                 opt = utt
             LOG.info(opt)
 
-        # TODO: Below default is patching a bug in neon_utils
-        user = get_message_user(message) or "local"
-
         # Note that the below checks are ordered by request specificity
         if self.voc_match(opt, "likes"):
             dialog_opt = "word_liked_brands"
             to_clear = (self.UserData.CONF_LIKES,)
         elif self.voc_match(opt, "dislikes"):
             dialog_opt = "word_disliked_brands"
             to_clear = (self.UserData.CONF_DISLIKES,)
@@ -129,36 +126,43 @@
             validator = numeric_confirmation_validator(str(confirm_number))
             resp = self.get_response('ask_clear_data',
                                      {'option': self.translate(dialog_opt),
                                       'confirm': str(confirm_number)},
                                      validator)
             LOG.info(resp)
             if resp:
+                user = get_message_user(message) or "local"
                 for dtype in to_clear:
-                    self._clear_user_data(dtype, message)
+                    self._clear_user_data(dtype, message, user)
+
                 self.bus.emit(message.forward("neon.clear_data",
                                               {"username": user,
                                                "data_to_remove": [dtype.name
                                                                   for dtype in
                                                                   to_clear]}))
             else:
                 self.speak_dialog("confirm_no_action", private=True)
         else:
             LOG.warning(f"Invalid data type requested: {opt}")
 
     def _clear_user_data(self, data_type: UserData,
-                         message: Message):
+                         message: Message, username: str):
         """
-        Clears the requested data_type for the specified user and speaks some
-        confirmation.
+        Speaks a confirmation and performs any necessary profile updates for the
+        requested `data_type`.
+        :param data_type: UserData to clear
+        :param message: Message associated with request
+        :param username: string username to update profile for
         """
-        default_config = get_neon_user_config(self.file_system.path)
+        default_config = get_user_config_from_mycroft_conf()
+        default_config["user"]["username"] = username
+        LOG.info(f"Clearing profile for: {username}")
         if data_type == self.UserData.ALL_DATA:
             self.speak_dialog("confirm_clear_all", private=True)
-            self.update_profile(default_config.content, message)
+            self.update_profile(default_config, message)
             return
         if data_type == self.UserData.CONF_LIKES:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_liked_brands")},
                               private=True)
             return
         if data_type == self.UserData.CONF_DISLIKES:
@@ -173,38 +177,38 @@
                               {"kind": self.translate("word_transcriptions")},
                               private=True)
             return
         if data_type == self.UserData.PROFILE:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_profile_data")},
                               private=True)
-            updated_config = default_config.content["user"]
+            updated_config = default_config["user"]
             self.update_profile({"user": updated_config}, message)
             return
         if data_type == self.UserData.CACHES:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_caches")},
                               private=True)
             return
         if data_type == self.UserData.ALL_UNITS:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_units")},
                               private=True)
-            updated_config = default_config.content["units"]
+            updated_config = default_config["units"]
             self.update_profile({"units": updated_config}, message)
             return
         if data_type == self.UserData.ALL_MEDIA:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_media")},
                               private=True)
             return
         if data_type == self.UserData.ALL_LANGUAGE:
             self.speak_dialog("confirm_clear_data",
                               {"kind": self.translate("word_language")},
                               private=True)
-            updated_config = default_config.content["speech"]
+            updated_config = default_config["speech"]
             self.update_profile({"speech": updated_config}, message)
             return
 
 
 def create_skill():
     return DataControlsSkill()
```

## skill_data_controls/version.py

```diff
@@ -22,8 +22,8 @@
 # EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 # PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 # OR PROFITS;  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 # LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 # NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 # SOFTWARE,  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 
-__version__ = "0.3.0"
+__version__ = "0.3.1a0"
```

## skill_data_controls/locale/en-us/intent/clear_data.intent

```diff
@@ -1,3 +1,2 @@
 (clear|erase|delete|reset|remove) all (of |)(the |my |){dataset}
-(clear|erase|delete|reset|remove) my {dataset}
-i want (you |)to (clear|erase|delete|reset|remove) (all of |)(the|my) {dataset}
+(i want (you |)to |)(clear|erase|delete|reset|remove) (all of |)(the|my) {dataset}
```

## skill_data_controls/locale/en-us/vocab/profile.voc

```diff
@@ -1,2 +1,3 @@
 profile
-account
+account
+user
```

## skill_data_controls/neon_skill_data_controls.egg-info/PKG-INFO

```diff
@@ -1,40 +1,40 @@
 Metadata-Version: 2.1
 Name: neon-skill-data-controls
-Version: 0.3.0
-Summary: UNKNOWN
+Version: 0.3.1a0
 Home-page: https://github.com/NeonGeckoCom/skill-data_controls
 Author: Neongecko
 Author-email: developers@neon.ai
 License: BSD-3-Clause
-Description: # <img src='https://0000.us/klatchat/app/files/neon_images/icons/neon_skill.png' card_color="#FF8600" width="50" style="vertical-align:bottom">Data Controls
-        ## Summary
-        Manage user data
-        
-        ## Description
-        Manage saved transcriptions and other user-generated media.
-        
-        ## Examples
-        - Clear my user transcriptions.
-        - Erase all pictures.
-        - Delete my profile.
-        
-        ## Contact Support
-        Use the [link](https://neongecko.com/ContactUs) or [submit an issue on GitHub](https://help.github.com/en/articles/creating-an-issue)
-        
-        ## Credits
-        
-        [NeonGeckoCom](https://github.com/NeonGeckoCom)
-        [NeonDaniel](https://github.com/NeonDaniel)
-        
-        ## Category
-        **Configuration**
-        
-        ## Tags
-        #NeonGecko Original
-        #NeonAI
-        #Data
-        #Settings
-        #Privacy
-        #Profile
-Platform: UNKNOWN
 Description-Content-Type: text/markdown
+License-File: LICENSE.md
+
+# <img src='https://0000.us/klatchat/app/files/neon_images/icons/neon_skill.png' card_color="#FF8600" width="50" style="vertical-align:bottom">Data Controls
+## Summary
+Manage user data
+
+## Description
+Manage saved transcriptions and other user-generated media.
+
+## Examples
+- Clear my user transcriptions.
+- Erase all pictures.
+- Delete my profile.
+
+## Contact Support
+Use the [link](https://neongecko.com/ContactUs) or [submit an issue on GitHub](https://help.github.com/en/articles/creating-an-issue)
+
+## Credits
+
+[NeonGeckoCom](https://github.com/NeonGeckoCom)
+[NeonDaniel](https://github.com/NeonDaniel)
+
+## Category
+**Configuration**
+
+## Tags
+#NeonGecko Original
+#NeonAI
+#Data
+#Settings
+#Privacy
+#Profile
```

## skill_data_controls/neon_skill_data_controls.egg-info/SOURCES.txt

```diff
@@ -1,13 +1,39 @@
 LICENSE.md
 README.md
 __init__.py
-data_utils.py
 setup.py
+skill.json
 version.py
+locale/en-us/dialog/ask_clear_data.dialog
+locale/en-us/dialog/confirm_clear_all.dialog
+locale/en-us/dialog/confirm_clear_data.dialog
+locale/en-us/dialog/confirm_no_action.dialog
+locale/en-us/dialog/word_all_brands.dialog
+locale/en-us/dialog/word_all_data.dialog
+locale/en-us/dialog/word_caches.dialog
+locale/en-us/dialog/word_disliked_brands.dialog
+locale/en-us/dialog/word_language.dialog
+locale/en-us/dialog/word_liked_brands.dialog
+locale/en-us/dialog/word_media.dialog
+locale/en-us/dialog/word_profile_data.dialog
+locale/en-us/dialog/word_transcriptions.dialog
+locale/en-us/dialog/word_units.dialog
+locale/en-us/intent/clear_data.intent
+locale/en-us/vocab/brands.voc
+locale/en-us/vocab/cache.voc
+locale/en-us/vocab/cancel.voc
+locale/en-us/vocab/data.voc
+locale/en-us/vocab/dislikes.voc
+locale/en-us/vocab/language.voc
+locale/en-us/vocab/likes.voc
+locale/en-us/vocab/media.voc
+locale/en-us/vocab/profile.voc
+locale/en-us/vocab/transcription.voc
+locale/en-us/vocab/units.voc
 neon_skill_data_controls.egg-info/PKG-INFO
 neon_skill_data_controls.egg-info/SOURCES.txt
 neon_skill_data_controls.egg-info/dependency_links.txt
 neon_skill_data_controls.egg-info/entry_points.txt
 neon_skill_data_controls.egg-info/requires.txt
 neon_skill_data_controls.egg-info/top_level.txt
 test/test_skill.py
```

## skill_data_controls/neon_skill_data_controls.egg-info/entry_points.txt

```diff
@@ -1,3 +1,2 @@
 [ovos.plugin.skill]
-skill-data_controls.neongeckocom=skill_data_controls:DataControlsSkill
-
+skill-data_controls.neongeckocom = skill_data_controls:DataControlsSkill
```

## skill_data_controls/test/test_skill.py

```diff
@@ -34,15 +34,16 @@
 from threading import Event
 from os import mkdir
 from os.path import dirname, join, exists
 from mock import Mock
 from mock.mock import call
 from mycroft_bus_client import Message
 from ovos_utils.messagebus import FakeBus
-from neon_utils.configuration_utils import get_neon_user_config
+from neon_utils.configuration_utils import get_neon_user_config, \
+    get_user_config_from_mycroft_conf
 
 from mycroft.skills.skill_loader import SkillLoader
 
 
 class TestSkill(unittest.TestCase):
 
     @classmethod
@@ -158,24 +159,27 @@
 
         self.skill.bus.on("neon.clear_data", _handle_data_clear)
         self.skill.get_response = Mock(return_value=True)
         real_clear_user_data = self.skill._clear_user_data
         self.skill._clear_user_data = Mock()
 
         def _check_clear_user_data(dtype, message):
-            self.skill._clear_user_data.assert_called_with(dtype, message)
+            self.skill._clear_user_data.assert_called_with(dtype, message,
+                                                           "local")
             bus_event.wait(3)
             self.assertEqual(clear_data_message.context, message.context)
             self.assertEqual(clear_data_message.data["data_to_remove"],
                              [dtype.name])
             bus_event.clear()
 
+        # Test invalid request
         self.skill.handle_data_erase(invalid_message)
         self.skill._clear_user_data.assert_not_called()
 
+        # Test brands/transcript service
         self.skill.handle_data_erase(selected_message)
         _check_get_response("word_liked_brands", True)
         _check_clear_user_data(
             self.skill.UserData.CONF_LIKES, selected_message)
         self.skill.handle_data_erase(ignored_message)
         _check_get_response("word_disliked_brands", True)
         _check_clear_user_data(
@@ -185,147 +189,166 @@
         _check_get_response("word_transcriptions", True)
         _check_clear_user_data(
             self.skill.UserData.ALL_TR, transcription_message
         )
         self.skill.handle_data_erase(brands_message)
         _check_get_response("word_all_brands", True)
         self.skill._clear_user_data.assert_has_calls([
-            call(self.skill.UserData.CONF_LIKES, brands_message),
-            call(self.skill.UserData.CONF_DISLIKES, brands_message)
+            call(self.skill.UserData.CONF_LIKES, brands_message, "local"),
+            call(self.skill.UserData.CONF_DISLIKES, brands_message, "local")
         ])
         bus_event.wait(5)
         self.assertEqual(clear_data_message.context, brands_message.context)
         self.assertEqual(clear_data_message.data["data_to_remove"],
                          ["CONF_LIKES", "CONF_DISLIKES"])
         bus_event.clear()
+
+        # Test all data
         self.skill.handle_data_erase(all_data_message)
         _check_get_response("word_all_data", True)
         _check_clear_user_data(
             self.skill.UserData.ALL_DATA, all_data_message
         )
+
+        # Test media
         self.skill.handle_data_erase(media_message)
         _check_get_response("word_media", True)
         _check_clear_user_data(
             self.skill.UserData.ALL_MEDIA, media_message
         )
+
+        # Test profile data
         self.skill.handle_data_erase(units_message)
         _check_get_response("word_units", True)
         _check_clear_user_data(
             self.skill.UserData.ALL_UNITS, units_message
         )
         self.skill.handle_data_erase(language_message)
         _check_get_response("word_language", True)
         _check_clear_user_data(
             self.skill.UserData.ALL_LANGUAGE, language_message
         )
-        self.skill.handle_data_erase(cache_message)
-        _check_get_response("word_caches", True)
-        _check_clear_user_data(
-            self.skill.UserData.CACHES, cache_message
-        )
         self.skill.handle_data_erase(profile_message)
         _check_get_response("word_profile_data", True)
         _check_clear_user_data(
             self.skill.UserData.PROFILE, profile_message
         )
 
+        # Test Cache
+        self.skill.handle_data_erase(cache_message)
+        _check_get_response("word_caches", True)
+        _check_clear_user_data(
+            self.skill.UserData.CACHES, cache_message
+        )
+
         self.skill.get_response = real_get_response
         self.skill._clear_user_data = real_clear_user_data
 
     def test_clear_user_data(self):
         test_config_path = join(dirname(__file__), "test_config",
                                 "test_config.yml")
         shutil.copy2(test_config_path, join(dirname(test_config_path),
                                             "ngi_user_info.yml"))
         test_config = get_neon_user_config(join(dirname(__file__),
                                                 "test_config"))
         username = test_config["user"]["username"]
         test_message = Message("test", {"key": "val"},
                                {"username": username,
                                 "user_profiles": [test_config]})
-        default_user_config = get_neon_user_config(self.skill.file_system.path)
+        new_user_config = get_user_config_from_mycroft_conf()
+        new_user_config['user']['username'] = username
 
         real_update_profile = self.skill.update_profile
         self.skill.update_profile = Mock()
 
+        # Clear full profile
         self.skill._clear_user_data(self.skill.UserData.ALL_DATA,
-                                    test_message)
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with("confirm_clear_all",
                                                    private=True)
         self.skill.update_profile.assert_called_with(
-            default_user_config.content, test_message)
+            new_user_config, test_message)
+        self.assertIsNotNone(new_user_config['user']['username'])
 
+        # Clear brands config
         self.skill._clear_user_data(self.skill.UserData.CONF_LIKES,
-                                    test_message)
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
             {"kind": self.skill.translate("word_liked_brands")},
             private=True
         )
         self.skill._clear_user_data(self.skill.UserData.CONF_DISLIKES,
-                                    test_message)
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
             {"kind": self.skill.translate("word_disliked_brands")},
             private=True
         )
         self.skill.update_profile.assert_called_with(
             {"brands": {"ignored_brands": {}}}, test_message
         )
         self.skill._clear_user_data(self.skill.UserData.ALL_TR,
-                                    test_message)
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
             {"kind": self.skill.translate("word_transcriptions")},
             private=True
         )
+        self.assertIsNotNone(new_user_config['user']['username'])
+
+        # Update profile sections
         self.skill._clear_user_data(self.skill.UserData.PROFILE,
-                                    test_message)
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
             {"kind": self.skill.translate("word_profile_data")},
             private=True
         )
         self.skill.update_profile.assert_called_with(
-            {"user": default_user_config["user"]}, test_message
+            {"user": new_user_config["user"]}, test_message
         )
-        self.skill._clear_user_data(self.skill.UserData.CACHES,
-                                    test_message)
+        self.skill._clear_user_data(self.skill.UserData.ALL_UNITS,
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
-            {"kind": self.skill.translate("word_caches")},
+            {"kind": self.skill.translate("word_units")},
             private=True
         )
-        self.skill._clear_user_data(self.skill.UserData.ALL_UNITS,
-                                    test_message)
+        self.skill.update_profile.assert_called_with(
+            {"units": new_user_config["units"]}, test_message
+        )
+        self.skill._clear_user_data(self.skill.UserData.ALL_LANGUAGE,
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
-            {"kind": self.skill.translate("word_units")},
+            {"kind": self.skill.translate("word_language")},
             private=True
         )
         self.skill.update_profile.assert_called_with(
-            {"units": default_user_config["units"]}, test_message
+            {"speech": new_user_config["speech"]}, test_message
         )
-        self.skill._clear_user_data(self.skill.UserData.ALL_MEDIA,
-                                    test_message)
+
+        # Clear caches
+        self.skill._clear_user_data(self.skill.UserData.CACHES,
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
-            {"kind": self.skill.translate("word_media")},
+            {"kind": self.skill.translate("word_caches")},
             private=True
         )
-        self.skill._clear_user_data(self.skill.UserData.ALL_LANGUAGE,
-                                    test_message)
+
+        # Clear media
+        self.skill._clear_user_data(self.skill.UserData.ALL_MEDIA,
+                                    test_message, username)
         self.skill.speak_dialog.assert_called_with(
             "confirm_clear_data",
-            {"kind": self.skill.translate("word_language")},
+            {"kind": self.skill.translate("word_media")},
             private=True
         )
-        self.skill.update_profile.assert_called_with(
-            {"speech": default_user_config["speech"]}, test_message
-        )
 
         self.skill.update_profile = real_update_profile
         os.remove(test_config.file_path)
         os.remove(join(test_config.path, ".ngi_user_info.tmp"))
 
 
 if __name__ == '__main__':
```

## Comparing `neon_skill_data_controls-0.3.0.dist-info/LICENSE.md` & `neon_skill_data_controls-0.3.1a0.dist-info/LICENSE.md`

 * *Files identical despite different names*

## Comparing `neon_skill_data_controls-0.3.0.dist-info/METADATA` & `neon_skill_data_controls-0.3.1a0.dist-info/METADATA`

 * *Files 20% similar despite different names*

```diff
@@ -1,17 +1,16 @@
 Metadata-Version: 2.1
 Name: neon-skill-data-controls
-Version: 0.3.0
-Summary: UNKNOWN
+Version: 0.3.1a0
 Home-page: https://github.com/NeonGeckoCom/skill-data_controls
 Author: Neongecko
 Author-email: developers@neon.ai
 License: BSD-3-Clause
-Platform: UNKNOWN
 Description-Content-Type: text/markdown
+License-File: LICENSE.md
 Requires-Dist: neon-utils (~=1.0)
 Requires-Dist: ovos-utils (~=0.0.28)
 
 # <img src='https://0000.us/klatchat/app/files/neon_images/icons/neon_skill.png' card_color="#FF8600" width="50" style="vertical-align:bottom">Data Controls
 ## Summary
 Manage user data
 
@@ -37,8 +36,7 @@
 ## Tags
 #NeonGecko Original
 #NeonAI
 #Data
 #Settings
 #Privacy
 #Profile
-
```

## Comparing `neon_skill_data_controls-0.3.0.dist-info/RECORD` & `neon_skill_data_controls-0.3.1a0.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,45 +1,44 @@
 skill_data_controls/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
 skill_data_controls/README.md,sha256=9L3q1mslgnIeWkG8x04RSqRfonw3-GCtmypEPwRB1T0,709
-skill_data_controls/__init__.py,sha256=XRSwU9tL83OtaEqLQCESW9nRiSVPZ1bsBKe5_14R0MU,9656
-skill_data_controls/data_utils.py,sha256=G13rY1vql1xGlF9h5D8mM2mEgGRHqgtIe5k9Aik1yIA,4374
+skill_data_controls/__init__.py,sha256=IBVo6oLHlZro_OogeJBza91vrg7fG-BZbZItHe_8O2c,9881
 skill_data_controls/skill.json,sha256=8d_tjtLoYvNMS_KaYAkjTfufIOFiY1KPk7XRRWtU7VI,1291
-skill_data_controls/version.py,sha256=o2dKr1ZSsyUJ9G9ztfiJpNQxgz7B_KRDsqrTJ0SDq-Y,1854
+skill_data_controls/version.py,sha256=9lAvlWbMp18mhUh2CuuL6ykO9kQLjEvT6xmHO8AQf2M,1856
 skill_data_controls/locale/en-us/dialog/ask_clear_data.dialog,sha256=qt2C4HnrFOso943Vkpuph1O3673ZE1EBpq-EcU3ZnQQ,117
 skill_data_controls/locale/en-us/dialog/confirm_clear_all.dialog,sha256=sPoJG-VuYPL4esl4irgeW682WvEFMwRYRAT6gRlu38s,126
 skill_data_controls/locale/en-us/dialog/confirm_clear_data.dialog,sha256=cDVtqOuaHw-6HEEwjAYuYl7pTFsVX1lMXT6g6f3y8z8,23
 skill_data_controls/locale/en-us/dialog/confirm_no_action.dialog,sha256=F_vWnqYPYnQNbjAs34u10NXadv3GgBiVBlJC0s_blIE,25
 skill_data_controls/locale/en-us/dialog/word_all_brands.dialog,sha256=d38FDiPlQ32kUrLAv4SQvh7_sI4qQvz2slKD0VbUs3w,22
 skill_data_controls/locale/en-us/dialog/word_all_data.dialog,sha256=R7tcDz2emtopfFLh34SrOs2mQ2zT5ozGLgE6mmQcoug,16
 skill_data_controls/locale/en-us/dialog/word_caches.dialog,sha256=ukkelJImIvmbQuDBHAoGhokiKG33JuGi2BDPe7kK9_A,16
 skill_data_controls/locale/en-us/dialog/word_disliked_brands.dialog,sha256=8-x_VZI08mE14sFHIbXaxC_8IGorfT4BjnHPIAWQ-ug,14
 skill_data_controls/locale/en-us/dialog/word_language.dialog,sha256=lWjZFlUhutyDWa1Z3G4yfGdYzTOvbcfnLnQNWJpfN3s,20
 skill_data_controls/locale/en-us/dialog/word_liked_brands.dialog,sha256=kuR8Bt6Di1PGQKdot6rcTEwE-FsREjpBj36KYENNwY4,12
 skill_data_controls/locale/en-us/dialog/word_media.dialog,sha256=WpgKfRA0XqmO_J1KOHiakNPfOttKM3TKg0bhFmA-p4w,51
 skill_data_controls/locale/en-us/dialog/word_profile_data.dialog,sha256=asdtR7ZZFH6WAPXWLAcMlQIifQ1x6QEcpodEVgLHvK8,21
 skill_data_controls/locale/en-us/dialog/word_transcriptions.dialog,sha256=stebqRaIEF1lz2OokQTG0-YxbXPm4y0jIuMmeG9RAHg,35
 skill_data_controls/locale/en-us/dialog/word_units.dialog,sha256=5AjfizzZF-IFlgCSDKGb9j0oc2H_ODjj-TauQpI0nU8,16
-skill_data_controls/locale/en-us/intent/clear_data.intent,sha256=D83H_OCVPqMYpnoHKQP3uw885KYiA_Y1rw-IMRPWS60,191
+skill_data_controls/locale/en-us/intent/clear_data.intent,sha256=vBNqOtuvH0QWWhFT_NAxxwnKOU7coqun45B0n6xM3bs,147
 skill_data_controls/locale/en-us/vocab/brands.voc,sha256=cPwWKIo-4MFdQXS-603urE7-LeN5IPxn3YjNfqmzbak,30
 skill_data_controls/locale/en-us/vocab/cache.voc,sha256=wk8QRZZ2pwn3Gg6uvgic3W8K6-uazwE2Jj0Nb8BxN-w,34
 skill_data_controls/locale/en-us/vocab/cancel.voc,sha256=euTomjzRFam58yQjoh5fXrqFeY9qlJRv3Q_Gw2_YxbM,30
 skill_data_controls/locale/en-us/vocab/data.voc,sha256=2HLj5DeLeseIgHPMR48miINTH1FTjb77SlRRQCQG9EQ,21
 skill_data_controls/locale/en-us/vocab/dislikes.voc,sha256=8hIWptScNTZ4IL9kXA_hu8v0qwxFIGjIjlXK_MfqfPA,31
 skill_data_controls/locale/en-us/vocab/language.voc,sha256=5E5iAx0alSHf5M5WDrYEuNAeqDfwuYR7mEKfplaabrg,18
 skill_data_controls/locale/en-us/vocab/likes.voc,sha256=U1mZwET2kGqdxloLmF_PDuchuscNYd-zqdoXLeUkY5o,164
 skill_data_controls/locale/en-us/vocab/media.voc,sha256=W0zluuaMUg5D9i2huA0dBYRYliBW9yw8veRu72eIy98,48
-skill_data_controls/locale/en-us/vocab/profile.voc,sha256=u4AWDrvU4Hq3fDJgQxBKeCOElTHmw0qD2IA-Uq61ENY,15
+skill_data_controls/locale/en-us/vocab/profile.voc,sha256=sGYvqep_ZIbxg-itObOVMRmlvCrs0WVUXyuBCSDw9r4,20
 skill_data_controls/locale/en-us/vocab/transcription.voc,sha256=p-sUHd4SLj4tQ7igtG20vGXBDNWdoRDmrJWaQgI6QTU,51
 skill_data_controls/locale/en-us/vocab/units.voc,sha256=et6g-QLu3dWNbFwsAihdX-y-aUD_I8HBf5VeAV5aTzo,24
-skill_data_controls/neon_skill_data_controls.egg-info/PKG-INFO,sha256=fGeZNrbnD6oTut93chMSWxCq-uQrGhgGYdbyLPyniug,1234
-skill_data_controls/neon_skill_data_controls.egg-info/SOURCES.txt,sha256=4sgTFPllC1kNb9sqAdxSGnKQNS5StkUG1hYtT1Ez4TI,375
+skill_data_controls/neon_skill_data_controls.egg-info/PKG-INFO,sha256=YKwbGkSxsXr8iAwRSnorxL4v2_D1uo8CuRicZIzWRUg,982
+skill_data_controls/neon_skill_data_controls.egg-info/SOURCES.txt,sha256=thKPlyx0i0HFGi4u_5K-RxMrOvVRZrtzUsV1Xhu_M-0,1349
 skill_data_controls/neon_skill_data_controls.egg-info/dependency_links.txt,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-skill_data_controls/neon_skill_data_controls.egg-info/entry_points.txt,sha256=iBVmP20a5M1Gjavpe1CfY1VhzRn7skhbNXYSM02QWi8,92
+skill_data_controls/neon_skill_data_controls.egg-info/entry_points.txt,sha256=5C-I-ujH-qJod55kuhDXP6CqgSAnGWBa9TZsnnUntZI,93
 skill_data_controls/neon_skill_data_controls.egg-info/requires.txt,sha256=pz3roSJpsjnAbMctBC34kno9w5tuySzbbI1Tqsde2bw,35
 skill_data_controls/neon_skill_data_controls.egg-info/top_level.txt,sha256=7SXrFY4Aj4eU7DjvdzHtuheh5lyitda7OJ9OePYOHZU,20
-skill_data_controls/test/test_skill.py,sha256=0G3xpPed0Ff8kz1zD1Y-urDiOJd_k3m0TqHqlhPulGE,14158
-neon_skill_data_controls-0.3.0.dist-info/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
-neon_skill_data_controls-0.3.0.dist-info/METADATA,sha256=er6wxD7lethO-8SYLnxRdGwaeIcSqhsKp7EyaPXzbKo,1062
-neon_skill_data_controls-0.3.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-neon_skill_data_controls-0.3.0.dist-info/entry_points.txt,sha256=iBVmP20a5M1Gjavpe1CfY1VhzRn7skhbNXYSM02QWi8,92
-neon_skill_data_controls-0.3.0.dist-info/top_level.txt,sha256=7SXrFY4Aj4eU7DjvdzHtuheh5lyitda7OJ9OePYOHZU,20
-neon_skill_data_controls-0.3.0.dist-info/RECORD,,
+skill_data_controls/test/test_skill.py,sha256=0jT4INp6hd6C-3zOo1tk2-rGdoDVpiiUG9-PRCdRTUo,14831
+neon_skill_data_controls-0.3.1a0.dist-info/LICENSE.md,sha256=KxXbLh0XZkaLbNrj5ksC1Hl04EeiMbY-I0pGhKTPBRc,1635
+neon_skill_data_controls-0.3.1a0.dist-info/METADATA,sha256=3vykemqkFJ0Jy3cuNnuOygkHMe2UzCIl6ADmKoa7L-w,1053
+neon_skill_data_controls-0.3.1a0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+neon_skill_data_controls-0.3.1a0.dist-info/entry_points.txt,sha256=5C-I-ujH-qJod55kuhDXP6CqgSAnGWBa9TZsnnUntZI,93
+neon_skill_data_controls-0.3.1a0.dist-info/top_level.txt,sha256=7SXrFY4Aj4eU7DjvdzHtuheh5lyitda7OJ9OePYOHZU,20
+neon_skill_data_controls-0.3.1a0.dist-info/RECORD,,
```

