# Comparing `tmp/odoo14_addon_base_sequence_default-14.0.0.1.1.dev2-py3-none-any.whl.zip` & `tmp/odoo14_addon_base_sequence_default-14.0.1.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,21 @@
-Zip file size: 25053 bytes, number of entries: 19
--rw-r--r--  2.0 unx     4367 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/__init__.py
--rw-r--r--  2.0 unx      644 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/__manifest__.py
--rw-r--r--  2.0 unx      582 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/demo/ir_sequence_demo.xml
--rw-r--r--  2.0 unx      481 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/i18n/base_sequence_default.pot
--rw-r--r--  2.0 unx       19 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/models/__init__.py
--rw-r--r--  2.0 unx     1137 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/models/base.py
--rw-r--r--  2.0 unx      724 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      171 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      128 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      221 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/readme/USAGE.rst
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/static/description/icon.png
--rw-r--r--  2.0 unx    14256 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/static/description/index.html
--rw-r--r--  2.0 unx       35 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/tests/__init__.py
--rw-r--r--  2.0 unx     1386 b- defN 23-Mar-28 11:52 odoo/addons/base_sequence_default/tests/test_project_project.py
--rw-r--r--  2.0 unx     5001 b- defN 23-Mar-28 11:52 odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-28 11:52 odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-28 11:52 odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2104 b- defN 23-Mar-28 11:52 odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/RECORD
-19 files, 40829 bytes uncompressed, 21403 bytes compressed:  47.6%
+Zip file size: 25459 bytes, number of entries: 19
+-rw-r--r--  2.0 unx     4660 b- defN 23-Apr-11 10:36 odoo/addons/base_sequence_default/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/__init__.py
+-rw-r--r--  2.0 unx      652 b- defN 23-Apr-11 10:36 odoo/addons/base_sequence_default/__manifest__.py
+-rw-r--r--  2.0 unx      582 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/demo/ir_sequence_demo.xml
+-rw-r--r--  2.0 unx      481 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/i18n/base_sequence_default.pot
+-rw-r--r--  2.0 unx       19 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/models/__init__.py
+-rw-r--r--  2.0 unx     1456 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/models/base.py
+-rw-r--r--  2.0 unx      724 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      171 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      128 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      376 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/readme/USAGE.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/static/description/icon.png
+-rw-r--r--  2.0 unx    14547 b- defN 23-Apr-11 10:36 odoo/addons/base_sequence_default/static/description/index.html
+-rw-r--r--  2.0 unx       35 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/tests/__init__.py
+-rw-r--r--  2.0 unx     1535 b- defN 23-Apr-11 10:35 odoo/addons/base_sequence_default/tests/test_project_project.py
+-rw-r--r--  2.0 unx     5289 b- defN 23-Apr-11 10:36 odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-11 10:36 odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-11 10:36 odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2084 b- defN 23-Apr-11 10:36 odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/RECORD
+19 files, 42312 bytes uncompressed, 21849 bytes compressed:  48.4%
```

## zipnote {}

```diff
@@ -39,20 +39,20 @@
 
 Filename: odoo/addons/base_sequence_default/tests/__init__.py
 Comment: 
 
 Filename: odoo/addons/base_sequence_default/tests/test_project_project.py
 Comment: 
 
-Filename: odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/METADATA
+Filename: odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/WHEEL
+Filename: odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/top_level.txt
+Filename: odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/RECORD
+Filename: odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/base_sequence_default/README.rst

```diff
@@ -58,14 +58,16 @@
 Usage
 =====
 
 To use this module, it is necessary to:
 
 #. Follow the configuration instructions.
 #. Create a record of the model you configured.
+#. Leave empty the fields where you configured a sequence. If they are required
+   fields, set value to "-" to trigger the automatic sequence on creation.
 #. Check that the field defined in the sequence is set to the next value in the sequence.
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/server-tools/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
@@ -101,15 +103,18 @@
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
 .. |maintainer-Shide| image:: https://github.com/Shide.png?size=40px
     :target: https://github.com/Shide
     :alt: Shide
+.. |maintainer-yajo| image:: https://github.com/yajo.png?size=40px
+    :target: https://github.com/yajo
+    :alt: yajo
 
-Current `maintainer <https://odoo-community.org/page/maintainer-role>`__:
+Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
-|maintainer-Shide| 
+|maintainer-Shide| |maintainer-yajo| 
 
 This module is part of the `OCA/server-tools <https://github.com/OCA/server-tools/tree/14.0/base_sequence_default>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/base_sequence_default/__manifest__.py

```diff
@@ -1,19 +1,19 @@
 # Copyright 2023 Moduon Team S.L.
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl-3.0)
 
 {
     "name": "Default Fields with Sequence",
     "summary": "Use sequences for default values of fields when creating a new record",
-    "version": "14.0.0.1.0",
+    "version": "14.0.1.0.0",
     "development_status": "Alpha",
     "category": "Tools",
     "website": "https://github.com/OCA/server-tools",
     "author": "Moduon, Odoo Community Association (OCA)",
-    "maintainers": ["Shide"],
+    "maintainers": ["Shide", "yajo"],
     "license": "AGPL-3",
     "application": False,
     "installable": True,
     "depends": [
         "base",
     ],
     "demo": [
```

## odoo/addons/base_sequence_default/models/base.py

```diff
@@ -1,37 +1,45 @@
 # Copyright 2023 Moduon Team S.L.
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl-3.0)
 
+import logging
 
 from odoo import api, models
 
 SEQUENCE_PREFIX = "base_sequence_default"
+_logger = logging.getLogger(__name__)
 
 
 class Base(models.AbstractModel):
     _inherit = "base"
 
-    @api.model
-    def default_get(self, fields_list):
+    @api.model_create_multi
+    def create(self, vals_list):
         """Produce sequenced defaults if DB is configured for that."""
-        res = super().default_get(fields_list)
+        result = super().create(vals_list)
+        # Get sequences for fields in this model
         prefix = f"{SEQUENCE_PREFIX}.{self._name}.fields."
         model_sequences = (
             self.env["ir.sequence"]
             .sudo()
             .search(
                 [
                     ("code", "=like", f"{prefix}%"),
                     ("company_id", "in", [self.env.company.id, False]),
                 ],
                 order="company_id",
             )
         )
-        sequences_by_field = {seq.code[len(prefix) :]: seq for seq in model_sequences}
-        for fname in fields_list:
-            try:
-                seq = sequences_by_field[fname]
-            except KeyError:
-                # No sequence? No problem
-                continue
-            res[fname] = seq.next_by_id()
-        return res
+        for record in result:
+            for seq in model_sequences:
+                fname = seq.code[len(prefix) :]
+                if fname not in record._fields:
+                    _logger.warning(
+                        "Ignoring sequence %s; missing field %s in model %s",
+                        seq.code,
+                        fname,
+                        self._name,
+                    )
+                    continue
+                if record[fname] in {False, "-"}:
+                    record[fname] = seq.next_by_id()
+        return result
```

## odoo/addons/base_sequence_default/readme/USAGE.rst

```diff
@@ -1,5 +1,7 @@
 To use this module, it is necessary to:
 
 #. Follow the configuration instructions.
 #. Create a record of the model you configured.
+#. Leave empty the fields where you configured a sequence. If they are required
+   fields, set value to "-" to trigger the automatic sequence on creation.
 #. Check that the field defined in the sequence is set to the next value in the sequence.
```

## odoo/addons/base_sequence_default/static/description/index.html

### odoo/addons/base_sequence_default/static/description/index.html

```diff
@@ -468,14 +468,16 @@
         <h1>
           <a class="toc-backref" href="#id2">Usage</a>
         </h1>
         <p>To use this module, it is necessary to:</p>
         <ol class="arabic simple">
           <li>Follow the configuration instructions.</li>
           <li>Create a record of the model you configured.</li>
+          <li>Leave empty the fields where you configured a sequence. If they are required
+fields, set value to “-” to trigger the automatic sequence on creation.</li>
           <li>Check that the field defined in the sequence is set to the next value in the sequence.</li>
         </ol>
       </div>
       <div class="section" id="bug-tracker">
         <h1>
           <a class="toc-backref" href="#id3">Bug Tracker</a>
         </h1>
@@ -533,21 +535,24 @@
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
           <p>
             Current
-            <a class="reference external" href="https://odoo-community.org/page/maintainer-role">maintainer</a>
+            <a class="reference external" href="https://odoo-community.org/page/maintainer-role">maintainers</a>
             :
           </p>
           <p>
             <a class="reference external" href="https://github.com/Shide">
               <img alt="Shide" src="https://github.com/Shide.png?size=40px"/>
             </a>
+            <a class="reference external" href="https://github.com/yajo">
+              <img alt="yajo" src="https://github.com/yajo.png?size=40px"/>
+            </a>
           </p>
           <p>
             This module is part of the
             <a class="reference external" href="https://github.com/OCA/server-tools/tree/14.0/base_sequence_default">OCA/server-tools</a>
             project on GitHub.
           </p>
           <p>
```

## odoo/addons/base_sequence_default/tests/test_project_project.py

```diff
@@ -30,10 +30,14 @@
                     "number_increment": 1,
                 },
             ]
         )
 
     def test_partner_default_field(self):
         """Test that new created partner has the correct default field values."""
-        with Form(self.env["res.partner"]) as pp_form:
-            self.assertEqual(pp_form.name, "PN/001")
-            self.assertEqual(pp_form.mobile, "+34 000000001")
+        partner_f = Form(self.env["res.partner"])
+        self.assertEqual(partner_f.name, False)
+        self.assertEqual(partner_f.mobile, False)
+        partner_f.name = "-"
+        partner = partner_f.save()
+        self.assertEqual(partner.name, "PN/001")
+        self.assertEqual(partner.mobile, "+34 000000001")
```

## Comparing `odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/METADATA` & `odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/METADATA`

 * *Files 12% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-base-sequence-default
-Version: 14.0.0.1.1.dev2
+Version: 14.0.1.0.0
 Summary: Use sequences for default values of fields when creating a new record
 Home-page: https://github.com/OCA/server-tools
 Author: Moduon, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -75,14 +75,16 @@
 Usage
 =====
 
 To use this module, it is necessary to:
 
 #. Follow the configuration instructions.
 #. Create a record of the model you configured.
+#. Leave empty the fields where you configured a sequence. If they are required
+   fields, set value to "-" to trigger the automatic sequence on creation.
 #. Check that the field defined in the sequence is set to the next value in the sequence.
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/server-tools/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
@@ -118,17 +120,20 @@
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
 .. |maintainer-Shide| image:: https://github.com/Shide.png?size=40px
     :target: https://github.com/Shide
     :alt: Shide
+.. |maintainer-yajo| image:: https://github.com/yajo.png?size=40px
+    :target: https://github.com/yajo
+    :alt: yajo
 
-Current `maintainer <https://odoo-community.org/page/maintainer-role>`__:
+Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
-|maintainer-Shide| 
+|maintainer-Shide| |maintainer-yajo| 
 
 This module is part of the `OCA/server-tools <https://github.com/OCA/server-tools/tree/14.0/base_sequence_default>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/RECORD` & `odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,19 +1,19 @@
-odoo/addons/base_sequence_default/README.rst,sha256=jb6IDD2FFoQLeUqwWNiAnYQVHEAa4hlTYZyezPFDWxE,4367
+odoo/addons/base_sequence_default/README.rst,sha256=vENqAvc0TtMBWBhMZZrs4nB54M98Bxp7w9ZOahSE7uM,4660
 odoo/addons/base_sequence_default/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/base_sequence_default/__manifest__.py,sha256=9sNzpCSxGRjvUBsY3Y8i0zW_vn-jtWxrze_zSreMdEk,644
+odoo/addons/base_sequence_default/__manifest__.py,sha256=RI_C0VN0dAroS3b7XoPo8_0XJMMaxVAgjOhquOuGk1U,652
 odoo/addons/base_sequence_default/demo/ir_sequence_demo.xml,sha256=q3wPp569fzHZFkx3nSFIVfPMKtFMabEHwojXWrD-1c8,582
 odoo/addons/base_sequence_default/i18n/base_sequence_default.pot,sha256=GJU8IJilWiTTCaFCWnPaA_8ujqBLrYfs7H4iBu5clPE,481
 odoo/addons/base_sequence_default/models/__init__.py,sha256=9pIQnc7H3xgVNpi7n3I18hg04S4IkX5mnAfl9cv7RBE,19
-odoo/addons/base_sequence_default/models/base.py,sha256=1dJ8fknPIzPsT-XHAUz3dJGhEIKjWtEaZkfierr6pGQ,1137
+odoo/addons/base_sequence_default/models/base.py,sha256=-LLduc6reYM81JFIy0P1tJdP1GGdctYyJigOUdgYIU4,1456
 odoo/addons/base_sequence_default/readme/CONFIGURE.rst,sha256=YMgzbplIuoxd3RpQiB5pOXlmoj4QHu3Z9ok8isbZ78A,724
 odoo/addons/base_sequence_default/readme/CONTRIBUTORS.rst,sha256=e5M3URCJibOKCF0Z8Bw_pTf66d_2wwD_WSd3MZsVUrk,171
 odoo/addons/base_sequence_default/readme/DESCRIPTION.rst,sha256=swSsi4Y5la-6I-9v7bWpxODfiKD_RhO6yXpxUV1cLRc,128
-odoo/addons/base_sequence_default/readme/USAGE.rst,sha256=uh-z3bsJzvPT6I42_8pmaPjEKd374piQ8tq21WMA0V0,221
+odoo/addons/base_sequence_default/readme/USAGE.rst,sha256=jeTngUr9IWmNK4z1qJ0g17aiZ3oTi3bqjMn_ZsC5pQU,376
 odoo/addons/base_sequence_default/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/base_sequence_default/static/description/index.html,sha256=g4LUGqsYsZazgcLZC8mRipRwn05zccSoaDpsLevkOFk,14256
+odoo/addons/base_sequence_default/static/description/index.html,sha256=sNCJ1j9ctDRMGXVkJrUJxj6BAERf9IgG9BIcARJ-MQw,14547
 odoo/addons/base_sequence_default/tests/__init__.py,sha256=NgOdbfrE6KGGItv8hyqJ63lmsKPPrPY6m0qxowsqkQQ,35
-odoo/addons/base_sequence_default/tests/test_project_project.py,sha256=fWhtOKRaBQEK5uZ5bA3pvkclmXVBVX_z12SgrXltt5Q,1386
-odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/METADATA,sha256=3AKqqPpdyOMi-YQ_sm7C2JxKNuPjPqeMl1Zh_NuNFTo,5001
-odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_base_sequence_default-14.0.0.1.1.dev2.dist-info/RECORD,,
+odoo/addons/base_sequence_default/tests/test_project_project.py,sha256=2hBUYzycSjBQPzj7-LzDPj9oGP_KYJZJJ7CYae5eA2Y,1535
+odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/METADATA,sha256=16L3lSirmjOjBQkkYSryiVkHOHkPkztBkz6tw67VuEs,5289
+odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_base_sequence_default-14.0.1.0.0.dist-info/RECORD,,
```

