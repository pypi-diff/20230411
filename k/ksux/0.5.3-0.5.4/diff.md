# Comparing `tmp/ksux-0.5.3.tar.gz` & `tmp/ksux-0.5.4.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "ksux-0.5.3.tar", last modified: Thu Mar 30 07:43:08 2023, max compression
+gzip compressed data, was "ksux-0.5.4.tar", last modified: Tue Apr 11 07:23:59 2023, max compression
```

## Comparing `ksux-0.5.3.tar` & `ksux-0.5.4.tar`

### file list

```diff
@@ -1,30 +1,30 @@
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.962625 ksux-0.5.3/
--rw-r--r--   0 runner    (1001) docker     (123)     1075 2023-03-30 07:42:58.000000 ksux-0.5.3/LICENSE
--rw-r--r--   0 runner    (1001) docker     (123)       22 2023-03-30 07:42:58.000000 ksux-0.5.3/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (123)     7864 2023-03-30 07:43:08.962625 ksux-0.5.3/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)     6250 2023-03-30 07:42:58.000000 ksux-0.5.3/README.md
--rw-r--r--   0 runner    (1001) docker     (123)      598 2023-03-30 07:43:02.000000 ksux-0.5.3/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (123)       38 2023-03-30 07:43:08.962625 ksux-0.5.3/setup.cfg
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.958625 ksux-0.5.3/src/
--rw-r--r--   0 runner    (1001) docker     (123)        0 2023-03-30 07:42:58.000000 ksux-0.5.3/src/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.958625 ksux-0.5.3/src/ksux/
--rw-r--r--   0 runner    (1001) docker     (123)     3533 2023-03-30 07:43:02.000000 ksux-0.5.3/src/ksux/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)       58 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/__main__.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.962625 ksux-0.5.3/src/ksux/src/
--rw-r--r--   0 runner    (1001) docker     (123)     2658 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/src/create_manifests.py
--rw-r--r--   0 runner    (1001) docker     (123)     4969 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/src/patch.py
--rw-r--r--   0 runner    (1001) docker     (123)     1758 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/src/read_file.py
--rw-r--r--   0 runner    (1001) docker     (123)      846 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/src/save_manifests.py
--rw-r--r--   0 runner    (1001) docker     (123)     1522 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/src/schemas.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.962625 ksux-0.5.3/src/ksux/tests/
--rw-r--r--   0 runner    (1001) docker     (123)        0 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (123)      159 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/tests/config.py
--rw-r--r--   0 runner    (1001) docker     (123)     5303 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/tests/test_patch.py
--rw-r--r--   0 runner    (1001) docker     (123)      717 2023-03-30 07:42:58.000000 ksux-0.5.3/src/ksux/tests/test_read_file.py
-drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-03-30 07:43:08.958625 ksux-0.5.3/src/ksux.egg-info/
--rw-r--r--   0 runner    (1001) docker     (123)     7864 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (123)      546 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (123)        1 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (123)       35 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (123)       42 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (123)       14 2023-03-30 07:43:08.000000 ksux-0.5.3/src/ksux.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.338125 ksux-0.5.4/
+-rw-r--r--   0 runner    (1001) docker     (123)     1075 2023-04-11 07:23:39.000000 ksux-0.5.4/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)       22 2023-04-11 07:23:39.000000 ksux-0.5.4/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)     7982 2023-04-11 07:23:59.338125 ksux-0.5.4/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)     6368 2023-04-11 07:23:39.000000 ksux-0.5.4/README.md
+-rw-r--r--   0 runner    (1001) docker     (123)      598 2023-04-11 07:23:50.000000 ksux-0.5.4/pyproject.toml
+-rw-r--r--   0 runner    (1001) docker     (123)       38 2023-04-11 07:23:59.338125 ksux-0.5.4/setup.cfg
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.334125 ksux-0.5.4/src/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:39.000000 ksux-0.5.4/src/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.338125 ksux-0.5.4/src/ksux/
+-rw-r--r--   0 runner    (1001) docker     (123)     3533 2023-04-11 07:23:50.000000 ksux-0.5.4/src/ksux/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)       58 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/__main__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.338125 ksux-0.5.4/src/ksux/src/
+-rw-r--r--   0 runner    (1001) docker     (123)     2658 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/src/create_manifests.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4931 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/src/patch.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1758 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/src/read_file.py
+-rw-r--r--   0 runner    (1001) docker     (123)      846 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/src/save_manifests.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1549 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/src/schemas.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.338125 ksux-0.5.4/src/ksux/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      159 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/tests/config.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6963 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/tests/test_patch.py
+-rw-r--r--   0 runner    (1001) docker     (123)      717 2023-04-11 07:23:39.000000 ksux-0.5.4/src/ksux/tests/test_read_file.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-04-11 07:23:59.338125 ksux-0.5.4/src/ksux.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)     7982 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)      546 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       35 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       42 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       14 2023-04-11 07:23:59.000000 ksux-0.5.4/src/ksux.egg-info/top_level.txt
```

### Comparing `ksux-0.5.3/LICENSE` & `ksux-0.5.4/LICENSE`

 * *Files identical despite different names*

### Comparing `ksux-0.5.3/PKG-INFO` & `ksux-0.5.4/PKG-INFO`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 6b73 7578  : 2.1.Name: ksux
-00000020: 0a56 6572 7369 6f6e 3a20 302e 352e 330a  .Version: 0.5.3.
+00000020: 0a56 6572 7369 6f6e 3a20 302e 352e 340a  .Version: 0.5.4.
 00000030: 5375 6d6d 6172 793a 2045 6173 7920 6375  Summary: Easy cu
 00000040: 7374 6f6d 697a 6174 696f 6e20 6f66 206b  stomization of k
 00000050: 7562 6572 6e65 7465 7320 6d61 6e69 6665  ubernetes manife
 00000060: 7374 730a 4175 7468 6f72 3a20 546f 6d61  sts.Author: Toma
 00000070: 7320 536c 6164 6563 656b 0a4c 6963 656e  s Sladecek.Licen
 00000080: 7365 3a20 4d49 5420 4c69 6365 6e73 650a  se: MIT License.
 00000090: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
@@ -94,399 +94,406 @@
 000005d0: 6965 723a 204f 7065 7261 7469 6e67 2053  ier: Operating S
 000005e0: 7973 7465 6d20 3a3a 204f 5320 496e 6465  ystem :: OS Inde
 000005f0: 7065 6e64 656e 740a 5265 7175 6972 6573  pendent.Requires
 00000600: 2d50 7974 686f 6e3a 203e 3d33 2e36 0a44  -Python: >=3.6.D
 00000610: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
 00000620: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
 00000630: 726b 646f 776e 0a4c 6963 656e 7365 2d46  rkdown.License-F
-00000640: 696c 653a 204c 4943 454e 5345 0a0a 2320  ile: LICENSE..# 
-00000650: 6b73 7578 2020 215b 4769 7448 7562 2057  ksux  ![GitHub W
-00000660: 6f72 6b66 6c6f 7720 5374 6174 7573 2028  orkflow Status (
-00000670: 7769 7468 2062 7261 6e63 6829 5d28 6874  with branch)](ht
-00000680: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
-00000690: 732e 696f 2f67 6974 6875 622f 6163 7469  s.io/github/acti
-000006a0: 6f6e 732f 776f 726b 666c 6f77 2f73 7461  ons/workflow/sta
-000006b0: 7475 732f 7473 6c61 6465 6365 6b2f 6b73  tus/tsladecek/ks
-000006c0: 7578 2f74 6573 742e 796d 6c3f 6272 616e  ux/test.yml?bran
-000006d0: 6368 3d6d 6169 6e26 6c61 6265 6c3d 7465  ch=main&label=te
-000006e0: 7374 7326 6c6f 676f 3d47 6974 4875 6229  sts&logo=GitHub)
-000006f0: 2021 5b47 6974 4875 6220 7265 706f 2073   ![GitHub repo s
-00000700: 697a 655d 2868 7474 7073 3a2f 2f69 6d67  ize](https://img
-00000710: 2e73 6869 656c 6473 2e69 6f2f 6769 7468  .shields.io/gith
-00000720: 7562 2f72 6570 6f2d 7369 7a65 2f74 736c  ub/repo-size/tsl
-00000730: 6164 6563 656b 2f6b 7375 7829 2021 5b47  adecek/ksux) ![G
-00000740: 6974 4875 625d 2868 7474 7073 3a2f 2f69  itHub](https://i
-00000750: 6d67 2e73 6869 656c 6473 2e69 6f2f 6769  mg.shields.io/gi
-00000760: 7468 7562 2f6c 6963 656e 7365 2f74 736c  thub/license/tsl
-00000770: 6164 6563 656b 2f6b 7375 7829 2021 5b47  adecek/ksux) ![G
-00000780: 6974 4875 6220 7461 6720 286c 6174 6573  itHub tag (lates
-00000790: 7420 5365 6d56 6572 295d 2868 7474 7073  t SemVer)](https
-000007a0: 3a2f 2f69 6d67 2e73 6869 656c 6473 2e69  ://img.shields.i
-000007b0: 6f2f 6769 7468 7562 2f76 2f74 6167 2f74  o/github/v/tag/t
-000007c0: 736c 6164 6563 656b 2f6b 7375 783f 636f  sladecek/ksux?co
-000007d0: 6c6f 723d 7965 6c6c 6f77 266c 6162 656c  lor=yellow&label
-000007e0: 3d76 6572 7369 6f6e 266c 6f67 6f3d 4769  =version&logo=Gi
-000007f0: 7448 7562 2920 5b21 5b50 7950 495d 2868  tHub) [![PyPI](h
-00000800: 7474 7073 3a2f 2f69 6d67 2e73 6869 656c  ttps://img.shiel
-00000810: 6473 2e69 6f2f 7079 7069 2f76 2f6b 7375  ds.io/pypi/v/ksu
-00000820: 783f 6c6f 676f 3d50 7970 6929 5d28 6874  x?logo=Pypi)](ht
-00000830: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
-00000840: 726f 6a65 6374 2f6b 7375 782f 2920 5b21  roject/ksux/) [!
-00000850: 5b44 6f63 6b65 7220 496d 6167 6520 5369  [Docker Image Si
-00000860: 7a65 2028 6c61 7465 7374 2062 7920 6461  ze (latest by da
-00000870: 7465 295d 2868 7474 7073 3a2f 2f69 6d67  te)](https://img
-00000880: 2e73 6869 656c 6473 2e69 6f2f 646f 636b  .shields.io/dock
-00000890: 6572 2f69 6d61 6765 2d73 697a 652f 7473  er/image-size/ts
-000008a0: 6c61 6465 6365 6b2f 6b73 7578 3f6c 6f67  ladecek/ksux?log
-000008b0: 6f3d 446f 636b 6572 2673 6f72 743d 6461  o=Docker&sort=da
-000008c0: 7465 295d 2868 7474 7073 3a2f 2f68 7562  te)](https://hub
-000008d0: 2e64 6f63 6b65 722e 636f 6d2f 722f 7473  .docker.com/r/ts
-000008e0: 6c61 6465 6365 6b2f 6b73 7578 290a 0a41  ladecek/ksux)..A
-000008f0: 2073 696d 706c 6520 7761 7920 666f 7220   simple way for 
-00000900: 7465 6d70 6c61 7469 6e67 206b 7562 6572  templating kuber
-00000910: 6e65 7465 7320 6d61 6e69 6665 7374 732e  netes manifests.
-00000920: 0a0a 312e 205b 5265 7175 6972 656d 656e  ..1. [Requiremen
-00000930: 7473 5d28 2372 6571 7569 7265 6d65 6e74  ts](#requirement
-00000940: 7329 0a32 2e20 5b49 6e73 7461 6c6c 6174  s).2. [Installat
-00000950: 696f 6e5d 2823 696e 7374 616c 6c61 7469  ion](#installati
-00000960: 6f6e 290a 2020 2031 2e20 5b4c 6f63 616c  on).   1. [Local
-00000970: 5d28 236c 6f63 616c 290a 2020 2032 2e20  ](#local).   2. 
-00000980: 5b44 6f63 6b65 725d 2823 646f 636b 6572  [Docker](#docker
-00000990: 290a 332e 205b 486f 7720 646f 6573 2069  ).3. [How does i
-000009a0: 7420 776f 726b 3f5d 2823 686f 772d 646f  t work?](#how-do
-000009b0: 6573 2d69 742d 776f 726b 290a 2020 2031  es-it-work).   1
-000009c0: 2e20 5b54 6865 2060 6f70 2e70 6174 6860  . [The `op.path`
-000009d0: 5d28 2374 6865 2d6f 7070 6174 6829 0a34  ](#the-oppath).4
-000009e0: 2e20 5b45 7861 6d70 6c65 5d28 2365 7861  . [Example](#exa
-000009f0: 6d70 6c65 290a 0a2d 2d2d 0a74 6c64 722e  mple)..---.tldr.
-00000a00: 0a0a 6060 6073 6865 6c6c 0a6b 7375 7820  ..```shell.ksux 
-00000a10: 2d62 203c 7061 7468 5f74 6f5f 6261 7365  -b <path_to_base
-00000a20: 5f64 6972 3e20 2d70 203c 7061 7468 5f74  _dir> -p <path_t
-00000a30: 6f5f 7061 7463 6865 735f 6469 723e 202d  o_patches_dir> -
-00000a40: 6f20 3c6f 7574 7075 745f 6469 723e 0a60  o <output_dir>.`
-00000a50: 6060 0a0a 6f72 2075 7369 6e67 2064 6f63  ``..or using doc
-00000a60: 6b65 723a 0a0a 6060 6073 6865 6c6c 0a64  ker:..```shell.d
-00000a70: 6f63 6b65 7220 7275 6e20 2d2d 726d 202d  ocker run --rm -
-00000a80: 7620 2f70 6174 682f 746f 2f79 6f75 722f  v /path/to/your/
-00000a90: 636f 6e66 6967 733a 2f63 6f6e 6669 6773  configs:/configs
-00000aa0: 2074 736c 6164 6563 656b 2f6b 7375 7820   tsladecek/ksux 
-00000ab0: 6b73 7578 202d 6220 2f63 6f6e 6669 6773  ksux -b /configs
-00000ac0: 2f62 6173 6520 2d70 202f 636f 6e66 6967  /base -p /config
-00000ad0: 732f 7061 7463 6865 7320 2d6f 202f 636f  s/patches -o /co
-00000ae0: 6e66 6967 732f 6f75 740a 6060 600a 0a2d  nfigs/out.```..-
-00000af0: 2d2d 0a0a 2323 2052 6571 7569 7265 6d65  --..## Requireme
-00000b00: 6e74 730a 0a54 6869 7320 6973 2061 2070  nts..This is a p
-00000b10: 7974 686f 6e20 7061 636b 6167 652e 2053  ython package. S
-00000b20: 6f20 7468 6520 6f6e 6c79 2072 6571 7569  o the only requi
-00000b30: 7265 6d65 6e74 7320 6172 6520 6070 7974  rements are `pyt
-00000b40: 686f 6e33 6020 616e 6420 6070 6970 600a  hon3` and `pip`.
-00000b50: 0a23 2320 496e 7374 616c 6c61 7469 6f6e  .## Installation
-00000b60: 0a0a 2323 2320 4c6f 6361 6c0a 0a2d 204f  ..### Local..- O
-00000b70: 7074 696f 6e61 6c3a 2043 7265 6174 6520  ptional: Create 
-00000b80: 616e 6420 6163 7469 7661 7465 2061 2076  and activate a v
-00000b90: 6972 7475 616c 2065 6e76 2e0a 0a60 6060  irtual env...```
-00000ba0: 7368 656c 6c0a 2320 6f70 7469 6f6e 2031  shell.# option 1
-00000bb0: 3a20 7669 7275 616c 7665 6e76 0a76 6972  : virualvenv.vir
-00000bc0: 7475 616c 7665 6e76 206b 7375 780a 736f  tualvenv ksux.so
-00000bd0: 7572 6365 206b 7375 782f 6269 6e2f 6163  urce ksux/bin/ac
-00000be0: 7469 7661 7465 0a0a 2320 6f70 7469 6f6e  tivate..# option
-00000bf0: 2032 3a20 7665 6e76 0a70 7974 686f 6e20   2: venv.python 
-00000c00: 2d6d 2076 656e 7620 6b73 7578 0a73 6f75  -m venv ksux.sou
-00000c10: 7263 6520 6b73 7578 2f62 696e 2f61 6374  rce ksux/bin/act
-00000c20: 6976 6174 650a 0a23 206f 7074 696f 6e20  ivate..# option 
-00000c30: 333a 2063 6f6e 6461 0a63 6f6e 6461 2063  3: conda.conda c
-00000c40: 7265 6174 6520 2d6e 206b 7375 7820 7079  reate -n ksux py
-00000c50: 7468 6f6e 0a63 6f6e 6461 2061 6374 6976  thon.conda activ
-00000c60: 6174 6520 6b73 7578 0a60 6060 0a0a 2d20  ate ksux.```..- 
-00000c70: 496e 7374 616c 6c0a 0a60 6060 7368 656c  Install..```shel
-00000c80: 6c0a 7069 7020 696e 7374 616c 6c20 6b73  l.pip install ks
-00000c90: 7578 0a60 6060 0a0a 2323 2320 446f 636b  ux.```..### Dock
-00000ca0: 6572 0a0a 7573 6520 7468 6520 5b64 6f63  er..use the [doc
-00000cb0: 6b65 7220 696d 6167 655d 2868 7474 7073  ker image](https
-00000cc0: 3a2f 2f68 7562 2e64 6f63 6b65 722e 636f  ://hub.docker.co
-00000cd0: 6d2f 722f 7473 6c61 6465 6365 6b2f 6b73  m/r/tsladecek/ks
-00000ce0: 7578 290a 0a54 6f20 7275 6e20 7468 6520  ux)..To run the 
-00000cf0: 636f 6d6d 616e 6420 696e 7369 6465 2061  command inside a
-00000d00: 2064 6f63 6b65 7220 636f 6e74 6169 6e65   docker containe
-00000d10: 722c 2079 6f75 206e 6565 6420 746f 206d  r, you need to m
-00000d20: 616b 6520 7375 7265 2074 6861 7420 616c  ake sure that al
-00000d30: 6c20 766f 6c75 6d65 7320 6172 6520 6d61  l volumes are ma
-00000d40: 7070 6564 2074 6f20 7468 6520 636f 6e74  pped to the cont
-00000d50: 6169 6e65 722e 204c 6574 2773 0a73 6179  ainer. Let's.say
-00000d60: 2074 6861 7420 796f 7520 6861 7665 2061   that you have a
-00000d70: 2066 6f6c 6c6f 7769 6e67 2066 696c 6520   following file 
-00000d80: 7374 7275 6374 7572 653a 0a0a 6060 6073  structure:..```s
-00000d90: 6865 6c6c 0a7c 2d20 2f68 6f6d 652f 7072  hell.|- /home/pr
-00000da0: 6f6a 6563 740a 7c20 207c 2d20 6261 7365  oject.|  |- base
-00000db0: 0a7c 2020 7c2d 2070 6174 6368 6573 0a7c  .|  |- patches.|
-00000dc0: 2020 7c2d 206f 7574 0a60 6060 0a0a 546f    |- out.```..To
-00000dd0: 2067 656e 6572 6174 6520 7061 7463 6865   generate patche
-00000de0: 6420 6d61 6e69 6665 7374 7320 696e 2074  d manifests in t
-00000df0: 6865 2060 2f68 6f6d 652f 7072 6f6a 6563  he `/home/projec
-00000e00: 742f 6f75 7460 2066 6f6c 6465 722c 2072  t/out` folder, r
-00000e10: 756e 2066 6f6c 6c6f 7769 6e67 2063 6f6d  un following com
-00000e20: 6d61 6e64 3a0a 0a60 6060 7368 656c 6c0a  mand:..```shell.
-00000e30: 646f 636b 6572 2072 756e 202d 2d72 6d20  docker run --rm 
-00000e40: 2d76 202f 686f 6d65 2f70 726f 6a65 6374  -v /home/project
-00000e50: 3a2f 636f 6e66 6967 7320 7473 6c61 6465  :/configs tslade
-00000e60: 6365 6b2f 6b73 7578 206b 7375 7820 2d62  cek/ksux ksux -b
-00000e70: 202f 636f 6e66 6967 732f 6261 7365 202d   /configs/base -
-00000e80: 7020 2f63 6f6e 6669 6773 2f70 6174 6368  p /configs/patch
-00000e90: 6573 202d 6f20 2f63 6f6e 6669 6773 2f6f  es -o /configs/o
-00000ea0: 7574 0a60 6060 0a0a 7468 6520 696d 706f  ut.```..the impo
-00000eb0: 7274 616e 7420 7061 7274 2069 7320 7468  rtant part is th
-00000ec0: 6520 602d 7660 2066 6c61 672c 2077 6869  e `-v` flag, whi
-00000ed0: 6368 2077 696c 6c20 6d6f 756e 7420 796f  ch will mount yo
-00000ee0: 7572 206c 6f63 616c 2066 6f6c 6465 7220  ur local folder 
-00000ef0: 6173 2076 6f6c 756d 6520 746f 2074 6865  as volume to the
-00000f00: 2063 6f6e 7461 696e 6572 2e0a 0a23 2320   container...## 
-00000f10: 486f 7720 646f 6573 2069 7420 776f 726b  How does it work
-00000f20: 3f0a 0a4c 6574 2773 2073 6179 2074 6861  ?..Let's say tha
-00000f30: 7420 796f 7520 6861 7665 206d 616e 7920  t you have many 
-00000f40: 6d61 6e69 6665 7374 7320 696e 2073 6f6d  manifests in som
-00000f50: 6520 6469 7265 6374 6f72 7920 2860 6261  e directory (`ba
-00000f60: 7365 6020 6469 7265 6374 6f72 7929 2074  se` directory) t
-00000f70: 6861 7420 796f 7520 7769 7368 2074 6f20  hat you wish to 
-00000f80: 7061 7463 6820 7769 7468 2070 6174 6368  patch with patch
-00000f90: 6573 2028 696e 2074 6865 0a60 7061 7463  es (in the.`patc
-00000fa0: 6865 7360 2920 6469 7265 6374 6f72 792e  hes`) directory.
-00000fb0: 0a0a 5061 7463 6865 7320 636f 756c 6420  ..Patches could 
-00000fc0: 6265 2069 6e20 6079 616d 6c60 206f 7220  be in `yaml` or 
-00000fd0: 606a 736f 6e60 2066 6f72 6d61 7420 2861  `json` format (a
-00000fe0: 7320 7765 6c6c 2061 7320 796f 7572 206d  s well as your m
-00000ff0: 616e 6966 6573 7473 292e 2048 6f77 6576  anifests). Howev
-00001000: 6572 2c20 7468 6579 206d 7573 7420 6164  er, they must ad
-00001010: 6865 7265 2074 6f20 666f 6c6c 6f77 696e  here to followin
-00001020: 6720 7363 6865 6d61 3a0a 0a60 6060 7961  g schema:..```ya
-00001030: 6d6c 0a6e 616d 653a 203c 7061 7463 685f  ml.name: <patch_
-00001040: 6465 7363 7269 7074 696f 6e3e 0a74 6172  description>.tar
-00001050: 6765 743a 0a20 2061 7069 5665 7273 696f  get:.  apiVersio
-00001060: 6e3a 203c 6170 6956 6572 7369 6f6e 206f  n: <apiVersion o
-00001070: 6620 7461 7267 6574 6564 2072 6573 6f75  f targeted resou
-00001080: 7263 653e 0a20 206b 696e 643a 203c 4465  rce>.  kind: <De
-00001090: 706c 6f79 6d65 6e74 2074 7970 6520 6f66  ployment type of
-000010a0: 2074 6172 6765 7465 6420 7265 736f 7572   targeted resour
-000010b0: 6365 3e0a 2020 6e61 6d65 3a20 3c6e 616d  ce>.  name: <nam
-000010c0: 6520 6f66 2074 6172 6765 7465 6420 7265  e of targeted re
-000010d0: 736f 7572 6365 3e0a 6f70 733a 0a20 202d  source>.ops:.  -
-000010e0: 206e 616d 653a 203c 6f70 6572 6174 696f   name: <operatio
-000010f0: 6e20 6465 7363 7269 7074 696f 6e3e 0a20  n description>. 
-00001100: 2020 2070 6174 683a 203c 7061 7468 2074     path: <path t
-00001110: 6f20 7468 6520 7061 7274 206f 6620 7468  o the part of th
-00001120: 6520 6d61 6e69 6665 7374 2074 6f20 6265  e manifest to be
-00001130: 2070 6174 6368 6564 3e0a 2020 2020 7661   patched>.    va
-00001140: 6c75 653a 203c 7661 6c75 6520 7768 6963  lue: <value whic
-00001150: 6820 7368 6f75 6c64 2062 6520 7265 706c  h should be repl
-00001160: 6163 6564 206f 7220 6164 6465 643e 0a20  aced or added>. 
-00001170: 2020 2061 6374 696f 6e3a 203c 6164 647c     action: <add|
-00001180: 7265 706c 6163 657c 7265 6d6f 7665 3e0a  replace|remove>.
-00001190: 6060 600a 0a65 6163 6820 7061 7463 6820  ```..each patch 
-000011a0: 6669 6c65 2063 616e 2062 6520 6120 6c69  file can be a li
-000011b0: 7374 206f 6620 7061 7463 6865 732e 2059  st of patches. Y
-000011c0: 6f75 2063 616e 2075 7365 2074 6865 2063  ou can use the c
-000011d0: 6c61 7373 6963 2079 616d 6c20 666f 726d  lassic yaml form
-000011e0: 6174 2c20 652e 672e 3a0a 0a60 6060 7961  at, e.g.:..```ya
-000011f0: 6d6c 0a2d 206e 616d 653a 2064 6570 6c6f  ml.- name: deplo
-00001200: 796d 656e 745f 7061 7463 6865 730a 2020  yment_patches.  
-00001210: 7461 7267 6574 3a0a 2020 2020 6170 6956  target:.    apiV
-00001220: 6572 7369 6f6e 3a20 6170 7073 2f76 310a  ersion: apps/v1.
-00001230: 2020 2020 6b69 6e64 3a20 4465 706c 6f79      kind: Deploy
-00001240: 6d65 6e74 0a20 2020 206e 616d 653a 2077  ment.    name: w
-00001250: 6562 0a20 206f 7073 3a0a 2020 2020 2d20  eb.  ops:.    - 
-00001260: 6e61 6d65 3a20 7265 706c 6163 655f 696d  name: replace_im
-00001270: 6167 650a 2020 2020 2020 7061 7468 3a20  age.      path: 
-00001280: 2f73 7065 632f 7465 6d70 6c61 7465 2f73  /spec/template/s
-00001290: 7065 632f 636f 6e74 6169 6e65 7273 2f6e  pec/containers/n
-000012a0: 6769 6e78 2f69 6d61 6765 0a20 2020 2020  ginx/image.     
-000012b0: 2076 616c 7565 3a20 6e67 696e 783a 312e   value: nginx:1.
-000012c0: 3233 0a20 2020 2020 2061 6374 696f 6e3a  23.      action:
-000012d0: 2072 6570 6c61 6365 0a2d 206e 616d 653a   replace.- name:
-000012e0: 2073 6572 7669 6365 5f70 6174 6368 6573   service_patches
-000012f0: 0a20 2074 6172 6765 743a 0a20 2020 2061  .  target:.    a
-00001300: 7069 5665 7273 696f 6e3a 2076 310a 2020  piVersion: v1.  
-00001310: 2020 6b69 6e64 3a20 5365 7276 6963 650a    kind: Service.
-00001320: 2020 2020 6e61 6d65 3a20 6e67 696e 782d      name: nginx-
-00001330: 7365 7276 6963 650a 2020 6f70 733a 0a20  service.  ops:. 
-00001340: 2020 202d 206e 616d 653a 2061 6464 5f68     - name: add_h
-00001350: 7474 7073 5f70 6f72 740a 2020 2020 2020  ttps_port.      
-00001360: 7061 7468 3a20 2f73 7065 632f 706f 7274  path: /spec/port
-00001370: 730a 2020 2020 2020 7661 6c75 653a 0a20  s.      value:. 
-00001380: 2020 2020 2020 206e 616d 653a 2068 7474         name: htt
-00001390: 7073 0a20 2020 2020 2020 2070 6f72 743a  ps.        port:
-000013a0: 2034 3433 0a20 2020 2020 2020 2070 726f   443.        pro
-000013b0: 746f 636f 6c3a 2054 4350 0a20 2020 2020  tocol: TCP.     
-000013c0: 2020 2074 6172 6765 7450 6f72 743a 2034     targetPort: 4
-000013d0: 3433 0a20 2020 2020 2061 6374 696f 6e3a  43.      action:
-000013e0: 2061 6464 0a20 2020 202d 206e 616d 653a   add.    - name:
-000013f0: 2072 656e 616d 655f 6874 7470 5f70 6f72   rename_http_por
-00001400: 740a 2020 2020 2020 7061 7468 3a20 2f73  t.      path: /s
-00001410: 7065 632f 706f 7274 732f 6874 7470 2f6e  pec/ports/http/n
-00001420: 616d 650a 2020 2020 2020 6163 7469 6f6e  ame.      action
-00001430: 3a20 7265 706c 6163 650a 2020 2020 2020  : replace.      
-00001440: 7661 6c75 653a 206e 6577 5f6e 616d 650a  value: new_name.
-00001450: 6060 600a 0a6f 7220 7573 6520 7468 6520  ```..or use the 
-00001460: 602d 2d2d 6020 7365 7061 7261 746f 723a  `---` separator:
-00001470: 0a0a 6060 6079 616d 6c0a 2d2d 2d0a 6e61  ..```yaml.---.na
-00001480: 6d65 3a20 6465 706c 6f79 6d65 6e74 5f70  me: deployment_p
-00001490: 6174 6368 6573 0a74 6172 6765 743a 0a20  atches.target:. 
-000014a0: 2061 7069 5665 7273 696f 6e3a 2061 7070   apiVersion: app
-000014b0: 732f 7631 0a20 206b 696e 643a 2044 6570  s/v1.  kind: Dep
-000014c0: 6c6f 796d 656e 740a 2020 6e61 6d65 3a20  loyment.  name: 
-000014d0: 7765 620a 6f70 733a 0a2d 206e 616d 653a  web.ops:.- name:
-000014e0: 2072 6570 6c61 6365 5f69 6d61 6765 0a20   replace_image. 
-000014f0: 2070 6174 683a 202f 7370 6563 2f74 656d   path: /spec/tem
-00001500: 706c 6174 652f 7370 6563 2f63 6f6e 7461  plate/spec/conta
-00001510: 696e 6572 732f 6e67 696e 782f 696d 6167  iners/nginx/imag
-00001520: 650a 2020 7661 6c75 653a 206e 6769 6e78  e.  value: nginx
-00001530: 3a31 2e32 330a 2020 6163 7469 6f6e 3a20  :1.23.  action: 
-00001540: 7265 706c 6163 650a 2d2d 2d0a 6e61 6d65  replace.---.name
-00001550: 3a20 7365 7276 6963 655f 7061 7463 6865  : service_patche
-00001560: 730a 7461 7267 6574 3a0a 2020 6170 6956  s.target:.  apiV
-00001570: 6572 7369 6f6e 3a20 7631 0a20 206b 696e  ersion: v1.  kin
-00001580: 643a 2053 6572 7669 6365 0a20 206e 616d  d: Service.  nam
-00001590: 653a 206e 6769 6e78 2d73 6572 7669 6365  e: nginx-service
-000015a0: 0a6f 7073 3a0a 2d20 6e61 6d65 3a20 6164  .ops:.- name: ad
-000015b0: 645f 6874 7470 735f 706f 7274 0a20 2070  d_https_port.  p
-000015c0: 6174 683a 202f 7370 6563 2f70 6f72 7473  ath: /spec/ports
-000015d0: 0a20 2076 616c 7565 3a0a 2020 2020 6e61  .  value:.    na
-000015e0: 6d65 3a20 6874 7470 730a 2020 2020 706f  me: https.    po
-000015f0: 7274 3a20 3434 330a 2020 2020 7072 6f74  rt: 443.    prot
-00001600: 6f63 6f6c 3a20 5443 500a 2020 2020 7461  ocol: TCP.    ta
-00001610: 7267 6574 506f 7274 3a20 3434 330a 2020  rgetPort: 443.  
-00001620: 6163 7469 6f6e 3a20 6164 640a 2d20 6e61  action: add.- na
-00001630: 6d65 3a20 7265 6e61 6d65 5f68 7474 705f  me: rename_http_
-00001640: 706f 7274 0a20 2070 6174 683a 202f 7370  port.  path: /sp
-00001650: 6563 2f70 6f72 7473 2f68 7474 702f 6e61  ec/ports/http/na
-00001660: 6d65 0a20 2061 6374 696f 6e3a 2072 6570  me.  action: rep
-00001670: 6c61 6365 0a20 2076 616c 7565 3a20 6e65  lace.  value: ne
-00001680: 775f 6e61 6d65 0a60 6060 0a0a 5468 656e  w_name.```..Then
-00001690: 2061 6c6c 2079 6f75 206e 6565 6420 746f   all you need to
-000016a0: 2064 6f2c 2069 7320 7275 6e3a 0a0a 6060   do, is run:..``
-000016b0: 6073 6865 6c6c 0a6b 7375 7820 2d62 203c  `shell.ksux -b <
-000016c0: 7061 7468 5f74 6f5f 6261 7365 5f64 6972  path_to_base_dir
-000016d0: 3e20 2d70 203c 7061 7468 5f74 6f5f 7061  > -p <path_to_pa
-000016e0: 7463 6865 735f 6469 723e 202d 6f20 3c6f  tches_dir> -o <o
-000016f0: 7574 7075 745f 6469 723e 0a60 6060 0a0a  utput_dir>.```..
-00001700: 5468 6973 2077 696c 6c20 7361 7665 2061  This will save a
-00001710: 6c6c 2070 6174 6368 6564 206d 616e 6966  ll patched manif
-00001720: 6573 7473 2074 6f20 7468 6520 6f75 7470  ests to the outp
-00001730: 7574 2064 6972 2e20 596f 7520 6361 6e20  ut dir. You can 
-00001740: 7573 6520 7468 6520 602d 2d64 7279 2d72  use the `--dry-r
-00001750: 756e 6020 666c 6167 2074 6f20 7072 696e  un` flag to prin
-00001760: 7420 7468 6520 7061 7463 6865 640a 6d61  t the patched.ma
-00001770: 6e69 6665 7374 7320 746f 2073 7464 6f75  nifests to stdou
-00001780: 743a 0a0a 6060 6073 6865 6c6c 0a6b 7375  t:..```shell.ksu
-00001790: 7820 2d62 203c 7061 7468 5f74 6f5f 6261  x -b <path_to_ba
-000017a0: 7365 5f64 6972 3e20 2d70 203c 7061 7468  se_dir> -p <path
-000017b0: 5f74 6f5f 7061 7463 6865 735f 6469 723e  _to_patches_dir>
-000017c0: 202d 2d64 7279 2d72 756e 0a60 6060 0a0a   --dry-run.```..
-000017d0: 466f 7220 6c69 7374 206f 6620 616c 6c20  For list of all 
-000017e0: 6f70 7469 6f6e 7320 7365 653a 0a0a 6060  options see:..``
-000017f0: 6073 6865 6c6c 0a6b 7375 7820 2d2d 6865  `shell.ksux --he
-00001800: 6c70 0a60 6060 0a0a 2323 2320 7468 6520  lp.```..### the 
-00001810: 606f 702e 7061 7468 600a 0a54 6869 7320  `op.path`..This 
-00001820: 6973 2061 2070 7265 7474 7920 636f 6f6c  is a pretty cool
-00001830: 2074 6869 6e67 2e20 5369 6d69 6c61 7220   thing. Similar 
-00001840: 746f 206b 7573 746f 6d69 7a65 2070 6174  to kustomize pat
-00001850: 682c 2068 6f77 6576 6572 2079 6f75 2063  h, however you c
-00001860: 616e 2074 6172 6765 7420 6c69 7374 2069  an target list i
-00001870: 7465 6d20 6279 206e 616d 6573 206f 6620  tem by names of 
-00001880: 6368 696c 6420 6f62 6a65 6374 732e 0a45  child objects..E
-00001890: 2e67 2e20 7361 7920 796f 7520 6861 7665  .g. say you have
-000018a0: 2061 206c 6973 7420 6f66 2070 6f72 7473   a list of ports
-000018b0: 2069 6e20 6120 7365 7276 6963 653a 0a0a   in a service:..
-000018c0: 6060 6079 616d 6c0a 6170 6956 6572 7369  ```yaml.apiVersi
-000018d0: 6f6e 3a20 7631 0a6b 696e 643a 2053 6572  on: v1.kind: Ser
-000018e0: 7669 6365 0a6d 6574 6164 6174 613a 0a20  vice.metadata:. 
-000018f0: 206c 6162 656c 733a 0a20 2020 2061 7070   labels:.    app
-00001900: 3a20 6e67 696e 782d 7365 7276 6963 650a  : nginx-service.
-00001910: 2020 6e61 6d65 3a20 6e67 696e 782d 7365    name: nginx-se
-00001920: 7276 6963 650a 7370 6563 3a0a 2020 706f  rvice.spec:.  po
-00001930: 7274 733a 0a20 2020 202d 206e 616d 653a  rts:.    - name:
-00001940: 206e 6577 5f6e 616d 650a 2020 2020 2020   new_name.      
-00001950: 706f 7274 3a20 3830 0a20 2020 2020 2070  port: 80.      p
-00001960: 726f 746f 636f 6c3a 2054 4350 0a20 2020  rotocol: TCP.   
-00001970: 2020 2074 6172 6765 7450 6f72 743a 2038     targetPort: 8
-00001980: 300a 2020 2020 2d20 6e61 6d65 3a20 6874  0.    - name: ht
-00001990: 7470 730a 2020 2020 2020 706f 7274 3a20  tps.      port: 
-000019a0: 3434 330a 2020 2020 2020 7072 6f74 6f63  443.      protoc
-000019b0: 6f6c 3a20 5443 500a 2020 2020 2020 7461  ol: TCP.      ta
-000019c0: 7267 6574 506f 7274 3a20 3434 330a 2020  rgetPort: 443.  
-000019d0: 7365 6c65 6374 6f72 3a0a 2020 2020 6170  selector:.    ap
-000019e0: 703a 2077 6562 0a20 2074 7970 653a 2043  p: web.  type: C
-000019f0: 6c75 7374 6572 4950 0a60 6060 0a0a 546f  lusterIP.```..To
-00001a00: 2074 6172 6765 7420 7468 6520 6068 7474   target the `htt
-00001a10: 7073 6020 7365 7276 6963 6520 616e 6420  ps` service and 
-00001a20: 6368 616e 6765 2069 7473 206e 616d 652c  change its name,
-00001a30: 2079 6f75 2063 616e 2073 7065 6369 6679   you can specify
-00001a40: 2074 6865 2070 6174 683a 2060 2f73 7065   the path: `/spe
-00001a50: 632f 706f 7274 732f 6874 7470 732f 6e61  c/ports/https/na
-00001a60: 6d65 6020 616e 6420 7468 656e 0a73 6574  me` and then.set
-00001a70: 2074 6865 2076 616c 7565 2074 6f20 7468   the value to th
-00001a80: 6520 6e65 7720 6e61 6d65 20f0 9f92 aa2e  e new name .....
-00001a90: 0a0a 2323 2045 7861 6d70 6c65 0a0a 496e  ..## Example..In
-00001aa0: 2074 6865 2060 2e2f 6578 616d 706c 6573   the `./examples
-00001ab0: 6020 666f 6c64 6572 2074 6865 7265 2061  ` folder there a
-00001ac0: 7265 2033 2073 7562 2d66 6f6c 6465 7273  re 3 sub-folders
-00001ad0: 3a0a 2020 2020 2d20 602f 6578 616d 706c  :.    - `/exampl
-00001ae0: 6573 2f62 6173 6560 2077 6974 6820 6465  es/base` with de
-00001af0: 706c 6f79 6d65 6e74 2c20 7365 7276 6963  ployment, servic
-00001b00: 6520 616e 6420 6120 636f 6e66 6967 6d61  e and a configma
-00001b10: 7020 6d61 6e69 6665 7374 732e 2054 6865  p manifests. The
-00001b20: 7365 2061 7265 2074 6865 2062 6173 6520  se are the base 
-00001b30: 6d61 6e69 6665 7374 7320 7768 6963 6820  manifests which 
-00001b40: 7765 2077 6973 680a 2020 2020 746f 2070  we wish.    to p
-00001b50: 6174 6368 0a20 2020 202d 2060 2f65 7861  atch.    - `/exa
-00001b60: 6d70 6c65 732f 7061 7463 6865 7360 2063  mples/patches` c
-00001b70: 6f6e 7461 696e 2074 6865 2070 6174 6368  ontain the patch
-00001b80: 6573 2028 6e6f 7469 6365 2074 6861 7420  es (notice that 
-00001b90: 626f 7468 2062 6173 6520 6b75 6265 726e  both base kubern
-00001ba0: 6574 6573 206d 616e 6966 6573 7473 2061  etes manifests a
-00001bb0: 6e64 2070 6174 6368 6573 2063 616e 2062  nd patches can b
-00001bc0: 6520 6569 7468 6572 2069 6e0a 2020 2020  e either in.    
-00001bd0: 606a 736f 6e60 206f 7220 6079 6d6c 602f  `json` or `yml`/
-00001be0: 6079 616d 6c60 2066 6f72 6d61 7429 0a20  `yaml` format). 
-00001bf0: 2020 202d 2060 2f65 7861 6d70 6c65 732f     - `/examples/
-00001c00: 6f75 7460 2069 7320 7468 6520 6f75 7470  out` is the outp
-00001c10: 7574 2064 6972 6563 746f 7279 2077 6865  ut directory whe
-00001c20: 7265 2074 6865 2070 6174 6368 6564 2072  re the patched r
-00001c30: 6573 6f75 7263 6573 2077 696c 6c20 6265  esources will be
-00001c40: 206f 7574 7075 740a 0a46 6972 7374 2c20   output..First, 
-00001c50: 7765 2077 696c 6c20 6064 7279 2d72 756e  we will `dry-run
-00001c60: 6020 7468 6520 7061 7463 6869 6e67 3a0a  ` the patching:.
-00001c70: 0a60 6060 7368 656c 6c0a 6b73 7578 202d  .```shell.ksux -
-00001c80: 6220 6578 616d 706c 6573 2f62 6173 6520  b examples/base 
-00001c90: 2d70 2065 7861 6d70 6c65 732f 7061 7463  -p examples/patc
-00001ca0: 6865 7320 2d2d 6472 792d 7275 6e0a 6060  hes --dry-run.``
-00001cb0: 600a 0a59 6f75 2073 686f 756c 6420 7365  `..You should se
-00001cc0: 6520 7468 6520 7061 7463 6865 6420 6d61  e the patched ma
-00001cd0: 6e69 6665 7374 7320 7072 696e 7465 6420  nifests printed 
-00001ce0: 6f75 7420 746f 2074 6865 2063 6f6e 736f  out to the conso
-00001cf0: 6c65 2e20 4e6f 7720 7765 2063 616e 2072  le. Now we can r
-00001d00: 756e 2069 7420 616e 6420 7361 7665 2074  un it and save t
-00001d10: 6865 2070 6174 6368 6564 206d 616e 6966  he patched manif
-00001d20: 6573 7473 0a74 6f20 7468 6520 606f 7574  ests.to the `out
-00001d30: 7075 7460 2066 6f6c 6465 723a 0a0a 6060  put` folder:..``
-00001d40: 6073 6865 6c6c 0a6b 7375 7820 2d62 2065  `shell.ksux -b e
-00001d50: 7861 6d70 6c65 732f 6261 7365 202d 7020  xamples/base -p 
-00001d60: 6578 616d 706c 6573 2f70 6174 6368 6573  examples/patches
-00001d70: 202d 6f20 6578 616d 706c 6573 2f6f 7574   -o examples/out
-00001d80: 0a60 6060 0a0a 4279 2064 6566 6175 6c74  .```..By default
-00001d90: 2c20 7468 6520 6d61 6e69 6665 7374 7320  , the manifests 
-00001da0: 7769 6c6c 2062 6520 7361 7665 6420 696e  will be saved in
-00001db0: 2060 7961 6d6c 6020 666f 726d 6174 2077   `yaml` format w
-00001dc0: 6974 6820 602e 7961 6d6c 6020 6578 7465  ith `.yaml` exte
-00001dd0: 6e73 696f 6e2e 2049 6620 796f 7520 7769  nsion. If you wi
-00001de0: 7368 2074 6f20 7573 6520 7468 6520 602e  sh to use the `.
-00001df0: 796d 6c60 2065 7874 656e 7369 6f6e 0a6f  yml` extension.o
-00001e00: 7220 7361 7665 2074 6865 206d 616e 6966  r save the manif
-00001e10: 6573 7473 2069 6e20 606a 736f 6e60 2066  ests in `json` f
-00001e20: 6f72 6d61 742c 2073 696d 706c 7920 7072  ormat, simply pr
-00001e30: 6f76 6964 6520 7468 6520 602d 6560 2066  ovide the `-e` f
-00001e40: 6c61 6720 7769 7468 2063 6f72 7265 7370  lag with corresp
-00001e50: 6f6e 6469 6e67 2065 7874 656e 7369 6f6e  onding extension
-00001e60: 2e20 452e 672e 3a0a 0a60 6060 7368 656c  . E.g.:..```shel
-00001e70: 6c0a 6b73 7578 202d 6220 6578 616d 706c  l.ksux -b exampl
-00001e80: 6573 2f62 6173 6520 2d70 2065 7861 6d70  es/base -p examp
-00001e90: 6c65 732f 7061 7463 6865 7320 2d6f 2065  les/patches -o e
-00001ea0: 7861 6d70 6c65 732f 6f75 7420 2d65 206a  xamples/out -e j
-00001eb0: 736f 6e0a 6060 600a                      son.```.
+00000640: 696c 653a 204c 4943 454e 5345 0a0a 3c70  ile: LICENSE..<p
+00000650: 2061 6c69 676e 3d22 6365 6e74 6572 223e   align="center">
+00000660: 0a20 203c 696d 6720 7372 633d 226d 6973  .  <img src="mis
+00000670: 632f 6c6f 676f 2e73 7667 2220 7769 6474  c/logo.svg" widt
+00000680: 683d 2237 3525 223e 0a3c 2f70 3e0a 0a3c  h="75%">.</p>..<
+00000690: 7020 616c 6967 6e3d 6365 6e74 6572 3e0a  p align=center>.
+000006a0: 2020 203c 656d 3e41 2073 696d 706c 6520     <em>A simple 
+000006b0: 7761 7920 666f 7220 7465 6d70 6c61 7469  way for templati
+000006c0: 6e67 206b 7562 6572 6e65 7465 7320 6d61  ng kubernetes ma
+000006d0: 6e69 6665 7374 732e 3c2f 656d 3e0a 3c2f  nifests.</em>.</
+000006e0: 703e 0a0a 3c70 2061 6c69 676e 3d63 656e  p>..<p align=cen
+000006f0: 7465 723e 0a20 2020 3c69 6d67 2073 7263  ter>.   <img src
+00000700: 3d27 6874 7470 733a 2f2f 696d 672e 7368  ='https://img.sh
+00000710: 6965 6c64 732e 696f 2f67 6974 6875 622f  ields.io/github/
+00000720: 6163 7469 6f6e 732f 776f 726b 666c 6f77  actions/workflow
+00000730: 2f73 7461 7475 732f 7473 6c61 6465 6365  /status/tsladece
+00000740: 6b2f 6b73 7578 2f74 6573 742e 796d 6c3f  k/ksux/test.yml?
+00000750: 6272 616e 6368 3d6d 6169 6e26 6c61 6265  branch=main&labe
+00000760: 6c3d 7465 7374 7326 6c6f 676f 3d47 6974  l=tests&logo=Git
+00000770: 4875 6227 2061 6c74 3d27 272f 3e0a 2020  Hub' alt=''/>.  
+00000780: 203c 696d 6720 7372 633d 2768 7474 7073   <img src='https
+00000790: 3a2f 2f69 6d67 2e73 6869 656c 6473 2e69  ://img.shields.i
+000007a0: 6f2f 6769 7468 7562 2f72 6570 6f2d 7369  o/github/repo-si
+000007b0: 7a65 2f74 736c 6164 6563 656b 2f6b 7375  ze/tsladecek/ksu
+000007c0: 7827 2061 6c74 3d27 272f 3e0a 2020 203c  x' alt=''/>.   <
+000007d0: 696d 6720 7372 633d 2768 7474 7073 3a2f  img src='https:/
+000007e0: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
+000007f0: 6769 7468 7562 2f6c 6963 656e 7365 2f74  github/license/t
+00000800: 736c 6164 6563 656b 2f6b 7375 7827 2061  sladecek/ksux' a
+00000810: 6c74 3d27 4c69 6365 6e73 653a 204d 4954  lt='License: MIT
+00000820: 272f 3e0a 2020 203c 696d 6720 7372 633d  '/>.   <img src=
+00000830: 2768 7474 7073 3a2f 2f69 6d67 2e73 6869  'https://img.shi
+00000840: 656c 6473 2e69 6f2f 6769 7468 7562 2f76  elds.io/github/v
+00000850: 2f74 6167 2f74 736c 6164 6563 656b 2f6b  /tag/tsladecek/k
+00000860: 7375 783f 636f 6c6f 723d 7965 6c6c 6f77  sux?color=yellow
+00000870: 266c 6162 656c 3d76 6572 7369 6f6e 266c  &label=version&l
+00000880: 6f67 6f3d 4769 7448 7562 272f 3e0a 2020  ogo=GitHub'/>.  
+00000890: 203c 6120 6872 6566 3d27 6874 7470 733a   <a href='https:
+000008a0: 2f2f 7079 7069 2e6f 7267 2f70 726f 6a65  //pypi.org/proje
+000008b0: 6374 2f6b 7375 782f 273e 3c69 6d67 2073  ct/ksux/'><img s
+000008c0: 7263 3d27 6874 7470 733a 2f2f 696d 672e  rc='https://img.
+000008d0: 7368 6965 6c64 732e 696f 2f70 7970 692f  shields.io/pypi/
+000008e0: 762f 6b73 7578 3f6c 6f67 6f3d 5079 7069  v/ksux?logo=Pypi
+000008f0: 272f 3e3c 2f61 3e0a 2020 203c 6120 6872  '/></a>.   <a hr
+00000900: 6566 3d27 6874 7470 733a 2f2f 6875 622e  ef='https://hub.
+00000910: 646f 636b 6572 2e63 6f6d 2f72 2f74 736c  docker.com/r/tsl
+00000920: 6164 6563 656b 2f6b 7375 7827 3e3c 696d  adecek/ksux'><im
+00000930: 6720 7372 633d 2768 7474 7073 3a2f 2f69  g src='https://i
+00000940: 6d67 2e73 6869 656c 6473 2e69 6f2f 646f  mg.shields.io/do
+00000950: 636b 6572 2f69 6d61 6765 2d73 697a 652f  cker/image-size/
+00000960: 7473 6c61 6465 6365 6b2f 6b73 7578 3f6c  tsladecek/ksux?l
+00000970: 6f67 6f3d 446f 636b 6572 2673 6f72 743d  ogo=Docker&sort=
+00000980: 6461 7465 2720 2f3e 3c2f 613e 0a3c 2f70  date' /></a>.</p
+00000990: 3e0a 0a2d 2d2d 0a0a 312e 205b 5265 7175  >..---..1. [Requ
+000009a0: 6972 656d 656e 7473 5d28 2372 6571 7569  irements](#requi
+000009b0: 7265 6d65 6e74 7329 0a32 2e20 5b49 6e73  rements).2. [Ins
+000009c0: 7461 6c6c 6174 696f 6e5d 2823 696e 7374  tallation](#inst
+000009d0: 616c 6c61 7469 6f6e 290a 2020 2031 2e20  allation).   1. 
+000009e0: 5b4c 6f63 616c 5d28 236c 6f63 616c 290a  [Local](#local).
+000009f0: 2020 2032 2e20 5b44 6f63 6b65 725d 2823     2. [Docker](#
+00000a00: 646f 636b 6572 290a 332e 205b 486f 7720  docker).3. [How 
+00000a10: 646f 6573 2069 7420 776f 726b 3f5d 2823  does it work?](#
+00000a20: 686f 772d 646f 6573 2d69 742d 776f 726b  how-does-it-work
+00000a30: 290a 2020 2031 2e20 5b54 6865 2060 6f70  ).   1. [The `op
+00000a40: 2e70 6174 6860 5d28 2374 6865 2d6f 7070  .path`](#the-opp
+00000a50: 6174 6829 0a34 2e20 5b45 7861 6d70 6c65  ath).4. [Example
+00000a60: 5d28 2365 7861 6d70 6c65 290a 0a2a 2a74  ](#example)..**t
+00000a70: 6c64 722e 2a2a 0a0a 6060 6073 6865 6c6c  ldr.**..```shell
+00000a80: 0a6b 7375 7820 2d62 203c 7061 7468 5f74  .ksux -b <path_t
+00000a90: 6f5f 6261 7365 5f64 6972 3e20 2d70 203c  o_base_dir> -p <
+00000aa0: 7061 7468 5f74 6f5f 7061 7463 6865 735f  path_to_patches_
+00000ab0: 6469 723e 202d 6f20 3c6f 7574 7075 745f  dir> -o <output_
+00000ac0: 6469 723e 0a60 6060 0a0a 6f72 2075 7369  dir>.```..or usi
+00000ad0: 6e67 2064 6f63 6b65 723a 0a0a 6060 6073  ng docker:..```s
+00000ae0: 6865 6c6c 0a64 6f63 6b65 7220 7275 6e20  hell.docker run 
+00000af0: 2d2d 726d 202d 7620 2f70 6174 682f 746f  --rm -v /path/to
+00000b00: 2f79 6f75 722f 636f 6e66 6967 733a 2f63  /your/configs:/c
+00000b10: 6f6e 6669 6773 2074 736c 6164 6563 656b  onfigs tsladecek
+00000b20: 2f6b 7375 7820 6b73 7578 202d 6220 2f63  /ksux ksux -b /c
+00000b30: 6f6e 6669 6773 2f62 6173 6520 2d70 202f  onfigs/base -p /
+00000b40: 636f 6e66 6967 732f 7061 7463 6865 7320  configs/patches 
+00000b50: 2d6f 202f 636f 6e66 6967 732f 6f75 740a  -o /configs/out.
+00000b60: 6060 600a 0a2d 2d2d 0a0a 2323 2052 6571  ```..---..## Req
+00000b70: 7569 7265 6d65 6e74 730a 0a54 6869 7320  uirements..This 
+00000b80: 6973 2061 2070 7974 686f 6e20 7061 636b  is a python pack
+00000b90: 6167 652e 2053 6f20 7468 6520 6f6e 6c79  age. So the only
+00000ba0: 2072 6571 7569 7265 6d65 6e74 7320 6172   requirements ar
+00000bb0: 6520 6070 7974 686f 6e33 6020 616e 6420  e `python3` and 
+00000bc0: 6070 6970 600a 0a23 2320 496e 7374 616c  `pip`..## Instal
+00000bd0: 6c61 7469 6f6e 0a0a 2323 2320 4c6f 6361  lation..### Loca
+00000be0: 6c0a 0a2d 204f 7074 696f 6e61 6c3a 2043  l..- Optional: C
+00000bf0: 7265 6174 6520 616e 6420 6163 7469 7661  reate and activa
+00000c00: 7465 2061 2076 6972 7475 616c 2065 6e76  te a virtual env
+00000c10: 2e0a 0a60 6060 7368 656c 6c0a 2320 6f70  ...```shell.# op
+00000c20: 7469 6f6e 2031 3a20 7669 7275 616c 7665  tion 1: virualve
+00000c30: 6e76 0a76 6972 7475 616c 7665 6e76 206b  nv.virtualvenv k
+00000c40: 7375 780a 736f 7572 6365 206b 7375 782f  sux.source ksux/
+00000c50: 6269 6e2f 6163 7469 7661 7465 0a0a 2320  bin/activate..# 
+00000c60: 6f70 7469 6f6e 2032 3a20 7665 6e76 0a70  option 2: venv.p
+00000c70: 7974 686f 6e20 2d6d 2076 656e 7620 6b73  ython -m venv ks
+00000c80: 7578 0a73 6f75 7263 6520 6b73 7578 2f62  ux.source ksux/b
+00000c90: 696e 2f61 6374 6976 6174 650a 0a23 206f  in/activate..# o
+00000ca0: 7074 696f 6e20 333a 2063 6f6e 6461 0a63  ption 3: conda.c
+00000cb0: 6f6e 6461 2063 7265 6174 6520 2d6e 206b  onda create -n k
+00000cc0: 7375 7820 7079 7468 6f6e 0a63 6f6e 6461  sux python.conda
+00000cd0: 2061 6374 6976 6174 6520 6b73 7578 0a60   activate ksux.`
+00000ce0: 6060 0a0a 2d20 496e 7374 616c 6c0a 0a60  ``..- Install..`
+00000cf0: 6060 7368 656c 6c0a 7069 7020 696e 7374  ``shell.pip inst
+00000d00: 616c 6c20 6b73 7578 0a60 6060 0a0a 2323  all ksux.```..##
+00000d10: 2320 446f 636b 6572 0a0a 7573 6520 7468  # Docker..use th
+00000d20: 6520 5b64 6f63 6b65 7220 696d 6167 655d  e [docker image]
+00000d30: 2868 7474 7073 3a2f 2f68 7562 2e64 6f63  (https://hub.doc
+00000d40: 6b65 722e 636f 6d2f 722f 7473 6c61 6465  ker.com/r/tslade
+00000d50: 6365 6b2f 6b73 7578 290a 0a54 6f20 7275  cek/ksux)..To ru
+00000d60: 6e20 7468 6520 636f 6d6d 616e 6420 696e  n the command in
+00000d70: 7369 6465 2061 2064 6f63 6b65 7220 636f  side a docker co
+00000d80: 6e74 6169 6e65 722c 2079 6f75 206e 6565  ntainer, you nee
+00000d90: 6420 746f 206d 616b 6520 7375 7265 2074  d to make sure t
+00000da0: 6861 7420 616c 6c20 766f 6c75 6d65 7320  hat all volumes 
+00000db0: 6172 6520 6d61 7070 6564 2074 6f20 7468  are mapped to th
+00000dc0: 6520 636f 6e74 6169 6e65 722e 204c 6574  e container. Let
+00000dd0: 2773 0a73 6179 2074 6861 7420 796f 7520  's.say that you 
+00000de0: 6861 7665 2061 2066 6f6c 6c6f 7769 6e67  have a following
+00000df0: 2066 696c 6520 7374 7275 6374 7572 653a   file structure:
+00000e00: 0a0a 6060 6073 6865 6c6c 0a7c 2d20 2f68  ..```shell.|- /h
+00000e10: 6f6d 652f 7072 6f6a 6563 740a 7c20 207c  ome/project.|  |
+00000e20: 2d20 6261 7365 0a7c 2020 7c2d 2070 6174  - base.|  |- pat
+00000e30: 6368 6573 0a7c 2020 7c2d 206f 7574 0a60  ches.|  |- out.`
+00000e40: 6060 0a0a 546f 2067 656e 6572 6174 6520  ``..To generate 
+00000e50: 7061 7463 6865 6420 6d61 6e69 6665 7374  patched manifest
+00000e60: 7320 696e 2074 6865 2060 2f68 6f6d 652f  s in the `/home/
+00000e70: 7072 6f6a 6563 742f 6f75 7460 2066 6f6c  project/out` fol
+00000e80: 6465 722c 2072 756e 2066 6f6c 6c6f 7769  der, run followi
+00000e90: 6e67 2063 6f6d 6d61 6e64 3a0a 0a60 6060  ng command:..```
+00000ea0: 7368 656c 6c0a 646f 636b 6572 2072 756e  shell.docker run
+00000eb0: 202d 2d72 6d20 2d76 202f 686f 6d65 2f70   --rm -v /home/p
+00000ec0: 726f 6a65 6374 3a2f 636f 6e66 6967 7320  roject:/configs 
+00000ed0: 7473 6c61 6465 6365 6b2f 6b73 7578 206b  tsladecek/ksux k
+00000ee0: 7375 7820 2d62 202f 636f 6e66 6967 732f  sux -b /configs/
+00000ef0: 6261 7365 202d 7020 2f63 6f6e 6669 6773  base -p /configs
+00000f00: 2f70 6174 6368 6573 202d 6f20 2f63 6f6e  /patches -o /con
+00000f10: 6669 6773 2f6f 7574 0a60 6060 0a0a 7468  figs/out.```..th
+00000f20: 6520 696d 706f 7274 616e 7420 7061 7274  e important part
+00000f30: 2069 7320 7468 6520 602d 7660 2066 6c61   is the `-v` fla
+00000f40: 672c 2077 6869 6368 2077 696c 6c20 6d6f  g, which will mo
+00000f50: 756e 7420 796f 7572 206c 6f63 616c 2066  unt your local f
+00000f60: 6f6c 6465 7220 6173 2076 6f6c 756d 6520  older as volume 
+00000f70: 746f 2074 6865 2063 6f6e 7461 696e 6572  to the container
+00000f80: 2e0a 0a23 2320 486f 7720 646f 6573 2069  ...## How does i
+00000f90: 7420 776f 726b 3f0a 0a4c 6574 2773 2073  t work?..Let's s
+00000fa0: 6179 2074 6861 7420 796f 7520 6861 7665  ay that you have
+00000fb0: 206d 616e 7920 6d61 6e69 6665 7374 7320   many manifests 
+00000fc0: 696e 2073 6f6d 6520 6469 7265 6374 6f72  in some director
+00000fd0: 7920 2860 6261 7365 6020 6469 7265 6374  y (`base` direct
+00000fe0: 6f72 7929 2074 6861 7420 796f 7520 7769  ory) that you wi
+00000ff0: 7368 2074 6f20 7061 7463 6820 7769 7468  sh to patch with
+00001000: 2070 6174 6368 6573 2028 696e 2074 6865   patches (in the
+00001010: 0a60 7061 7463 6865 7360 2920 6469 7265  .`patches`) dire
+00001020: 6374 6f72 792e 0a0a 5061 7463 6865 7320  ctory...Patches 
+00001030: 636f 756c 6420 6265 2069 6e20 6079 616d  could be in `yam
+00001040: 6c60 206f 7220 606a 736f 6e60 2066 6f72  l` or `json` for
+00001050: 6d61 7420 2861 7320 7765 6c6c 2061 7320  mat (as well as 
+00001060: 796f 7572 206d 616e 6966 6573 7473 292e  your manifests).
+00001070: 2048 6f77 6576 6572 2c20 7468 6579 206d   However, they m
+00001080: 7573 7420 6164 6865 7265 2074 6f20 666f  ust adhere to fo
+00001090: 6c6c 6f77 696e 6720 7363 6865 6d61 3a0a  llowing schema:.
+000010a0: 0a60 6060 7961 6d6c 0a6e 616d 653a 203c  .```yaml.name: <
+000010b0: 7061 7463 685f 6465 7363 7269 7074 696f  patch_descriptio
+000010c0: 6e3e 0a74 6172 6765 743a 0a20 2061 7069  n>.target:.  api
+000010d0: 5665 7273 696f 6e3a 203c 6170 6956 6572  Version: <apiVer
+000010e0: 7369 6f6e 206f 6620 7461 7267 6574 6564  sion of targeted
+000010f0: 2072 6573 6f75 7263 653e 0a20 206b 696e   resource>.  kin
+00001100: 643a 203c 4465 706c 6f79 6d65 6e74 2074  d: <Deployment t
+00001110: 7970 6520 6f66 2074 6172 6765 7465 6420  ype of targeted 
+00001120: 7265 736f 7572 6365 3e0a 2020 6e61 6d65  resource>.  name
+00001130: 3a20 3c6e 616d 6520 6f66 2074 6172 6765  : <name of targe
+00001140: 7465 6420 7265 736f 7572 6365 3e0a 6f70  ted resource>.op
+00001150: 733a 0a20 202d 206e 616d 653a 203c 6f70  s:.  - name: <op
+00001160: 6572 6174 696f 6e20 6465 7363 7269 7074  eration descript
+00001170: 696f 6e3e 0a20 2020 2070 6174 683a 203c  ion>.    path: <
+00001180: 7061 7468 2074 6f20 7468 6520 7061 7274  path to the part
+00001190: 206f 6620 7468 6520 6d61 6e69 6665 7374   of the manifest
+000011a0: 2074 6f20 6265 2070 6174 6368 6564 3e0a   to be patched>.
+000011b0: 2020 2020 7661 6c75 653a 203c 7661 6c75      value: <valu
+000011c0: 6520 7768 6963 6820 7368 6f75 6c64 2062  e which should b
+000011d0: 6520 7265 706c 6163 6564 206f 7220 6164  e replaced or ad
+000011e0: 6465 643e 0a20 2020 2061 6374 696f 6e3a  ded>.    action:
+000011f0: 203c 6164 647c 7265 706c 6163 657c 7265   <add|replace|re
+00001200: 6d6f 7665 3e0a 6060 600a 0a65 6163 6820  move>.```..each 
+00001210: 7061 7463 6820 6669 6c65 2063 616e 2062  patch file can b
+00001220: 6520 6120 6c69 7374 206f 6620 7061 7463  e a list of patc
+00001230: 6865 732e 2059 6f75 2063 616e 2075 7365  hes. You can use
+00001240: 2074 6865 2063 6c61 7373 6963 2079 616d   the classic yam
+00001250: 6c20 666f 726d 6174 2c20 652e 672e 3a0a  l format, e.g.:.
+00001260: 0a60 6060 7961 6d6c 0a2d 206e 616d 653a  .```yaml.- name:
+00001270: 2064 6570 6c6f 796d 656e 745f 7061 7463   deployment_patc
+00001280: 6865 730a 2020 7461 7267 6574 3a0a 2020  hes.  target:.  
+00001290: 2020 6170 6956 6572 7369 6f6e 3a20 6170    apiVersion: ap
+000012a0: 7073 2f76 310a 2020 2020 6b69 6e64 3a20  ps/v1.    kind: 
+000012b0: 4465 706c 6f79 6d65 6e74 0a20 2020 206e  Deployment.    n
+000012c0: 616d 653a 2077 6562 0a20 206f 7073 3a0a  ame: web.  ops:.
+000012d0: 2020 2020 2d20 6e61 6d65 3a20 7265 706c      - name: repl
+000012e0: 6163 655f 696d 6167 650a 2020 2020 2020  ace_image.      
+000012f0: 7061 7468 3a20 2f73 7065 632f 7465 6d70  path: /spec/temp
+00001300: 6c61 7465 2f73 7065 632f 636f 6e74 6169  late/spec/contai
+00001310: 6e65 7273 2f6e 6769 6e78 2f69 6d61 6765  ners/nginx/image
+00001320: 0a20 2020 2020 2076 616c 7565 3a20 6e67  .      value: ng
+00001330: 696e 783a 312e 3233 0a20 2020 2020 2061  inx:1.23.      a
+00001340: 6374 696f 6e3a 2072 6570 6c61 6365 0a2d  ction: replace.-
+00001350: 206e 616d 653a 2073 6572 7669 6365 5f70   name: service_p
+00001360: 6174 6368 6573 0a20 2074 6172 6765 743a  atches.  target:
+00001370: 0a20 2020 2061 7069 5665 7273 696f 6e3a  .    apiVersion:
+00001380: 2076 310a 2020 2020 6b69 6e64 3a20 5365   v1.    kind: Se
+00001390: 7276 6963 650a 2020 2020 6e61 6d65 3a20  rvice.    name: 
+000013a0: 6e67 696e 782d 7365 7276 6963 650a 2020  nginx-service.  
+000013b0: 6f70 733a 0a20 2020 202d 206e 616d 653a  ops:.    - name:
+000013c0: 2061 6464 5f68 7474 7073 5f70 6f72 740a   add_https_port.
+000013d0: 2020 2020 2020 7061 7468 3a20 2f73 7065        path: /spe
+000013e0: 632f 706f 7274 730a 2020 2020 2020 7661  c/ports.      va
+000013f0: 6c75 653a 0a20 2020 2020 2020 206e 616d  lue:.        nam
+00001400: 653a 2068 7474 7073 0a20 2020 2020 2020  e: https.       
+00001410: 2070 6f72 743a 2034 3433 0a20 2020 2020   port: 443.     
+00001420: 2020 2070 726f 746f 636f 6c3a 2054 4350     protocol: TCP
+00001430: 0a20 2020 2020 2020 2074 6172 6765 7450  .        targetP
+00001440: 6f72 743a 2034 3433 0a20 2020 2020 2061  ort: 443.      a
+00001450: 6374 696f 6e3a 2061 6464 0a20 2020 202d  ction: add.    -
+00001460: 206e 616d 653a 2072 656e 616d 655f 6874   name: rename_ht
+00001470: 7470 5f70 6f72 740a 2020 2020 2020 7061  tp_port.      pa
+00001480: 7468 3a20 2f73 7065 632f 706f 7274 732f  th: /spec/ports/
+00001490: 6874 7470 2f6e 616d 650a 2020 2020 2020  http/name.      
+000014a0: 6163 7469 6f6e 3a20 7265 706c 6163 650a  action: replace.
+000014b0: 2020 2020 2020 7661 6c75 653a 206e 6577        value: new
+000014c0: 5f6e 616d 650a 6060 600a 0a6f 7220 7573  _name.```..or us
+000014d0: 6520 7468 6520 602d 2d2d 6020 7365 7061  e the `---` sepa
+000014e0: 7261 746f 723a 0a0a 6060 6079 616d 6c0a  rator:..```yaml.
+000014f0: 2d2d 2d0a 6e61 6d65 3a20 6465 706c 6f79  ---.name: deploy
+00001500: 6d65 6e74 5f70 6174 6368 6573 0a74 6172  ment_patches.tar
+00001510: 6765 743a 0a20 2061 7069 5665 7273 696f  get:.  apiVersio
+00001520: 6e3a 2061 7070 732f 7631 0a20 206b 696e  n: apps/v1.  kin
+00001530: 643a 2044 6570 6c6f 796d 656e 740a 2020  d: Deployment.  
+00001540: 6e61 6d65 3a20 7765 620a 6f70 733a 0a2d  name: web.ops:.-
+00001550: 206e 616d 653a 2072 6570 6c61 6365 5f69   name: replace_i
+00001560: 6d61 6765 0a20 2070 6174 683a 202f 7370  mage.  path: /sp
+00001570: 6563 2f74 656d 706c 6174 652f 7370 6563  ec/template/spec
+00001580: 2f63 6f6e 7461 696e 6572 732f 6e67 696e  /containers/ngin
+00001590: 782f 696d 6167 650a 2020 7661 6c75 653a  x/image.  value:
+000015a0: 206e 6769 6e78 3a31 2e32 330a 2020 6163   nginx:1.23.  ac
+000015b0: 7469 6f6e 3a20 7265 706c 6163 650a 2d2d  tion: replace.--
+000015c0: 2d0a 6e61 6d65 3a20 7365 7276 6963 655f  -.name: service_
+000015d0: 7061 7463 6865 730a 7461 7267 6574 3a0a  patches.target:.
+000015e0: 2020 6170 6956 6572 7369 6f6e 3a20 7631    apiVersion: v1
+000015f0: 0a20 206b 696e 643a 2053 6572 7669 6365  .  kind: Service
+00001600: 0a20 206e 616d 653a 206e 6769 6e78 2d73  .  name: nginx-s
+00001610: 6572 7669 6365 0a6f 7073 3a0a 2d20 6e61  ervice.ops:.- na
+00001620: 6d65 3a20 6164 645f 6874 7470 735f 706f  me: add_https_po
+00001630: 7274 0a20 2070 6174 683a 202f 7370 6563  rt.  path: /spec
+00001640: 2f70 6f72 7473 0a20 2076 616c 7565 3a0a  /ports.  value:.
+00001650: 2020 2020 6e61 6d65 3a20 6874 7470 730a      name: https.
+00001660: 2020 2020 706f 7274 3a20 3434 330a 2020      port: 443.  
+00001670: 2020 7072 6f74 6f63 6f6c 3a20 5443 500a    protocol: TCP.
+00001680: 2020 2020 7461 7267 6574 506f 7274 3a20      targetPort: 
+00001690: 3434 330a 2020 6163 7469 6f6e 3a20 6164  443.  action: ad
+000016a0: 640a 2d20 6e61 6d65 3a20 7265 6e61 6d65  d.- name: rename
+000016b0: 5f68 7474 705f 706f 7274 0a20 2070 6174  _http_port.  pat
+000016c0: 683a 202f 7370 6563 2f70 6f72 7473 2f68  h: /spec/ports/h
+000016d0: 7474 702f 6e61 6d65 0a20 2061 6374 696f  ttp/name.  actio
+000016e0: 6e3a 2072 6570 6c61 6365 0a20 2076 616c  n: replace.  val
+000016f0: 7565 3a20 6e65 775f 6e61 6d65 0a60 6060  ue: new_name.```
+00001700: 0a0a 5468 656e 2061 6c6c 2079 6f75 206e  ..Then all you n
+00001710: 6565 6420 746f 2064 6f2c 2069 7320 7275  eed to do, is ru
+00001720: 6e3a 0a0a 6060 6073 6865 6c6c 0a6b 7375  n:..```shell.ksu
+00001730: 7820 2d62 203c 7061 7468 5f74 6f5f 6261  x -b <path_to_ba
+00001740: 7365 5f64 6972 3e20 2d70 203c 7061 7468  se_dir> -p <path
+00001750: 5f74 6f5f 7061 7463 6865 735f 6469 723e  _to_patches_dir>
+00001760: 202d 6f20 3c6f 7574 7075 745f 6469 723e   -o <output_dir>
+00001770: 0a60 6060 0a0a 5468 6973 2077 696c 6c20  .```..This will 
+00001780: 7361 7665 2061 6c6c 2070 6174 6368 6564  save all patched
+00001790: 206d 616e 6966 6573 7473 2074 6f20 7468   manifests to th
+000017a0: 6520 6f75 7470 7574 2064 6972 2e20 596f  e output dir. Yo
+000017b0: 7520 6361 6e20 7573 6520 7468 6520 602d  u can use the `-
+000017c0: 2d64 7279 2d72 756e 6020 666c 6167 2074  -dry-run` flag t
+000017d0: 6f20 7072 696e 7420 7468 6520 7061 7463  o print the patc
+000017e0: 6865 640a 6d61 6e69 6665 7374 7320 746f  hed.manifests to
+000017f0: 2073 7464 6f75 743a 0a0a 6060 6073 6865   stdout:..```she
+00001800: 6c6c 0a6b 7375 7820 2d62 203c 7061 7468  ll.ksux -b <path
+00001810: 5f74 6f5f 6261 7365 5f64 6972 3e20 2d70  _to_base_dir> -p
+00001820: 203c 7061 7468 5f74 6f5f 7061 7463 6865   <path_to_patche
+00001830: 735f 6469 723e 202d 2d64 7279 2d72 756e  s_dir> --dry-run
+00001840: 0a60 6060 0a0a 466f 7220 6c69 7374 206f  .```..For list o
+00001850: 6620 616c 6c20 6f70 7469 6f6e 7320 7365  f all options se
+00001860: 653a 0a0a 6060 6073 6865 6c6c 0a6b 7375  e:..```shell.ksu
+00001870: 7820 2d2d 6865 6c70 0a60 6060 0a0a 2323  x --help.```..##
+00001880: 2320 7468 6520 606f 702e 7061 7468 600a  # the `op.path`.
+00001890: 0a54 6869 7320 6973 2061 2070 7265 7474  .This is a prett
+000018a0: 7920 636f 6f6c 2074 6869 6e67 2e20 5369  y cool thing. Si
+000018b0: 6d69 6c61 7220 746f 206b 7573 746f 6d69  milar to kustomi
+000018c0: 7a65 2070 6174 682c 2068 6f77 6576 6572  ze path, however
+000018d0: 2079 6f75 2063 616e 2074 6172 6765 7420   you can target 
+000018e0: 6c69 7374 2069 7465 6d20 6279 206e 616d  list item by nam
+000018f0: 6573 206f 6620 6368 696c 6420 6f62 6a65  es of child obje
+00001900: 6374 732e 0a45 2e67 2e20 7361 7920 796f  cts..E.g. say yo
+00001910: 7520 6861 7665 2061 206c 6973 7420 6f66  u have a list of
+00001920: 2070 6f72 7473 2069 6e20 6120 7365 7276   ports in a serv
+00001930: 6963 653a 0a0a 6060 6079 616d 6c0a 6170  ice:..```yaml.ap
+00001940: 6956 6572 7369 6f6e 3a20 7631 0a6b 696e  iVersion: v1.kin
+00001950: 643a 2053 6572 7669 6365 0a6d 6574 6164  d: Service.metad
+00001960: 6174 613a 0a20 206c 6162 656c 733a 0a20  ata:.  labels:. 
+00001970: 2020 2061 7070 3a20 6e67 696e 782d 7365     app: nginx-se
+00001980: 7276 6963 650a 2020 6e61 6d65 3a20 6e67  rvice.  name: ng
+00001990: 696e 782d 7365 7276 6963 650a 7370 6563  inx-service.spec
+000019a0: 3a0a 2020 706f 7274 733a 0a20 2020 202d  :.  ports:.    -
+000019b0: 206e 616d 653a 206e 6577 5f6e 616d 650a   name: new_name.
+000019c0: 2020 2020 2020 706f 7274 3a20 3830 0a20        port: 80. 
+000019d0: 2020 2020 2070 726f 746f 636f 6c3a 2054       protocol: T
+000019e0: 4350 0a20 2020 2020 2074 6172 6765 7450  CP.      targetP
+000019f0: 6f72 743a 2038 300a 2020 2020 2d20 6e61  ort: 80.    - na
+00001a00: 6d65 3a20 6874 7470 730a 2020 2020 2020  me: https.      
+00001a10: 706f 7274 3a20 3434 330a 2020 2020 2020  port: 443.      
+00001a20: 7072 6f74 6f63 6f6c 3a20 5443 500a 2020  protocol: TCP.  
+00001a30: 2020 2020 7461 7267 6574 506f 7274 3a20      targetPort: 
+00001a40: 3434 330a 2020 7365 6c65 6374 6f72 3a0a  443.  selector:.
+00001a50: 2020 2020 6170 703a 2077 6562 0a20 2074      app: web.  t
+00001a60: 7970 653a 2043 6c75 7374 6572 4950 0a60  ype: ClusterIP.`
+00001a70: 6060 0a0a 546f 2074 6172 6765 7420 7468  ``..To target th
+00001a80: 6520 6068 7474 7073 6020 7365 7276 6963  e `https` servic
+00001a90: 6520 616e 6420 6368 616e 6765 2069 7473  e and change its
+00001aa0: 206e 616d 652c 2079 6f75 2063 616e 2073   name, you can s
+00001ab0: 7065 6369 6679 2074 6865 2070 6174 683a  pecify the path:
+00001ac0: 2060 2f73 7065 632f 706f 7274 732f 6874   `/spec/ports/ht
+00001ad0: 7470 732f 6e61 6d65 6020 616e 6420 7468  tps/name` and th
+00001ae0: 656e 0a73 6574 2074 6865 2076 616c 7565  en.set the value
+00001af0: 2074 6f20 7468 6520 6e65 7720 6e61 6d65   to the new name
+00001b00: 20f0 9f92 aa2e 0a0a 2323 2045 7861 6d70   .......## Examp
+00001b10: 6c65 0a0a 496e 2074 6865 2060 2e2f 6578  le..In the `./ex
+00001b20: 616d 706c 6573 6020 666f 6c64 6572 2074  amples` folder t
+00001b30: 6865 7265 2061 7265 2033 2073 7562 2d66  here are 3 sub-f
+00001b40: 6f6c 6465 7273 3a0a 2020 2020 2d20 602f  olders:.    - `/
+00001b50: 6578 616d 706c 6573 2f62 6173 6560 2077  examples/base` w
+00001b60: 6974 6820 6465 706c 6f79 6d65 6e74 2c20  ith deployment, 
+00001b70: 7365 7276 6963 6520 616e 6420 6120 636f  service and a co
+00001b80: 6e66 6967 6d61 7020 6d61 6e69 6665 7374  nfigmap manifest
+00001b90: 732e 2054 6865 7365 2061 7265 2074 6865  s. These are the
+00001ba0: 2062 6173 6520 6d61 6e69 6665 7374 7320   base manifests 
+00001bb0: 7768 6963 6820 7765 2077 6973 680a 2020  which we wish.  
+00001bc0: 2020 746f 2070 6174 6368 0a20 2020 202d    to patch.    -
+00001bd0: 2060 2f65 7861 6d70 6c65 732f 7061 7463   `/examples/patc
+00001be0: 6865 7360 2063 6f6e 7461 696e 2074 6865  hes` contain the
+00001bf0: 2070 6174 6368 6573 2028 6e6f 7469 6365   patches (notice
+00001c00: 2074 6861 7420 626f 7468 2062 6173 6520   that both base 
+00001c10: 6b75 6265 726e 6574 6573 206d 616e 6966  kubernetes manif
+00001c20: 6573 7473 2061 6e64 2070 6174 6368 6573  ests and patches
+00001c30: 2063 616e 2062 6520 6569 7468 6572 2069   can be either i
+00001c40: 6e0a 2020 2020 606a 736f 6e60 206f 7220  n.    `json` or 
+00001c50: 6079 6d6c 602f 6079 616d 6c60 2066 6f72  `yml`/`yaml` for
+00001c60: 6d61 7429 0a20 2020 202d 2060 2f65 7861  mat).    - `/exa
+00001c70: 6d70 6c65 732f 6f75 7460 2069 7320 7468  mples/out` is th
+00001c80: 6520 6f75 7470 7574 2064 6972 6563 746f  e output directo
+00001c90: 7279 2077 6865 7265 2074 6865 2070 6174  ry where the pat
+00001ca0: 6368 6564 2072 6573 6f75 7263 6573 2077  ched resources w
+00001cb0: 696c 6c20 6265 206f 7574 7075 740a 0a46  ill be output..F
+00001cc0: 6972 7374 2c20 7765 2077 696c 6c20 6064  irst, we will `d
+00001cd0: 7279 2d72 756e 6020 7468 6520 7061 7463  ry-run` the patc
+00001ce0: 6869 6e67 3a0a 0a60 6060 7368 656c 6c0a  hing:..```shell.
+00001cf0: 6b73 7578 202d 6220 6578 616d 706c 6573  ksux -b examples
+00001d00: 2f62 6173 6520 2d70 2065 7861 6d70 6c65  /base -p example
+00001d10: 732f 7061 7463 6865 7320 2d2d 6472 792d  s/patches --dry-
+00001d20: 7275 6e0a 6060 600a 0a59 6f75 2073 686f  run.```..You sho
+00001d30: 756c 6420 7365 6520 7468 6520 7061 7463  uld see the patc
+00001d40: 6865 6420 6d61 6e69 6665 7374 7320 7072  hed manifests pr
+00001d50: 696e 7465 6420 6f75 7420 746f 2074 6865  inted out to the
+00001d60: 2063 6f6e 736f 6c65 2e20 4e6f 7720 7765   console. Now we
+00001d70: 2063 616e 2072 756e 2069 7420 616e 6420   can run it and 
+00001d80: 7361 7665 2074 6865 2070 6174 6368 6564  save the patched
+00001d90: 206d 616e 6966 6573 7473 0a74 6f20 7468   manifests.to th
+00001da0: 6520 606f 7574 7075 7460 2066 6f6c 6465  e `output` folde
+00001db0: 723a 0a0a 6060 6073 6865 6c6c 0a6b 7375  r:..```shell.ksu
+00001dc0: 7820 2d62 2065 7861 6d70 6c65 732f 6261  x -b examples/ba
+00001dd0: 7365 202d 7020 6578 616d 706c 6573 2f70  se -p examples/p
+00001de0: 6174 6368 6573 202d 6f20 6578 616d 706c  atches -o exampl
+00001df0: 6573 2f6f 7574 0a60 6060 0a0a 4279 2064  es/out.```..By d
+00001e00: 6566 6175 6c74 2c20 7468 6520 6d61 6e69  efault, the mani
+00001e10: 6665 7374 7320 7769 6c6c 2062 6520 7361  fests will be sa
+00001e20: 7665 6420 696e 2060 7961 6d6c 6020 666f  ved in `yaml` fo
+00001e30: 726d 6174 2077 6974 6820 602e 7961 6d6c  rmat with `.yaml
+00001e40: 6020 6578 7465 6e73 696f 6e2e 2049 6620  ` extension. If 
+00001e50: 796f 7520 7769 7368 2074 6f20 7573 6520  you wish to use 
+00001e60: 7468 6520 602e 796d 6c60 2065 7874 656e  the `.yml` exten
+00001e70: 7369 6f6e 0a6f 7220 7361 7665 2074 6865  sion.or save the
+00001e80: 206d 616e 6966 6573 7473 2069 6e20 606a   manifests in `j
+00001e90: 736f 6e60 2066 6f72 6d61 742c 2073 696d  son` format, sim
+00001ea0: 706c 7920 7072 6f76 6964 6520 7468 6520  ply provide the 
+00001eb0: 602d 6560 2066 6c61 6720 7769 7468 2063  `-e` flag with c
+00001ec0: 6f72 7265 7370 6f6e 6469 6e67 2065 7874  orresponding ext
+00001ed0: 656e 7369 6f6e 2e20 452e 672e 3a0a 0a60  ension. E.g.:..`
+00001ee0: 6060 7368 656c 6c0a 6b73 7578 202d 6220  ``shell.ksux -b 
+00001ef0: 6578 616d 706c 6573 2f62 6173 6520 2d70  examples/base -p
+00001f00: 2065 7861 6d70 6c65 732f 7061 7463 6865   examples/patche
+00001f10: 7320 2d6f 2065 7861 6d70 6c65 732f 6f75  s -o examples/ou
+00001f20: 7420 2d65 206a 736f 6e0a 6060 600a       t -e json.```.
```

### Comparing `ksux-0.5.3/README.md` & `ksux-0.5.4/README.md`

 * *Files 8% similar despite different names*

```diff
@@ -1,391 +1,398 @@
-00000000: 2320 6b73 7578 2020 215b 4769 7448 7562  # ksux  ![GitHub
-00000010: 2057 6f72 6b66 6c6f 7720 5374 6174 7573   Workflow Status
-00000020: 2028 7769 7468 2062 7261 6e63 6829 5d28   (with branch)](
-00000030: 6874 7470 733a 2f2f 696d 672e 7368 6965  https://img.shie
-00000040: 6c64 732e 696f 2f67 6974 6875 622f 6163  lds.io/github/ac
-00000050: 7469 6f6e 732f 776f 726b 666c 6f77 2f73  tions/workflow/s
-00000060: 7461 7475 732f 7473 6c61 6465 6365 6b2f  tatus/tsladecek/
-00000070: 6b73 7578 2f74 6573 742e 796d 6c3f 6272  ksux/test.yml?br
-00000080: 616e 6368 3d6d 6169 6e26 6c61 6265 6c3d  anch=main&label=
-00000090: 7465 7374 7326 6c6f 676f 3d47 6974 4875  tests&logo=GitHu
-000000a0: 6229 2021 5b47 6974 4875 6220 7265 706f  b) ![GitHub repo
-000000b0: 2073 697a 655d 2868 7474 7073 3a2f 2f69   size](https://i
-000000c0: 6d67 2e73 6869 656c 6473 2e69 6f2f 6769  mg.shields.io/gi
-000000d0: 7468 7562 2f72 6570 6f2d 7369 7a65 2f74  thub/repo-size/t
-000000e0: 736c 6164 6563 656b 2f6b 7375 7829 2021  sladecek/ksux) !
-000000f0: 5b47 6974 4875 625d 2868 7474 7073 3a2f  [GitHub](https:/
-00000100: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
-00000110: 6769 7468 7562 2f6c 6963 656e 7365 2f74  github/license/t
-00000120: 736c 6164 6563 656b 2f6b 7375 7829 2021  sladecek/ksux) !
-00000130: 5b47 6974 4875 6220 7461 6720 286c 6174  [GitHub tag (lat
-00000140: 6573 7420 5365 6d56 6572 295d 2868 7474  est SemVer)](htt
-00000150: 7073 3a2f 2f69 6d67 2e73 6869 656c 6473  ps://img.shields
-00000160: 2e69 6f2f 6769 7468 7562 2f76 2f74 6167  .io/github/v/tag
-00000170: 2f74 736c 6164 6563 656b 2f6b 7375 783f  /tsladecek/ksux?
-00000180: 636f 6c6f 723d 7965 6c6c 6f77 266c 6162  color=yellow&lab
-00000190: 656c 3d76 6572 7369 6f6e 266c 6f67 6f3d  el=version&logo=
-000001a0: 4769 7448 7562 2920 5b21 5b50 7950 495d  GitHub) [![PyPI]
-000001b0: 2868 7474 7073 3a2f 2f69 6d67 2e73 6869  (https://img.shi
-000001c0: 656c 6473 2e69 6f2f 7079 7069 2f76 2f6b  elds.io/pypi/v/k
-000001d0: 7375 783f 6c6f 676f 3d50 7970 6929 5d28  sux?logo=Pypi)](
-000001e0: 6874 7470 733a 2f2f 7079 7069 2e6f 7267  https://pypi.org
-000001f0: 2f70 726f 6a65 6374 2f6b 7375 782f 2920  /project/ksux/) 
-00000200: 5b21 5b44 6f63 6b65 7220 496d 6167 6520  [![Docker Image 
-00000210: 5369 7a65 2028 6c61 7465 7374 2062 7920  Size (latest by 
-00000220: 6461 7465 295d 2868 7474 7073 3a2f 2f69  date)](https://i
-00000230: 6d67 2e73 6869 656c 6473 2e69 6f2f 646f  mg.shields.io/do
-00000240: 636b 6572 2f69 6d61 6765 2d73 697a 652f  cker/image-size/
-00000250: 7473 6c61 6465 6365 6b2f 6b73 7578 3f6c  tsladecek/ksux?l
-00000260: 6f67 6f3d 446f 636b 6572 2673 6f72 743d  ogo=Docker&sort=
-00000270: 6461 7465 295d 2868 7474 7073 3a2f 2f68  date)](https://h
-00000280: 7562 2e64 6f63 6b65 722e 636f 6d2f 722f  ub.docker.com/r/
-00000290: 7473 6c61 6465 6365 6b2f 6b73 7578 290a  tsladecek/ksux).
-000002a0: 0a41 2073 696d 706c 6520 7761 7920 666f  .A simple way fo
-000002b0: 7220 7465 6d70 6c61 7469 6e67 206b 7562  r templating kub
-000002c0: 6572 6e65 7465 7320 6d61 6e69 6665 7374  ernetes manifest
-000002d0: 732e 0a0a 312e 205b 5265 7175 6972 656d  s...1. [Requirem
-000002e0: 656e 7473 5d28 2372 6571 7569 7265 6d65  ents](#requireme
-000002f0: 6e74 7329 0a32 2e20 5b49 6e73 7461 6c6c  nts).2. [Install
-00000300: 6174 696f 6e5d 2823 696e 7374 616c 6c61  ation](#installa
-00000310: 7469 6f6e 290a 2020 2031 2e20 5b4c 6f63  tion).   1. [Loc
-00000320: 616c 5d28 236c 6f63 616c 290a 2020 2032  al](#local).   2
-00000330: 2e20 5b44 6f63 6b65 725d 2823 646f 636b  . [Docker](#dock
-00000340: 6572 290a 332e 205b 486f 7720 646f 6573  er).3. [How does
-00000350: 2069 7420 776f 726b 3f5d 2823 686f 772d   it work?](#how-
-00000360: 646f 6573 2d69 742d 776f 726b 290a 2020  does-it-work).  
-00000370: 2031 2e20 5b54 6865 2060 6f70 2e70 6174   1. [The `op.pat
-00000380: 6860 5d28 2374 6865 2d6f 7070 6174 6829  h`](#the-oppath)
-00000390: 0a34 2e20 5b45 7861 6d70 6c65 5d28 2365  .4. [Example](#e
-000003a0: 7861 6d70 6c65 290a 0a2d 2d2d 0a74 6c64  xample)..---.tld
-000003b0: 722e 0a0a 6060 6073 6865 6c6c 0a6b 7375  r...```shell.ksu
-000003c0: 7820 2d62 203c 7061 7468 5f74 6f5f 6261  x -b <path_to_ba
-000003d0: 7365 5f64 6972 3e20 2d70 203c 7061 7468  se_dir> -p <path
-000003e0: 5f74 6f5f 7061 7463 6865 735f 6469 723e  _to_patches_dir>
-000003f0: 202d 6f20 3c6f 7574 7075 745f 6469 723e   -o <output_dir>
-00000400: 0a60 6060 0a0a 6f72 2075 7369 6e67 2064  .```..or using d
-00000410: 6f63 6b65 723a 0a0a 6060 6073 6865 6c6c  ocker:..```shell
-00000420: 0a64 6f63 6b65 7220 7275 6e20 2d2d 726d  .docker run --rm
-00000430: 202d 7620 2f70 6174 682f 746f 2f79 6f75   -v /path/to/you
-00000440: 722f 636f 6e66 6967 733a 2f63 6f6e 6669  r/configs:/confi
-00000450: 6773 2074 736c 6164 6563 656b 2f6b 7375  gs tsladecek/ksu
-00000460: 7820 6b73 7578 202d 6220 2f63 6f6e 6669  x ksux -b /confi
-00000470: 6773 2f62 6173 6520 2d70 202f 636f 6e66  gs/base -p /conf
-00000480: 6967 732f 7061 7463 6865 7320 2d6f 202f  igs/patches -o /
-00000490: 636f 6e66 6967 732f 6f75 740a 6060 600a  configs/out.```.
-000004a0: 0a2d 2d2d 0a0a 2323 2052 6571 7569 7265  .---..## Require
-000004b0: 6d65 6e74 730a 0a54 6869 7320 6973 2061  ments..This is a
-000004c0: 2070 7974 686f 6e20 7061 636b 6167 652e   python package.
-000004d0: 2053 6f20 7468 6520 6f6e 6c79 2072 6571   So the only req
-000004e0: 7569 7265 6d65 6e74 7320 6172 6520 6070  uirements are `p
-000004f0: 7974 686f 6e33 6020 616e 6420 6070 6970  ython3` and `pip
-00000500: 600a 0a23 2320 496e 7374 616c 6c61 7469  `..## Installati
-00000510: 6f6e 0a0a 2323 2320 4c6f 6361 6c0a 0a2d  on..### Local..-
-00000520: 204f 7074 696f 6e61 6c3a 2043 7265 6174   Optional: Creat
-00000530: 6520 616e 6420 6163 7469 7661 7465 2061  e and activate a
-00000540: 2076 6972 7475 616c 2065 6e76 2e0a 0a60   virtual env...`
-00000550: 6060 7368 656c 6c0a 2320 6f70 7469 6f6e  ``shell.# option
-00000560: 2031 3a20 7669 7275 616c 7665 6e76 0a76   1: virualvenv.v
-00000570: 6972 7475 616c 7665 6e76 206b 7375 780a  irtualvenv ksux.
-00000580: 736f 7572 6365 206b 7375 782f 6269 6e2f  source ksux/bin/
-00000590: 6163 7469 7661 7465 0a0a 2320 6f70 7469  activate..# opti
-000005a0: 6f6e 2032 3a20 7665 6e76 0a70 7974 686f  on 2: venv.pytho
-000005b0: 6e20 2d6d 2076 656e 7620 6b73 7578 0a73  n -m venv ksux.s
-000005c0: 6f75 7263 6520 6b73 7578 2f62 696e 2f61  ource ksux/bin/a
-000005d0: 6374 6976 6174 650a 0a23 206f 7074 696f  ctivate..# optio
-000005e0: 6e20 333a 2063 6f6e 6461 0a63 6f6e 6461  n 3: conda.conda
-000005f0: 2063 7265 6174 6520 2d6e 206b 7375 7820   create -n ksux 
-00000600: 7079 7468 6f6e 0a63 6f6e 6461 2061 6374  python.conda act
-00000610: 6976 6174 6520 6b73 7578 0a60 6060 0a0a  ivate ksux.```..
-00000620: 2d20 496e 7374 616c 6c0a 0a60 6060 7368  - Install..```sh
-00000630: 656c 6c0a 7069 7020 696e 7374 616c 6c20  ell.pip install 
-00000640: 6b73 7578 0a60 6060 0a0a 2323 2320 446f  ksux.```..### Do
-00000650: 636b 6572 0a0a 7573 6520 7468 6520 5b64  cker..use the [d
-00000660: 6f63 6b65 7220 696d 6167 655d 2868 7474  ocker image](htt
-00000670: 7073 3a2f 2f68 7562 2e64 6f63 6b65 722e  ps://hub.docker.
-00000680: 636f 6d2f 722f 7473 6c61 6465 6365 6b2f  com/r/tsladecek/
-00000690: 6b73 7578 290a 0a54 6f20 7275 6e20 7468  ksux)..To run th
-000006a0: 6520 636f 6d6d 616e 6420 696e 7369 6465  e command inside
-000006b0: 2061 2064 6f63 6b65 7220 636f 6e74 6169   a docker contai
-000006c0: 6e65 722c 2079 6f75 206e 6565 6420 746f  ner, you need to
-000006d0: 206d 616b 6520 7375 7265 2074 6861 7420   make sure that 
-000006e0: 616c 6c20 766f 6c75 6d65 7320 6172 6520  all volumes are 
-000006f0: 6d61 7070 6564 2074 6f20 7468 6520 636f  mapped to the co
-00000700: 6e74 6169 6e65 722e 204c 6574 2773 0a73  ntainer. Let's.s
-00000710: 6179 2074 6861 7420 796f 7520 6861 7665  ay that you have
-00000720: 2061 2066 6f6c 6c6f 7769 6e67 2066 696c   a following fil
-00000730: 6520 7374 7275 6374 7572 653a 0a0a 6060  e structure:..``
-00000740: 6073 6865 6c6c 0a7c 2d20 2f68 6f6d 652f  `shell.|- /home/
-00000750: 7072 6f6a 6563 740a 7c20 207c 2d20 6261  project.|  |- ba
-00000760: 7365 0a7c 2020 7c2d 2070 6174 6368 6573  se.|  |- patches
-00000770: 0a7c 2020 7c2d 206f 7574 0a60 6060 0a0a  .|  |- out.```..
-00000780: 546f 2067 656e 6572 6174 6520 7061 7463  To generate patc
-00000790: 6865 6420 6d61 6e69 6665 7374 7320 696e  hed manifests in
-000007a0: 2074 6865 2060 2f68 6f6d 652f 7072 6f6a   the `/home/proj
-000007b0: 6563 742f 6f75 7460 2066 6f6c 6465 722c  ect/out` folder,
-000007c0: 2072 756e 2066 6f6c 6c6f 7769 6e67 2063   run following c
-000007d0: 6f6d 6d61 6e64 3a0a 0a60 6060 7368 656c  ommand:..```shel
-000007e0: 6c0a 646f 636b 6572 2072 756e 202d 2d72  l.docker run --r
-000007f0: 6d20 2d76 202f 686f 6d65 2f70 726f 6a65  m -v /home/proje
-00000800: 6374 3a2f 636f 6e66 6967 7320 7473 6c61  ct:/configs tsla
-00000810: 6465 6365 6b2f 6b73 7578 206b 7375 7820  decek/ksux ksux 
-00000820: 2d62 202f 636f 6e66 6967 732f 6261 7365  -b /configs/base
-00000830: 202d 7020 2f63 6f6e 6669 6773 2f70 6174   -p /configs/pat
-00000840: 6368 6573 202d 6f20 2f63 6f6e 6669 6773  ches -o /configs
-00000850: 2f6f 7574 0a60 6060 0a0a 7468 6520 696d  /out.```..the im
-00000860: 706f 7274 616e 7420 7061 7274 2069 7320  portant part is 
-00000870: 7468 6520 602d 7660 2066 6c61 672c 2077  the `-v` flag, w
-00000880: 6869 6368 2077 696c 6c20 6d6f 756e 7420  hich will mount 
-00000890: 796f 7572 206c 6f63 616c 2066 6f6c 6465  your local folde
-000008a0: 7220 6173 2076 6f6c 756d 6520 746f 2074  r as volume to t
-000008b0: 6865 2063 6f6e 7461 696e 6572 2e0a 0a23  he container...#
-000008c0: 2320 486f 7720 646f 6573 2069 7420 776f  # How does it wo
-000008d0: 726b 3f0a 0a4c 6574 2773 2073 6179 2074  rk?..Let's say t
-000008e0: 6861 7420 796f 7520 6861 7665 206d 616e  hat you have man
-000008f0: 7920 6d61 6e69 6665 7374 7320 696e 2073  y manifests in s
-00000900: 6f6d 6520 6469 7265 6374 6f72 7920 2860  ome directory (`
-00000910: 6261 7365 6020 6469 7265 6374 6f72 7929  base` directory)
-00000920: 2074 6861 7420 796f 7520 7769 7368 2074   that you wish t
-00000930: 6f20 7061 7463 6820 7769 7468 2070 6174  o patch with pat
-00000940: 6368 6573 2028 696e 2074 6865 0a60 7061  ches (in the.`pa
-00000950: 7463 6865 7360 2920 6469 7265 6374 6f72  tches`) director
-00000960: 792e 0a0a 5061 7463 6865 7320 636f 756c  y...Patches coul
-00000970: 6420 6265 2069 6e20 6079 616d 6c60 206f  d be in `yaml` o
-00000980: 7220 606a 736f 6e60 2066 6f72 6d61 7420  r `json` format 
-00000990: 2861 7320 7765 6c6c 2061 7320 796f 7572  (as well as your
-000009a0: 206d 616e 6966 6573 7473 292e 2048 6f77   manifests). How
-000009b0: 6576 6572 2c20 7468 6579 206d 7573 7420  ever, they must 
-000009c0: 6164 6865 7265 2074 6f20 666f 6c6c 6f77  adhere to follow
-000009d0: 696e 6720 7363 6865 6d61 3a0a 0a60 6060  ing schema:..```
-000009e0: 7961 6d6c 0a6e 616d 653a 203c 7061 7463  yaml.name: <patc
-000009f0: 685f 6465 7363 7269 7074 696f 6e3e 0a74  h_description>.t
-00000a00: 6172 6765 743a 0a20 2061 7069 5665 7273  arget:.  apiVers
-00000a10: 696f 6e3a 203c 6170 6956 6572 7369 6f6e  ion: <apiVersion
-00000a20: 206f 6620 7461 7267 6574 6564 2072 6573   of targeted res
-00000a30: 6f75 7263 653e 0a20 206b 696e 643a 203c  ource>.  kind: <
-00000a40: 4465 706c 6f79 6d65 6e74 2074 7970 6520  Deployment type 
-00000a50: 6f66 2074 6172 6765 7465 6420 7265 736f  of targeted reso
-00000a60: 7572 6365 3e0a 2020 6e61 6d65 3a20 3c6e  urce>.  name: <n
-00000a70: 616d 6520 6f66 2074 6172 6765 7465 6420  ame of targeted 
-00000a80: 7265 736f 7572 6365 3e0a 6f70 733a 0a20  resource>.ops:. 
-00000a90: 202d 206e 616d 653a 203c 6f70 6572 6174   - name: <operat
-00000aa0: 696f 6e20 6465 7363 7269 7074 696f 6e3e  ion description>
-00000ab0: 0a20 2020 2070 6174 683a 203c 7061 7468  .    path: <path
-00000ac0: 2074 6f20 7468 6520 7061 7274 206f 6620   to the part of 
-00000ad0: 7468 6520 6d61 6e69 6665 7374 2074 6f20  the manifest to 
-00000ae0: 6265 2070 6174 6368 6564 3e0a 2020 2020  be patched>.    
-00000af0: 7661 6c75 653a 203c 7661 6c75 6520 7768  value: <value wh
-00000b00: 6963 6820 7368 6f75 6c64 2062 6520 7265  ich should be re
-00000b10: 706c 6163 6564 206f 7220 6164 6465 643e  placed or added>
-00000b20: 0a20 2020 2061 6374 696f 6e3a 203c 6164  .    action: <ad
-00000b30: 647c 7265 706c 6163 657c 7265 6d6f 7665  d|replace|remove
-00000b40: 3e0a 6060 600a 0a65 6163 6820 7061 7463  >.```..each patc
-00000b50: 6820 6669 6c65 2063 616e 2062 6520 6120  h file can be a 
-00000b60: 6c69 7374 206f 6620 7061 7463 6865 732e  list of patches.
-00000b70: 2059 6f75 2063 616e 2075 7365 2074 6865   You can use the
-00000b80: 2063 6c61 7373 6963 2079 616d 6c20 666f   classic yaml fo
-00000b90: 726d 6174 2c20 652e 672e 3a0a 0a60 6060  rmat, e.g.:..```
-00000ba0: 7961 6d6c 0a2d 206e 616d 653a 2064 6570  yaml.- name: dep
-00000bb0: 6c6f 796d 656e 745f 7061 7463 6865 730a  loyment_patches.
-00000bc0: 2020 7461 7267 6574 3a0a 2020 2020 6170    target:.    ap
-00000bd0: 6956 6572 7369 6f6e 3a20 6170 7073 2f76  iVersion: apps/v
-00000be0: 310a 2020 2020 6b69 6e64 3a20 4465 706c  1.    kind: Depl
-00000bf0: 6f79 6d65 6e74 0a20 2020 206e 616d 653a  oyment.    name:
-00000c00: 2077 6562 0a20 206f 7073 3a0a 2020 2020   web.  ops:.    
-00000c10: 2d20 6e61 6d65 3a20 7265 706c 6163 655f  - name: replace_
-00000c20: 696d 6167 650a 2020 2020 2020 7061 7468  image.      path
-00000c30: 3a20 2f73 7065 632f 7465 6d70 6c61 7465  : /spec/template
-00000c40: 2f73 7065 632f 636f 6e74 6169 6e65 7273  /spec/containers
-00000c50: 2f6e 6769 6e78 2f69 6d61 6765 0a20 2020  /nginx/image.   
-00000c60: 2020 2076 616c 7565 3a20 6e67 696e 783a     value: nginx:
-00000c70: 312e 3233 0a20 2020 2020 2061 6374 696f  1.23.      actio
-00000c80: 6e3a 2072 6570 6c61 6365 0a2d 206e 616d  n: replace.- nam
-00000c90: 653a 2073 6572 7669 6365 5f70 6174 6368  e: service_patch
-00000ca0: 6573 0a20 2074 6172 6765 743a 0a20 2020  es.  target:.   
-00000cb0: 2061 7069 5665 7273 696f 6e3a 2076 310a   apiVersion: v1.
-00000cc0: 2020 2020 6b69 6e64 3a20 5365 7276 6963      kind: Servic
-00000cd0: 650a 2020 2020 6e61 6d65 3a20 6e67 696e  e.    name: ngin
-00000ce0: 782d 7365 7276 6963 650a 2020 6f70 733a  x-service.  ops:
-00000cf0: 0a20 2020 202d 206e 616d 653a 2061 6464  .    - name: add
-00000d00: 5f68 7474 7073 5f70 6f72 740a 2020 2020  _https_port.    
-00000d10: 2020 7061 7468 3a20 2f73 7065 632f 706f    path: /spec/po
-00000d20: 7274 730a 2020 2020 2020 7661 6c75 653a  rts.      value:
-00000d30: 0a20 2020 2020 2020 206e 616d 653a 2068  .        name: h
-00000d40: 7474 7073 0a20 2020 2020 2020 2070 6f72  ttps.        por
-00000d50: 743a 2034 3433 0a20 2020 2020 2020 2070  t: 443.        p
-00000d60: 726f 746f 636f 6c3a 2054 4350 0a20 2020  rotocol: TCP.   
-00000d70: 2020 2020 2074 6172 6765 7450 6f72 743a       targetPort:
-00000d80: 2034 3433 0a20 2020 2020 2061 6374 696f   443.      actio
-00000d90: 6e3a 2061 6464 0a20 2020 202d 206e 616d  n: add.    - nam
-00000da0: 653a 2072 656e 616d 655f 6874 7470 5f70  e: rename_http_p
-00000db0: 6f72 740a 2020 2020 2020 7061 7468 3a20  ort.      path: 
-00000dc0: 2f73 7065 632f 706f 7274 732f 6874 7470  /spec/ports/http
-00000dd0: 2f6e 616d 650a 2020 2020 2020 6163 7469  /name.      acti
-00000de0: 6f6e 3a20 7265 706c 6163 650a 2020 2020  on: replace.    
-00000df0: 2020 7661 6c75 653a 206e 6577 5f6e 616d    value: new_nam
-00000e00: 650a 6060 600a 0a6f 7220 7573 6520 7468  e.```..or use th
-00000e10: 6520 602d 2d2d 6020 7365 7061 7261 746f  e `---` separato
-00000e20: 723a 0a0a 6060 6079 616d 6c0a 2d2d 2d0a  r:..```yaml.---.
-00000e30: 6e61 6d65 3a20 6465 706c 6f79 6d65 6e74  name: deployment
-00000e40: 5f70 6174 6368 6573 0a74 6172 6765 743a  _patches.target:
-00000e50: 0a20 2061 7069 5665 7273 696f 6e3a 2061  .  apiVersion: a
-00000e60: 7070 732f 7631 0a20 206b 696e 643a 2044  pps/v1.  kind: D
-00000e70: 6570 6c6f 796d 656e 740a 2020 6e61 6d65  eployment.  name
-00000e80: 3a20 7765 620a 6f70 733a 0a2d 206e 616d  : web.ops:.- nam
-00000e90: 653a 2072 6570 6c61 6365 5f69 6d61 6765  e: replace_image
-00000ea0: 0a20 2070 6174 683a 202f 7370 6563 2f74  .  path: /spec/t
-00000eb0: 656d 706c 6174 652f 7370 6563 2f63 6f6e  emplate/spec/con
-00000ec0: 7461 696e 6572 732f 6e67 696e 782f 696d  tainers/nginx/im
-00000ed0: 6167 650a 2020 7661 6c75 653a 206e 6769  age.  value: ngi
-00000ee0: 6e78 3a31 2e32 330a 2020 6163 7469 6f6e  nx:1.23.  action
-00000ef0: 3a20 7265 706c 6163 650a 2d2d 2d0a 6e61  : replace.---.na
-00000f00: 6d65 3a20 7365 7276 6963 655f 7061 7463  me: service_patc
-00000f10: 6865 730a 7461 7267 6574 3a0a 2020 6170  hes.target:.  ap
-00000f20: 6956 6572 7369 6f6e 3a20 7631 0a20 206b  iVersion: v1.  k
-00000f30: 696e 643a 2053 6572 7669 6365 0a20 206e  ind: Service.  n
-00000f40: 616d 653a 206e 6769 6e78 2d73 6572 7669  ame: nginx-servi
-00000f50: 6365 0a6f 7073 3a0a 2d20 6e61 6d65 3a20  ce.ops:.- name: 
-00000f60: 6164 645f 6874 7470 735f 706f 7274 0a20  add_https_port. 
-00000f70: 2070 6174 683a 202f 7370 6563 2f70 6f72   path: /spec/por
-00000f80: 7473 0a20 2076 616c 7565 3a0a 2020 2020  ts.  value:.    
-00000f90: 6e61 6d65 3a20 6874 7470 730a 2020 2020  name: https.    
-00000fa0: 706f 7274 3a20 3434 330a 2020 2020 7072  port: 443.    pr
-00000fb0: 6f74 6f63 6f6c 3a20 5443 500a 2020 2020  otocol: TCP.    
-00000fc0: 7461 7267 6574 506f 7274 3a20 3434 330a  targetPort: 443.
-00000fd0: 2020 6163 7469 6f6e 3a20 6164 640a 2d20    action: add.- 
-00000fe0: 6e61 6d65 3a20 7265 6e61 6d65 5f68 7474  name: rename_htt
-00000ff0: 705f 706f 7274 0a20 2070 6174 683a 202f  p_port.  path: /
-00001000: 7370 6563 2f70 6f72 7473 2f68 7474 702f  spec/ports/http/
-00001010: 6e61 6d65 0a20 2061 6374 696f 6e3a 2072  name.  action: r
-00001020: 6570 6c61 6365 0a20 2076 616c 7565 3a20  eplace.  value: 
-00001030: 6e65 775f 6e61 6d65 0a60 6060 0a0a 5468  new_name.```..Th
-00001040: 656e 2061 6c6c 2079 6f75 206e 6565 6420  en all you need 
-00001050: 746f 2064 6f2c 2069 7320 7275 6e3a 0a0a  to do, is run:..
-00001060: 6060 6073 6865 6c6c 0a6b 7375 7820 2d62  ```shell.ksux -b
-00001070: 203c 7061 7468 5f74 6f5f 6261 7365 5f64   <path_to_base_d
-00001080: 6972 3e20 2d70 203c 7061 7468 5f74 6f5f  ir> -p <path_to_
-00001090: 7061 7463 6865 735f 6469 723e 202d 6f20  patches_dir> -o 
-000010a0: 3c6f 7574 7075 745f 6469 723e 0a60 6060  <output_dir>.```
-000010b0: 0a0a 5468 6973 2077 696c 6c20 7361 7665  ..This will save
-000010c0: 2061 6c6c 2070 6174 6368 6564 206d 616e   all patched man
-000010d0: 6966 6573 7473 2074 6f20 7468 6520 6f75  ifests to the ou
-000010e0: 7470 7574 2064 6972 2e20 596f 7520 6361  tput dir. You ca
-000010f0: 6e20 7573 6520 7468 6520 602d 2d64 7279  n use the `--dry
-00001100: 2d72 756e 6020 666c 6167 2074 6f20 7072  -run` flag to pr
-00001110: 696e 7420 7468 6520 7061 7463 6865 640a  int the patched.
-00001120: 6d61 6e69 6665 7374 7320 746f 2073 7464  manifests to std
-00001130: 6f75 743a 0a0a 6060 6073 6865 6c6c 0a6b  out:..```shell.k
-00001140: 7375 7820 2d62 203c 7061 7468 5f74 6f5f  sux -b <path_to_
-00001150: 6261 7365 5f64 6972 3e20 2d70 203c 7061  base_dir> -p <pa
-00001160: 7468 5f74 6f5f 7061 7463 6865 735f 6469  th_to_patches_di
-00001170: 723e 202d 2d64 7279 2d72 756e 0a60 6060  r> --dry-run.```
-00001180: 0a0a 466f 7220 6c69 7374 206f 6620 616c  ..For list of al
-00001190: 6c20 6f70 7469 6f6e 7320 7365 653a 0a0a  l options see:..
-000011a0: 6060 6073 6865 6c6c 0a6b 7375 7820 2d2d  ```shell.ksux --
-000011b0: 6865 6c70 0a60 6060 0a0a 2323 2320 7468  help.```..### th
-000011c0: 6520 606f 702e 7061 7468 600a 0a54 6869  e `op.path`..Thi
-000011d0: 7320 6973 2061 2070 7265 7474 7920 636f  s is a pretty co
-000011e0: 6f6c 2074 6869 6e67 2e20 5369 6d69 6c61  ol thing. Simila
-000011f0: 7220 746f 206b 7573 746f 6d69 7a65 2070  r to kustomize p
-00001200: 6174 682c 2068 6f77 6576 6572 2079 6f75  ath, however you
-00001210: 2063 616e 2074 6172 6765 7420 6c69 7374   can target list
-00001220: 2069 7465 6d20 6279 206e 616d 6573 206f   item by names o
-00001230: 6620 6368 696c 6420 6f62 6a65 6374 732e  f child objects.
-00001240: 0a45 2e67 2e20 7361 7920 796f 7520 6861  .E.g. say you ha
-00001250: 7665 2061 206c 6973 7420 6f66 2070 6f72  ve a list of por
-00001260: 7473 2069 6e20 6120 7365 7276 6963 653a  ts in a service:
-00001270: 0a0a 6060 6079 616d 6c0a 6170 6956 6572  ..```yaml.apiVer
-00001280: 7369 6f6e 3a20 7631 0a6b 696e 643a 2053  sion: v1.kind: S
-00001290: 6572 7669 6365 0a6d 6574 6164 6174 613a  ervice.metadata:
-000012a0: 0a20 206c 6162 656c 733a 0a20 2020 2061  .  labels:.    a
-000012b0: 7070 3a20 6e67 696e 782d 7365 7276 6963  pp: nginx-servic
-000012c0: 650a 2020 6e61 6d65 3a20 6e67 696e 782d  e.  name: nginx-
-000012d0: 7365 7276 6963 650a 7370 6563 3a0a 2020  service.spec:.  
-000012e0: 706f 7274 733a 0a20 2020 202d 206e 616d  ports:.    - nam
-000012f0: 653a 206e 6577 5f6e 616d 650a 2020 2020  e: new_name.    
-00001300: 2020 706f 7274 3a20 3830 0a20 2020 2020    port: 80.     
-00001310: 2070 726f 746f 636f 6c3a 2054 4350 0a20   protocol: TCP. 
-00001320: 2020 2020 2074 6172 6765 7450 6f72 743a       targetPort:
-00001330: 2038 300a 2020 2020 2d20 6e61 6d65 3a20   80.    - name: 
-00001340: 6874 7470 730a 2020 2020 2020 706f 7274  https.      port
-00001350: 3a20 3434 330a 2020 2020 2020 7072 6f74  : 443.      prot
-00001360: 6f63 6f6c 3a20 5443 500a 2020 2020 2020  ocol: TCP.      
-00001370: 7461 7267 6574 506f 7274 3a20 3434 330a  targetPort: 443.
-00001380: 2020 7365 6c65 6374 6f72 3a0a 2020 2020    selector:.    
-00001390: 6170 703a 2077 6562 0a20 2074 7970 653a  app: web.  type:
-000013a0: 2043 6c75 7374 6572 4950 0a60 6060 0a0a   ClusterIP.```..
-000013b0: 546f 2074 6172 6765 7420 7468 6520 6068  To target the `h
-000013c0: 7474 7073 6020 7365 7276 6963 6520 616e  ttps` service an
-000013d0: 6420 6368 616e 6765 2069 7473 206e 616d  d change its nam
-000013e0: 652c 2079 6f75 2063 616e 2073 7065 6369  e, you can speci
-000013f0: 6679 2074 6865 2070 6174 683a 2060 2f73  fy the path: `/s
-00001400: 7065 632f 706f 7274 732f 6874 7470 732f  pec/ports/https/
-00001410: 6e61 6d65 6020 616e 6420 7468 656e 0a73  name` and then.s
-00001420: 6574 2074 6865 2076 616c 7565 2074 6f20  et the value to 
-00001430: 7468 6520 6e65 7720 6e61 6d65 20f0 9f92  the new name ...
-00001440: aa2e 0a0a 2323 2045 7861 6d70 6c65 0a0a  ....## Example..
-00001450: 496e 2074 6865 2060 2e2f 6578 616d 706c  In the `./exampl
-00001460: 6573 6020 666f 6c64 6572 2074 6865 7265  es` folder there
-00001470: 2061 7265 2033 2073 7562 2d66 6f6c 6465   are 3 sub-folde
-00001480: 7273 3a0a 2020 2020 2d20 602f 6578 616d  rs:.    - `/exam
-00001490: 706c 6573 2f62 6173 6560 2077 6974 6820  ples/base` with 
-000014a0: 6465 706c 6f79 6d65 6e74 2c20 7365 7276  deployment, serv
-000014b0: 6963 6520 616e 6420 6120 636f 6e66 6967  ice and a config
-000014c0: 6d61 7020 6d61 6e69 6665 7374 732e 2054  map manifests. T
-000014d0: 6865 7365 2061 7265 2074 6865 2062 6173  hese are the bas
-000014e0: 6520 6d61 6e69 6665 7374 7320 7768 6963  e manifests whic
-000014f0: 6820 7765 2077 6973 680a 2020 2020 746f  h we wish.    to
-00001500: 2070 6174 6368 0a20 2020 202d 2060 2f65   patch.    - `/e
-00001510: 7861 6d70 6c65 732f 7061 7463 6865 7360  xamples/patches`
-00001520: 2063 6f6e 7461 696e 2074 6865 2070 6174   contain the pat
-00001530: 6368 6573 2028 6e6f 7469 6365 2074 6861  ches (notice tha
-00001540: 7420 626f 7468 2062 6173 6520 6b75 6265  t both base kube
-00001550: 726e 6574 6573 206d 616e 6966 6573 7473  rnetes manifests
-00001560: 2061 6e64 2070 6174 6368 6573 2063 616e   and patches can
-00001570: 2062 6520 6569 7468 6572 2069 6e0a 2020   be either in.  
-00001580: 2020 606a 736f 6e60 206f 7220 6079 6d6c    `json` or `yml
-00001590: 602f 6079 616d 6c60 2066 6f72 6d61 7429  `/`yaml` format)
-000015a0: 0a20 2020 202d 2060 2f65 7861 6d70 6c65  .    - `/example
-000015b0: 732f 6f75 7460 2069 7320 7468 6520 6f75  s/out` is the ou
-000015c0: 7470 7574 2064 6972 6563 746f 7279 2077  tput directory w
-000015d0: 6865 7265 2074 6865 2070 6174 6368 6564  here the patched
-000015e0: 2072 6573 6f75 7263 6573 2077 696c 6c20   resources will 
-000015f0: 6265 206f 7574 7075 740a 0a46 6972 7374  be output..First
-00001600: 2c20 7765 2077 696c 6c20 6064 7279 2d72  , we will `dry-r
-00001610: 756e 6020 7468 6520 7061 7463 6869 6e67  un` the patching
-00001620: 3a0a 0a60 6060 7368 656c 6c0a 6b73 7578  :..```shell.ksux
-00001630: 202d 6220 6578 616d 706c 6573 2f62 6173   -b examples/bas
-00001640: 6520 2d70 2065 7861 6d70 6c65 732f 7061  e -p examples/pa
-00001650: 7463 6865 7320 2d2d 6472 792d 7275 6e0a  tches --dry-run.
-00001660: 6060 600a 0a59 6f75 2073 686f 756c 6420  ```..You should 
-00001670: 7365 6520 7468 6520 7061 7463 6865 6420  see the patched 
-00001680: 6d61 6e69 6665 7374 7320 7072 696e 7465  manifests printe
-00001690: 6420 6f75 7420 746f 2074 6865 2063 6f6e  d out to the con
-000016a0: 736f 6c65 2e20 4e6f 7720 7765 2063 616e  sole. Now we can
-000016b0: 2072 756e 2069 7420 616e 6420 7361 7665   run it and save
-000016c0: 2074 6865 2070 6174 6368 6564 206d 616e   the patched man
-000016d0: 6966 6573 7473 0a74 6f20 7468 6520 606f  ifests.to the `o
-000016e0: 7574 7075 7460 2066 6f6c 6465 723a 0a0a  utput` folder:..
-000016f0: 6060 6073 6865 6c6c 0a6b 7375 7820 2d62  ```shell.ksux -b
-00001700: 2065 7861 6d70 6c65 732f 6261 7365 202d   examples/base -
-00001710: 7020 6578 616d 706c 6573 2f70 6174 6368  p examples/patch
-00001720: 6573 202d 6f20 6578 616d 706c 6573 2f6f  es -o examples/o
-00001730: 7574 0a60 6060 0a0a 4279 2064 6566 6175  ut.```..By defau
-00001740: 6c74 2c20 7468 6520 6d61 6e69 6665 7374  lt, the manifest
-00001750: 7320 7769 6c6c 2062 6520 7361 7665 6420  s will be saved 
-00001760: 696e 2060 7961 6d6c 6020 666f 726d 6174  in `yaml` format
-00001770: 2077 6974 6820 602e 7961 6d6c 6020 6578   with `.yaml` ex
-00001780: 7465 6e73 696f 6e2e 2049 6620 796f 7520  tension. If you 
-00001790: 7769 7368 2074 6f20 7573 6520 7468 6520  wish to use the 
-000017a0: 602e 796d 6c60 2065 7874 656e 7369 6f6e  `.yml` extension
-000017b0: 0a6f 7220 7361 7665 2074 6865 206d 616e  .or save the man
-000017c0: 6966 6573 7473 2069 6e20 606a 736f 6e60  ifests in `json`
-000017d0: 2066 6f72 6d61 742c 2073 696d 706c 7920   format, simply 
-000017e0: 7072 6f76 6964 6520 7468 6520 602d 6560  provide the `-e`
-000017f0: 2066 6c61 6720 7769 7468 2063 6f72 7265   flag with corre
-00001800: 7370 6f6e 6469 6e67 2065 7874 656e 7369  sponding extensi
-00001810: 6f6e 2e20 452e 672e 3a0a 0a60 6060 7368  on. E.g.:..```sh
-00001820: 656c 6c0a 6b73 7578 202d 6220 6578 616d  ell.ksux -b exam
-00001830: 706c 6573 2f62 6173 6520 2d70 2065 7861  ples/base -p exa
-00001840: 6d70 6c65 732f 7061 7463 6865 7320 2d6f  mples/patches -o
-00001850: 2065 7861 6d70 6c65 732f 6f75 7420 2d65   examples/out -e
-00001860: 206a 736f 6e0a 6060 600a                  json.```.
+00000000: 3c70 2061 6c69 676e 3d22 6365 6e74 6572  <p align="center
+00000010: 223e 0a20 203c 696d 6720 7372 633d 226d  ">.  <img src="m
+00000020: 6973 632f 6c6f 676f 2e73 7667 2220 7769  isc/logo.svg" wi
+00000030: 6474 683d 2237 3525 223e 0a3c 2f70 3e0a  dth="75%">.</p>.
+00000040: 0a3c 7020 616c 6967 6e3d 6365 6e74 6572  .<p align=center
+00000050: 3e0a 2020 203c 656d 3e41 2073 696d 706c  >.   <em>A simpl
+00000060: 6520 7761 7920 666f 7220 7465 6d70 6c61  e way for templa
+00000070: 7469 6e67 206b 7562 6572 6e65 7465 7320  ting kubernetes 
+00000080: 6d61 6e69 6665 7374 732e 3c2f 656d 3e0a  manifests.</em>.
+00000090: 3c2f 703e 0a0a 3c70 2061 6c69 676e 3d63  </p>..<p align=c
+000000a0: 656e 7465 723e 0a20 2020 3c69 6d67 2073  enter>.   <img s
+000000b0: 7263 3d27 6874 7470 733a 2f2f 696d 672e  rc='https://img.
+000000c0: 7368 6965 6c64 732e 696f 2f67 6974 6875  shields.io/githu
+000000d0: 622f 6163 7469 6f6e 732f 776f 726b 666c  b/actions/workfl
+000000e0: 6f77 2f73 7461 7475 732f 7473 6c61 6465  ow/status/tslade
+000000f0: 6365 6b2f 6b73 7578 2f74 6573 742e 796d  cek/ksux/test.ym
+00000100: 6c3f 6272 616e 6368 3d6d 6169 6e26 6c61  l?branch=main&la
+00000110: 6265 6c3d 7465 7374 7326 6c6f 676f 3d47  bel=tests&logo=G
+00000120: 6974 4875 6227 2061 6c74 3d27 272f 3e0a  itHub' alt=''/>.
+00000130: 2020 203c 696d 6720 7372 633d 2768 7474     <img src='htt
+00000140: 7073 3a2f 2f69 6d67 2e73 6869 656c 6473  ps://img.shields
+00000150: 2e69 6f2f 6769 7468 7562 2f72 6570 6f2d  .io/github/repo-
+00000160: 7369 7a65 2f74 736c 6164 6563 656b 2f6b  size/tsladecek/k
+00000170: 7375 7827 2061 6c74 3d27 272f 3e0a 2020  sux' alt=''/>.  
+00000180: 203c 696d 6720 7372 633d 2768 7474 7073   <img src='https
+00000190: 3a2f 2f69 6d67 2e73 6869 656c 6473 2e69  ://img.shields.i
+000001a0: 6f2f 6769 7468 7562 2f6c 6963 656e 7365  o/github/license
+000001b0: 2f74 736c 6164 6563 656b 2f6b 7375 7827  /tsladecek/ksux'
+000001c0: 2061 6c74 3d27 4c69 6365 6e73 653a 204d   alt='License: M
+000001d0: 4954 272f 3e0a 2020 203c 696d 6720 7372  IT'/>.   <img sr
+000001e0: 633d 2768 7474 7073 3a2f 2f69 6d67 2e73  c='https://img.s
+000001f0: 6869 656c 6473 2e69 6f2f 6769 7468 7562  hields.io/github
+00000200: 2f76 2f74 6167 2f74 736c 6164 6563 656b  /v/tag/tsladecek
+00000210: 2f6b 7375 783f 636f 6c6f 723d 7965 6c6c  /ksux?color=yell
+00000220: 6f77 266c 6162 656c 3d76 6572 7369 6f6e  ow&label=version
+00000230: 266c 6f67 6f3d 4769 7448 7562 272f 3e0a  &logo=GitHub'/>.
+00000240: 2020 203c 6120 6872 6566 3d27 6874 7470     <a href='http
+00000250: 733a 2f2f 7079 7069 2e6f 7267 2f70 726f  s://pypi.org/pro
+00000260: 6a65 6374 2f6b 7375 782f 273e 3c69 6d67  ject/ksux/'><img
+00000270: 2073 7263 3d27 6874 7470 733a 2f2f 696d   src='https://im
+00000280: 672e 7368 6965 6c64 732e 696f 2f70 7970  g.shields.io/pyp
+00000290: 692f 762f 6b73 7578 3f6c 6f67 6f3d 5079  i/v/ksux?logo=Py
+000002a0: 7069 272f 3e3c 2f61 3e0a 2020 203c 6120  pi'/></a>.   <a 
+000002b0: 6872 6566 3d27 6874 7470 733a 2f2f 6875  href='https://hu
+000002c0: 622e 646f 636b 6572 2e63 6f6d 2f72 2f74  b.docker.com/r/t
+000002d0: 736c 6164 6563 656b 2f6b 7375 7827 3e3c  sladecek/ksux'><
+000002e0: 696d 6720 7372 633d 2768 7474 7073 3a2f  img src='https:/
+000002f0: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
+00000300: 646f 636b 6572 2f69 6d61 6765 2d73 697a  docker/image-siz
+00000310: 652f 7473 6c61 6465 6365 6b2f 6b73 7578  e/tsladecek/ksux
+00000320: 3f6c 6f67 6f3d 446f 636b 6572 2673 6f72  ?logo=Docker&sor
+00000330: 743d 6461 7465 2720 2f3e 3c2f 613e 0a3c  t=date' /></a>.<
+00000340: 2f70 3e0a 0a2d 2d2d 0a0a 312e 205b 5265  /p>..---..1. [Re
+00000350: 7175 6972 656d 656e 7473 5d28 2372 6571  quirements](#req
+00000360: 7569 7265 6d65 6e74 7329 0a32 2e20 5b49  uirements).2. [I
+00000370: 6e73 7461 6c6c 6174 696f 6e5d 2823 696e  nstallation](#in
+00000380: 7374 616c 6c61 7469 6f6e 290a 2020 2031  stallation).   1
+00000390: 2e20 5b4c 6f63 616c 5d28 236c 6f63 616c  . [Local](#local
+000003a0: 290a 2020 2032 2e20 5b44 6f63 6b65 725d  ).   2. [Docker]
+000003b0: 2823 646f 636b 6572 290a 332e 205b 486f  (#docker).3. [Ho
+000003c0: 7720 646f 6573 2069 7420 776f 726b 3f5d  w does it work?]
+000003d0: 2823 686f 772d 646f 6573 2d69 742d 776f  (#how-does-it-wo
+000003e0: 726b 290a 2020 2031 2e20 5b54 6865 2060  rk).   1. [The `
+000003f0: 6f70 2e70 6174 6860 5d28 2374 6865 2d6f  op.path`](#the-o
+00000400: 7070 6174 6829 0a34 2e20 5b45 7861 6d70  ppath).4. [Examp
+00000410: 6c65 5d28 2365 7861 6d70 6c65 290a 0a2a  le](#example)..*
+00000420: 2a74 6c64 722e 2a2a 0a0a 6060 6073 6865  *tldr.**..```she
+00000430: 6c6c 0a6b 7375 7820 2d62 203c 7061 7468  ll.ksux -b <path
+00000440: 5f74 6f5f 6261 7365 5f64 6972 3e20 2d70  _to_base_dir> -p
+00000450: 203c 7061 7468 5f74 6f5f 7061 7463 6865   <path_to_patche
+00000460: 735f 6469 723e 202d 6f20 3c6f 7574 7075  s_dir> -o <outpu
+00000470: 745f 6469 723e 0a60 6060 0a0a 6f72 2075  t_dir>.```..or u
+00000480: 7369 6e67 2064 6f63 6b65 723a 0a0a 6060  sing docker:..``
+00000490: 6073 6865 6c6c 0a64 6f63 6b65 7220 7275  `shell.docker ru
+000004a0: 6e20 2d2d 726d 202d 7620 2f70 6174 682f  n --rm -v /path/
+000004b0: 746f 2f79 6f75 722f 636f 6e66 6967 733a  to/your/configs:
+000004c0: 2f63 6f6e 6669 6773 2074 736c 6164 6563  /configs tsladec
+000004d0: 656b 2f6b 7375 7820 6b73 7578 202d 6220  ek/ksux ksux -b 
+000004e0: 2f63 6f6e 6669 6773 2f62 6173 6520 2d70  /configs/base -p
+000004f0: 202f 636f 6e66 6967 732f 7061 7463 6865   /configs/patche
+00000500: 7320 2d6f 202f 636f 6e66 6967 732f 6f75  s -o /configs/ou
+00000510: 740a 6060 600a 0a2d 2d2d 0a0a 2323 2052  t.```..---..## R
+00000520: 6571 7569 7265 6d65 6e74 730a 0a54 6869  equirements..Thi
+00000530: 7320 6973 2061 2070 7974 686f 6e20 7061  s is a python pa
+00000540: 636b 6167 652e 2053 6f20 7468 6520 6f6e  ckage. So the on
+00000550: 6c79 2072 6571 7569 7265 6d65 6e74 7320  ly requirements 
+00000560: 6172 6520 6070 7974 686f 6e33 6020 616e  are `python3` an
+00000570: 6420 6070 6970 600a 0a23 2320 496e 7374  d `pip`..## Inst
+00000580: 616c 6c61 7469 6f6e 0a0a 2323 2320 4c6f  allation..### Lo
+00000590: 6361 6c0a 0a2d 204f 7074 696f 6e61 6c3a  cal..- Optional:
+000005a0: 2043 7265 6174 6520 616e 6420 6163 7469   Create and acti
+000005b0: 7661 7465 2061 2076 6972 7475 616c 2065  vate a virtual e
+000005c0: 6e76 2e0a 0a60 6060 7368 656c 6c0a 2320  nv...```shell.# 
+000005d0: 6f70 7469 6f6e 2031 3a20 7669 7275 616c  option 1: virual
+000005e0: 7665 6e76 0a76 6972 7475 616c 7665 6e76  venv.virtualvenv
+000005f0: 206b 7375 780a 736f 7572 6365 206b 7375   ksux.source ksu
+00000600: 782f 6269 6e2f 6163 7469 7661 7465 0a0a  x/bin/activate..
+00000610: 2320 6f70 7469 6f6e 2032 3a20 7665 6e76  # option 2: venv
+00000620: 0a70 7974 686f 6e20 2d6d 2076 656e 7620  .python -m venv 
+00000630: 6b73 7578 0a73 6f75 7263 6520 6b73 7578  ksux.source ksux
+00000640: 2f62 696e 2f61 6374 6976 6174 650a 0a23  /bin/activate..#
+00000650: 206f 7074 696f 6e20 333a 2063 6f6e 6461   option 3: conda
+00000660: 0a63 6f6e 6461 2063 7265 6174 6520 2d6e  .conda create -n
+00000670: 206b 7375 7820 7079 7468 6f6e 0a63 6f6e   ksux python.con
+00000680: 6461 2061 6374 6976 6174 6520 6b73 7578  da activate ksux
+00000690: 0a60 6060 0a0a 2d20 496e 7374 616c 6c0a  .```..- Install.
+000006a0: 0a60 6060 7368 656c 6c0a 7069 7020 696e  .```shell.pip in
+000006b0: 7374 616c 6c20 6b73 7578 0a60 6060 0a0a  stall ksux.```..
+000006c0: 2323 2320 446f 636b 6572 0a0a 7573 6520  ### Docker..use 
+000006d0: 7468 6520 5b64 6f63 6b65 7220 696d 6167  the [docker imag
+000006e0: 655d 2868 7474 7073 3a2f 2f68 7562 2e64  e](https://hub.d
+000006f0: 6f63 6b65 722e 636f 6d2f 722f 7473 6c61  ocker.com/r/tsla
+00000700: 6465 6365 6b2f 6b73 7578 290a 0a54 6f20  decek/ksux)..To 
+00000710: 7275 6e20 7468 6520 636f 6d6d 616e 6420  run the command 
+00000720: 696e 7369 6465 2061 2064 6f63 6b65 7220  inside a docker 
+00000730: 636f 6e74 6169 6e65 722c 2079 6f75 206e  container, you n
+00000740: 6565 6420 746f 206d 616b 6520 7375 7265  eed to make sure
+00000750: 2074 6861 7420 616c 6c20 766f 6c75 6d65   that all volume
+00000760: 7320 6172 6520 6d61 7070 6564 2074 6f20  s are mapped to 
+00000770: 7468 6520 636f 6e74 6169 6e65 722e 204c  the container. L
+00000780: 6574 2773 0a73 6179 2074 6861 7420 796f  et's.say that yo
+00000790: 7520 6861 7665 2061 2066 6f6c 6c6f 7769  u have a followi
+000007a0: 6e67 2066 696c 6520 7374 7275 6374 7572  ng file structur
+000007b0: 653a 0a0a 6060 6073 6865 6c6c 0a7c 2d20  e:..```shell.|- 
+000007c0: 2f68 6f6d 652f 7072 6f6a 6563 740a 7c20  /home/project.| 
+000007d0: 207c 2d20 6261 7365 0a7c 2020 7c2d 2070   |- base.|  |- p
+000007e0: 6174 6368 6573 0a7c 2020 7c2d 206f 7574  atches.|  |- out
+000007f0: 0a60 6060 0a0a 546f 2067 656e 6572 6174  .```..To generat
+00000800: 6520 7061 7463 6865 6420 6d61 6e69 6665  e patched manife
+00000810: 7374 7320 696e 2074 6865 2060 2f68 6f6d  sts in the `/hom
+00000820: 652f 7072 6f6a 6563 742f 6f75 7460 2066  e/project/out` f
+00000830: 6f6c 6465 722c 2072 756e 2066 6f6c 6c6f  older, run follo
+00000840: 7769 6e67 2063 6f6d 6d61 6e64 3a0a 0a60  wing command:..`
+00000850: 6060 7368 656c 6c0a 646f 636b 6572 2072  ``shell.docker r
+00000860: 756e 202d 2d72 6d20 2d76 202f 686f 6d65  un --rm -v /home
+00000870: 2f70 726f 6a65 6374 3a2f 636f 6e66 6967  /project:/config
+00000880: 7320 7473 6c61 6465 6365 6b2f 6b73 7578  s tsladecek/ksux
+00000890: 206b 7375 7820 2d62 202f 636f 6e66 6967   ksux -b /config
+000008a0: 732f 6261 7365 202d 7020 2f63 6f6e 6669  s/base -p /confi
+000008b0: 6773 2f70 6174 6368 6573 202d 6f20 2f63  gs/patches -o /c
+000008c0: 6f6e 6669 6773 2f6f 7574 0a60 6060 0a0a  onfigs/out.```..
+000008d0: 7468 6520 696d 706f 7274 616e 7420 7061  the important pa
+000008e0: 7274 2069 7320 7468 6520 602d 7660 2066  rt is the `-v` f
+000008f0: 6c61 672c 2077 6869 6368 2077 696c 6c20  lag, which will 
+00000900: 6d6f 756e 7420 796f 7572 206c 6f63 616c  mount your local
+00000910: 2066 6f6c 6465 7220 6173 2076 6f6c 756d   folder as volum
+00000920: 6520 746f 2074 6865 2063 6f6e 7461 696e  e to the contain
+00000930: 6572 2e0a 0a23 2320 486f 7720 646f 6573  er...## How does
+00000940: 2069 7420 776f 726b 3f0a 0a4c 6574 2773   it work?..Let's
+00000950: 2073 6179 2074 6861 7420 796f 7520 6861   say that you ha
+00000960: 7665 206d 616e 7920 6d61 6e69 6665 7374  ve many manifest
+00000970: 7320 696e 2073 6f6d 6520 6469 7265 6374  s in some direct
+00000980: 6f72 7920 2860 6261 7365 6020 6469 7265  ory (`base` dire
+00000990: 6374 6f72 7929 2074 6861 7420 796f 7520  ctory) that you 
+000009a0: 7769 7368 2074 6f20 7061 7463 6820 7769  wish to patch wi
+000009b0: 7468 2070 6174 6368 6573 2028 696e 2074  th patches (in t
+000009c0: 6865 0a60 7061 7463 6865 7360 2920 6469  he.`patches`) di
+000009d0: 7265 6374 6f72 792e 0a0a 5061 7463 6865  rectory...Patche
+000009e0: 7320 636f 756c 6420 6265 2069 6e20 6079  s could be in `y
+000009f0: 616d 6c60 206f 7220 606a 736f 6e60 2066  aml` or `json` f
+00000a00: 6f72 6d61 7420 2861 7320 7765 6c6c 2061  ormat (as well a
+00000a10: 7320 796f 7572 206d 616e 6966 6573 7473  s your manifests
+00000a20: 292e 2048 6f77 6576 6572 2c20 7468 6579  ). However, they
+00000a30: 206d 7573 7420 6164 6865 7265 2074 6f20   must adhere to 
+00000a40: 666f 6c6c 6f77 696e 6720 7363 6865 6d61  following schema
+00000a50: 3a0a 0a60 6060 7961 6d6c 0a6e 616d 653a  :..```yaml.name:
+00000a60: 203c 7061 7463 685f 6465 7363 7269 7074   <patch_descript
+00000a70: 696f 6e3e 0a74 6172 6765 743a 0a20 2061  ion>.target:.  a
+00000a80: 7069 5665 7273 696f 6e3a 203c 6170 6956  piVersion: <apiV
+00000a90: 6572 7369 6f6e 206f 6620 7461 7267 6574  ersion of target
+00000aa0: 6564 2072 6573 6f75 7263 653e 0a20 206b  ed resource>.  k
+00000ab0: 696e 643a 203c 4465 706c 6f79 6d65 6e74  ind: <Deployment
+00000ac0: 2074 7970 6520 6f66 2074 6172 6765 7465   type of targete
+00000ad0: 6420 7265 736f 7572 6365 3e0a 2020 6e61  d resource>.  na
+00000ae0: 6d65 3a20 3c6e 616d 6520 6f66 2074 6172  me: <name of tar
+00000af0: 6765 7465 6420 7265 736f 7572 6365 3e0a  geted resource>.
+00000b00: 6f70 733a 0a20 202d 206e 616d 653a 203c  ops:.  - name: <
+00000b10: 6f70 6572 6174 696f 6e20 6465 7363 7269  operation descri
+00000b20: 7074 696f 6e3e 0a20 2020 2070 6174 683a  ption>.    path:
+00000b30: 203c 7061 7468 2074 6f20 7468 6520 7061   <path to the pa
+00000b40: 7274 206f 6620 7468 6520 6d61 6e69 6665  rt of the manife
+00000b50: 7374 2074 6f20 6265 2070 6174 6368 6564  st to be patched
+00000b60: 3e0a 2020 2020 7661 6c75 653a 203c 7661  >.    value: <va
+00000b70: 6c75 6520 7768 6963 6820 7368 6f75 6c64  lue which should
+00000b80: 2062 6520 7265 706c 6163 6564 206f 7220   be replaced or 
+00000b90: 6164 6465 643e 0a20 2020 2061 6374 696f  added>.    actio
+00000ba0: 6e3a 203c 6164 647c 7265 706c 6163 657c  n: <add|replace|
+00000bb0: 7265 6d6f 7665 3e0a 6060 600a 0a65 6163  remove>.```..eac
+00000bc0: 6820 7061 7463 6820 6669 6c65 2063 616e  h patch file can
+00000bd0: 2062 6520 6120 6c69 7374 206f 6620 7061   be a list of pa
+00000be0: 7463 6865 732e 2059 6f75 2063 616e 2075  tches. You can u
+00000bf0: 7365 2074 6865 2063 6c61 7373 6963 2079  se the classic y
+00000c00: 616d 6c20 666f 726d 6174 2c20 652e 672e  aml format, e.g.
+00000c10: 3a0a 0a60 6060 7961 6d6c 0a2d 206e 616d  :..```yaml.- nam
+00000c20: 653a 2064 6570 6c6f 796d 656e 745f 7061  e: deployment_pa
+00000c30: 7463 6865 730a 2020 7461 7267 6574 3a0a  tches.  target:.
+00000c40: 2020 2020 6170 6956 6572 7369 6f6e 3a20      apiVersion: 
+00000c50: 6170 7073 2f76 310a 2020 2020 6b69 6e64  apps/v1.    kind
+00000c60: 3a20 4465 706c 6f79 6d65 6e74 0a20 2020  : Deployment.   
+00000c70: 206e 616d 653a 2077 6562 0a20 206f 7073   name: web.  ops
+00000c80: 3a0a 2020 2020 2d20 6e61 6d65 3a20 7265  :.    - name: re
+00000c90: 706c 6163 655f 696d 6167 650a 2020 2020  place_image.    
+00000ca0: 2020 7061 7468 3a20 2f73 7065 632f 7465    path: /spec/te
+00000cb0: 6d70 6c61 7465 2f73 7065 632f 636f 6e74  mplate/spec/cont
+00000cc0: 6169 6e65 7273 2f6e 6769 6e78 2f69 6d61  ainers/nginx/ima
+00000cd0: 6765 0a20 2020 2020 2076 616c 7565 3a20  ge.      value: 
+00000ce0: 6e67 696e 783a 312e 3233 0a20 2020 2020  nginx:1.23.     
+00000cf0: 2061 6374 696f 6e3a 2072 6570 6c61 6365   action: replace
+00000d00: 0a2d 206e 616d 653a 2073 6572 7669 6365  .- name: service
+00000d10: 5f70 6174 6368 6573 0a20 2074 6172 6765  _patches.  targe
+00000d20: 743a 0a20 2020 2061 7069 5665 7273 696f  t:.    apiVersio
+00000d30: 6e3a 2076 310a 2020 2020 6b69 6e64 3a20  n: v1.    kind: 
+00000d40: 5365 7276 6963 650a 2020 2020 6e61 6d65  Service.    name
+00000d50: 3a20 6e67 696e 782d 7365 7276 6963 650a  : nginx-service.
+00000d60: 2020 6f70 733a 0a20 2020 202d 206e 616d    ops:.    - nam
+00000d70: 653a 2061 6464 5f68 7474 7073 5f70 6f72  e: add_https_por
+00000d80: 740a 2020 2020 2020 7061 7468 3a20 2f73  t.      path: /s
+00000d90: 7065 632f 706f 7274 730a 2020 2020 2020  pec/ports.      
+00000da0: 7661 6c75 653a 0a20 2020 2020 2020 206e  value:.        n
+00000db0: 616d 653a 2068 7474 7073 0a20 2020 2020  ame: https.     
+00000dc0: 2020 2070 6f72 743a 2034 3433 0a20 2020     port: 443.   
+00000dd0: 2020 2020 2070 726f 746f 636f 6c3a 2054       protocol: T
+00000de0: 4350 0a20 2020 2020 2020 2074 6172 6765  CP.        targe
+00000df0: 7450 6f72 743a 2034 3433 0a20 2020 2020  tPort: 443.     
+00000e00: 2061 6374 696f 6e3a 2061 6464 0a20 2020   action: add.   
+00000e10: 202d 206e 616d 653a 2072 656e 616d 655f   - name: rename_
+00000e20: 6874 7470 5f70 6f72 740a 2020 2020 2020  http_port.      
+00000e30: 7061 7468 3a20 2f73 7065 632f 706f 7274  path: /spec/port
+00000e40: 732f 6874 7470 2f6e 616d 650a 2020 2020  s/http/name.    
+00000e50: 2020 6163 7469 6f6e 3a20 7265 706c 6163    action: replac
+00000e60: 650a 2020 2020 2020 7661 6c75 653a 206e  e.      value: n
+00000e70: 6577 5f6e 616d 650a 6060 600a 0a6f 7220  ew_name.```..or 
+00000e80: 7573 6520 7468 6520 602d 2d2d 6020 7365  use the `---` se
+00000e90: 7061 7261 746f 723a 0a0a 6060 6079 616d  parator:..```yam
+00000ea0: 6c0a 2d2d 2d0a 6e61 6d65 3a20 6465 706c  l.---.name: depl
+00000eb0: 6f79 6d65 6e74 5f70 6174 6368 6573 0a74  oyment_patches.t
+00000ec0: 6172 6765 743a 0a20 2061 7069 5665 7273  arget:.  apiVers
+00000ed0: 696f 6e3a 2061 7070 732f 7631 0a20 206b  ion: apps/v1.  k
+00000ee0: 696e 643a 2044 6570 6c6f 796d 656e 740a  ind: Deployment.
+00000ef0: 2020 6e61 6d65 3a20 7765 620a 6f70 733a    name: web.ops:
+00000f00: 0a2d 206e 616d 653a 2072 6570 6c61 6365  .- name: replace
+00000f10: 5f69 6d61 6765 0a20 2070 6174 683a 202f  _image.  path: /
+00000f20: 7370 6563 2f74 656d 706c 6174 652f 7370  spec/template/sp
+00000f30: 6563 2f63 6f6e 7461 696e 6572 732f 6e67  ec/containers/ng
+00000f40: 696e 782f 696d 6167 650a 2020 7661 6c75  inx/image.  valu
+00000f50: 653a 206e 6769 6e78 3a31 2e32 330a 2020  e: nginx:1.23.  
+00000f60: 6163 7469 6f6e 3a20 7265 706c 6163 650a  action: replace.
+00000f70: 2d2d 2d0a 6e61 6d65 3a20 7365 7276 6963  ---.name: servic
+00000f80: 655f 7061 7463 6865 730a 7461 7267 6574  e_patches.target
+00000f90: 3a0a 2020 6170 6956 6572 7369 6f6e 3a20  :.  apiVersion: 
+00000fa0: 7631 0a20 206b 696e 643a 2053 6572 7669  v1.  kind: Servi
+00000fb0: 6365 0a20 206e 616d 653a 206e 6769 6e78  ce.  name: nginx
+00000fc0: 2d73 6572 7669 6365 0a6f 7073 3a0a 2d20  -service.ops:.- 
+00000fd0: 6e61 6d65 3a20 6164 645f 6874 7470 735f  name: add_https_
+00000fe0: 706f 7274 0a20 2070 6174 683a 202f 7370  port.  path: /sp
+00000ff0: 6563 2f70 6f72 7473 0a20 2076 616c 7565  ec/ports.  value
+00001000: 3a0a 2020 2020 6e61 6d65 3a20 6874 7470  :.    name: http
+00001010: 730a 2020 2020 706f 7274 3a20 3434 330a  s.    port: 443.
+00001020: 2020 2020 7072 6f74 6f63 6f6c 3a20 5443      protocol: TC
+00001030: 500a 2020 2020 7461 7267 6574 506f 7274  P.    targetPort
+00001040: 3a20 3434 330a 2020 6163 7469 6f6e 3a20  : 443.  action: 
+00001050: 6164 640a 2d20 6e61 6d65 3a20 7265 6e61  add.- name: rena
+00001060: 6d65 5f68 7474 705f 706f 7274 0a20 2070  me_http_port.  p
+00001070: 6174 683a 202f 7370 6563 2f70 6f72 7473  ath: /spec/ports
+00001080: 2f68 7474 702f 6e61 6d65 0a20 2061 6374  /http/name.  act
+00001090: 696f 6e3a 2072 6570 6c61 6365 0a20 2076  ion: replace.  v
+000010a0: 616c 7565 3a20 6e65 775f 6e61 6d65 0a60  alue: new_name.`
+000010b0: 6060 0a0a 5468 656e 2061 6c6c 2079 6f75  ``..Then all you
+000010c0: 206e 6565 6420 746f 2064 6f2c 2069 7320   need to do, is 
+000010d0: 7275 6e3a 0a0a 6060 6073 6865 6c6c 0a6b  run:..```shell.k
+000010e0: 7375 7820 2d62 203c 7061 7468 5f74 6f5f  sux -b <path_to_
+000010f0: 6261 7365 5f64 6972 3e20 2d70 203c 7061  base_dir> -p <pa
+00001100: 7468 5f74 6f5f 7061 7463 6865 735f 6469  th_to_patches_di
+00001110: 723e 202d 6f20 3c6f 7574 7075 745f 6469  r> -o <output_di
+00001120: 723e 0a60 6060 0a0a 5468 6973 2077 696c  r>.```..This wil
+00001130: 6c20 7361 7665 2061 6c6c 2070 6174 6368  l save all patch
+00001140: 6564 206d 616e 6966 6573 7473 2074 6f20  ed manifests to 
+00001150: 7468 6520 6f75 7470 7574 2064 6972 2e20  the output dir. 
+00001160: 596f 7520 6361 6e20 7573 6520 7468 6520  You can use the 
+00001170: 602d 2d64 7279 2d72 756e 6020 666c 6167  `--dry-run` flag
+00001180: 2074 6f20 7072 696e 7420 7468 6520 7061   to print the pa
+00001190: 7463 6865 640a 6d61 6e69 6665 7374 7320  tched.manifests 
+000011a0: 746f 2073 7464 6f75 743a 0a0a 6060 6073  to stdout:..```s
+000011b0: 6865 6c6c 0a6b 7375 7820 2d62 203c 7061  hell.ksux -b <pa
+000011c0: 7468 5f74 6f5f 6261 7365 5f64 6972 3e20  th_to_base_dir> 
+000011d0: 2d70 203c 7061 7468 5f74 6f5f 7061 7463  -p <path_to_patc
+000011e0: 6865 735f 6469 723e 202d 2d64 7279 2d72  hes_dir> --dry-r
+000011f0: 756e 0a60 6060 0a0a 466f 7220 6c69 7374  un.```..For list
+00001200: 206f 6620 616c 6c20 6f70 7469 6f6e 7320   of all options 
+00001210: 7365 653a 0a0a 6060 6073 6865 6c6c 0a6b  see:..```shell.k
+00001220: 7375 7820 2d2d 6865 6c70 0a60 6060 0a0a  sux --help.```..
+00001230: 2323 2320 7468 6520 606f 702e 7061 7468  ### the `op.path
+00001240: 600a 0a54 6869 7320 6973 2061 2070 7265  `..This is a pre
+00001250: 7474 7920 636f 6f6c 2074 6869 6e67 2e20  tty cool thing. 
+00001260: 5369 6d69 6c61 7220 746f 206b 7573 746f  Similar to kusto
+00001270: 6d69 7a65 2070 6174 682c 2068 6f77 6576  mize path, howev
+00001280: 6572 2079 6f75 2063 616e 2074 6172 6765  er you can targe
+00001290: 7420 6c69 7374 2069 7465 6d20 6279 206e  t list item by n
+000012a0: 616d 6573 206f 6620 6368 696c 6420 6f62  ames of child ob
+000012b0: 6a65 6374 732e 0a45 2e67 2e20 7361 7920  jects..E.g. say 
+000012c0: 796f 7520 6861 7665 2061 206c 6973 7420  you have a list 
+000012d0: 6f66 2070 6f72 7473 2069 6e20 6120 7365  of ports in a se
+000012e0: 7276 6963 653a 0a0a 6060 6079 616d 6c0a  rvice:..```yaml.
+000012f0: 6170 6956 6572 7369 6f6e 3a20 7631 0a6b  apiVersion: v1.k
+00001300: 696e 643a 2053 6572 7669 6365 0a6d 6574  ind: Service.met
+00001310: 6164 6174 613a 0a20 206c 6162 656c 733a  adata:.  labels:
+00001320: 0a20 2020 2061 7070 3a20 6e67 696e 782d  .    app: nginx-
+00001330: 7365 7276 6963 650a 2020 6e61 6d65 3a20  service.  name: 
+00001340: 6e67 696e 782d 7365 7276 6963 650a 7370  nginx-service.sp
+00001350: 6563 3a0a 2020 706f 7274 733a 0a20 2020  ec:.  ports:.   
+00001360: 202d 206e 616d 653a 206e 6577 5f6e 616d   - name: new_nam
+00001370: 650a 2020 2020 2020 706f 7274 3a20 3830  e.      port: 80
+00001380: 0a20 2020 2020 2070 726f 746f 636f 6c3a  .      protocol:
+00001390: 2054 4350 0a20 2020 2020 2074 6172 6765   TCP.      targe
+000013a0: 7450 6f72 743a 2038 300a 2020 2020 2d20  tPort: 80.    - 
+000013b0: 6e61 6d65 3a20 6874 7470 730a 2020 2020  name: https.    
+000013c0: 2020 706f 7274 3a20 3434 330a 2020 2020    port: 443.    
+000013d0: 2020 7072 6f74 6f63 6f6c 3a20 5443 500a    protocol: TCP.
+000013e0: 2020 2020 2020 7461 7267 6574 506f 7274        targetPort
+000013f0: 3a20 3434 330a 2020 7365 6c65 6374 6f72  : 443.  selector
+00001400: 3a0a 2020 2020 6170 703a 2077 6562 0a20  :.    app: web. 
+00001410: 2074 7970 653a 2043 6c75 7374 6572 4950   type: ClusterIP
+00001420: 0a60 6060 0a0a 546f 2074 6172 6765 7420  .```..To target 
+00001430: 7468 6520 6068 7474 7073 6020 7365 7276  the `https` serv
+00001440: 6963 6520 616e 6420 6368 616e 6765 2069  ice and change i
+00001450: 7473 206e 616d 652c 2079 6f75 2063 616e  ts name, you can
+00001460: 2073 7065 6369 6679 2074 6865 2070 6174   specify the pat
+00001470: 683a 2060 2f73 7065 632f 706f 7274 732f  h: `/spec/ports/
+00001480: 6874 7470 732f 6e61 6d65 6020 616e 6420  https/name` and 
+00001490: 7468 656e 0a73 6574 2074 6865 2076 616c  then.set the val
+000014a0: 7565 2074 6f20 7468 6520 6e65 7720 6e61  ue to the new na
+000014b0: 6d65 20f0 9f92 aa2e 0a0a 2323 2045 7861  me .......## Exa
+000014c0: 6d70 6c65 0a0a 496e 2074 6865 2060 2e2f  mple..In the `./
+000014d0: 6578 616d 706c 6573 6020 666f 6c64 6572  examples` folder
+000014e0: 2074 6865 7265 2061 7265 2033 2073 7562   there are 3 sub
+000014f0: 2d66 6f6c 6465 7273 3a0a 2020 2020 2d20  -folders:.    - 
+00001500: 602f 6578 616d 706c 6573 2f62 6173 6560  `/examples/base`
+00001510: 2077 6974 6820 6465 706c 6f79 6d65 6e74   with deployment
+00001520: 2c20 7365 7276 6963 6520 616e 6420 6120  , service and a 
+00001530: 636f 6e66 6967 6d61 7020 6d61 6e69 6665  configmap manife
+00001540: 7374 732e 2054 6865 7365 2061 7265 2074  sts. These are t
+00001550: 6865 2062 6173 6520 6d61 6e69 6665 7374  he base manifest
+00001560: 7320 7768 6963 6820 7765 2077 6973 680a  s which we wish.
+00001570: 2020 2020 746f 2070 6174 6368 0a20 2020      to patch.   
+00001580: 202d 2060 2f65 7861 6d70 6c65 732f 7061   - `/examples/pa
+00001590: 7463 6865 7360 2063 6f6e 7461 696e 2074  tches` contain t
+000015a0: 6865 2070 6174 6368 6573 2028 6e6f 7469  he patches (noti
+000015b0: 6365 2074 6861 7420 626f 7468 2062 6173  ce that both bas
+000015c0: 6520 6b75 6265 726e 6574 6573 206d 616e  e kubernetes man
+000015d0: 6966 6573 7473 2061 6e64 2070 6174 6368  ifests and patch
+000015e0: 6573 2063 616e 2062 6520 6569 7468 6572  es can be either
+000015f0: 2069 6e0a 2020 2020 606a 736f 6e60 206f   in.    `json` o
+00001600: 7220 6079 6d6c 602f 6079 616d 6c60 2066  r `yml`/`yaml` f
+00001610: 6f72 6d61 7429 0a20 2020 202d 2060 2f65  ormat).    - `/e
+00001620: 7861 6d70 6c65 732f 6f75 7460 2069 7320  xamples/out` is 
+00001630: 7468 6520 6f75 7470 7574 2064 6972 6563  the output direc
+00001640: 746f 7279 2077 6865 7265 2074 6865 2070  tory where the p
+00001650: 6174 6368 6564 2072 6573 6f75 7263 6573  atched resources
+00001660: 2077 696c 6c20 6265 206f 7574 7075 740a   will be output.
+00001670: 0a46 6972 7374 2c20 7765 2077 696c 6c20  .First, we will 
+00001680: 6064 7279 2d72 756e 6020 7468 6520 7061  `dry-run` the pa
+00001690: 7463 6869 6e67 3a0a 0a60 6060 7368 656c  tching:..```shel
+000016a0: 6c0a 6b73 7578 202d 6220 6578 616d 706c  l.ksux -b exampl
+000016b0: 6573 2f62 6173 6520 2d70 2065 7861 6d70  es/base -p examp
+000016c0: 6c65 732f 7061 7463 6865 7320 2d2d 6472  les/patches --dr
+000016d0: 792d 7275 6e0a 6060 600a 0a59 6f75 2073  y-run.```..You s
+000016e0: 686f 756c 6420 7365 6520 7468 6520 7061  hould see the pa
+000016f0: 7463 6865 6420 6d61 6e69 6665 7374 7320  tched manifests 
+00001700: 7072 696e 7465 6420 6f75 7420 746f 2074  printed out to t
+00001710: 6865 2063 6f6e 736f 6c65 2e20 4e6f 7720  he console. Now 
+00001720: 7765 2063 616e 2072 756e 2069 7420 616e  we can run it an
+00001730: 6420 7361 7665 2074 6865 2070 6174 6368  d save the patch
+00001740: 6564 206d 616e 6966 6573 7473 0a74 6f20  ed manifests.to 
+00001750: 7468 6520 606f 7574 7075 7460 2066 6f6c  the `output` fol
+00001760: 6465 723a 0a0a 6060 6073 6865 6c6c 0a6b  der:..```shell.k
+00001770: 7375 7820 2d62 2065 7861 6d70 6c65 732f  sux -b examples/
+00001780: 6261 7365 202d 7020 6578 616d 706c 6573  base -p examples
+00001790: 2f70 6174 6368 6573 202d 6f20 6578 616d  /patches -o exam
+000017a0: 706c 6573 2f6f 7574 0a60 6060 0a0a 4279  ples/out.```..By
+000017b0: 2064 6566 6175 6c74 2c20 7468 6520 6d61   default, the ma
+000017c0: 6e69 6665 7374 7320 7769 6c6c 2062 6520  nifests will be 
+000017d0: 7361 7665 6420 696e 2060 7961 6d6c 6020  saved in `yaml` 
+000017e0: 666f 726d 6174 2077 6974 6820 602e 7961  format with `.ya
+000017f0: 6d6c 6020 6578 7465 6e73 696f 6e2e 2049  ml` extension. I
+00001800: 6620 796f 7520 7769 7368 2074 6f20 7573  f you wish to us
+00001810: 6520 7468 6520 602e 796d 6c60 2065 7874  e the `.yml` ext
+00001820: 656e 7369 6f6e 0a6f 7220 7361 7665 2074  ension.or save t
+00001830: 6865 206d 616e 6966 6573 7473 2069 6e20  he manifests in 
+00001840: 606a 736f 6e60 2066 6f72 6d61 742c 2073  `json` format, s
+00001850: 696d 706c 7920 7072 6f76 6964 6520 7468  imply provide th
+00001860: 6520 602d 6560 2066 6c61 6720 7769 7468  e `-e` flag with
+00001870: 2063 6f72 7265 7370 6f6e 6469 6e67 2065   corresponding e
+00001880: 7874 656e 7369 6f6e 2e20 452e 672e 3a0a  xtension. E.g.:.
+00001890: 0a60 6060 7368 656c 6c0a 6b73 7578 202d  .```shell.ksux -
+000018a0: 6220 6578 616d 706c 6573 2f62 6173 6520  b examples/base 
+000018b0: 2d70 2065 7861 6d70 6c65 732f 7061 7463  -p examples/patc
+000018c0: 6865 7320 2d6f 2065 7861 6d70 6c65 732f  hes -o examples/
+000018d0: 6f75 7420 2d65 206a 736f 6e0a 6060 600a  out -e json.```.
```

### Comparing `ksux-0.5.3/pyproject.toml` & `ksux-0.5.4/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 [build-system]
 requires = ["setuptools>=61.0"]
 build-backend = "setuptools.build_meta"
 [project]
 name = "ksux"
-version = "0.5.3"
+version = "0.5.4"
 authors = [
     { name = "Tomas Sladecek" }
 ]
 description = "Easy customization of kubernetes manifests"
 readme = "README.md"
 license = { file = "LICENSE" }
 requires-python = ">=3.6"
```

### Comparing `ksux-0.5.3/src/ksux/__init__.py` & `ksux-0.5.4/src/ksux/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -28,15 +28,15 @@
     parser.add_argument('--dry-run', help='Print manifests to stdout', action="store_true")
     parser.add_argument('-q', '--quiet', help='Do not print debug, info and warning messages', action='store_true')
     parser.add_argument('--version', help='Package version', action="store_true")
 
     args = parser.parse_args()
 
     if args.version:
-        print('0.5.3')
+        print('0.5.4')
         exit(0)
 
     if args.quiet:
         logging.root.setLevel(logging.ERROR)
     else:
         logging.root.setLevel(logging.INFO)
```

### Comparing `ksux-0.5.3/src/ksux/src/create_manifests.py` & `ksux-0.5.4/src/ksux/src/create_manifests.py`

 * *Files identical despite different names*

### Comparing `ksux-0.5.3/src/ksux/src/patch.py` & `ksux-0.5.4/src/ksux/src/patch.py`

 * *Files 7% similar despite different names*

```diff
@@ -9,16 +9,15 @@
 from .read_file import read_yaml, read_json
 from .schemas import Op, Patch, Action
 
 
 def validate_patch(patch: dict) -> Patch:
     """
     Validate patch
-    :param validated_patches: list of validated_patches
-    :param patch:
+    :param patch: patch object
     :return:
     """
     try:
         validated = Patch(**patch)
     except ValidationError:
         logging.error(f'Patch {patch} did not pass validation. See required fields')
         exit(1)
@@ -80,15 +79,15 @@
                     exit(1)
 
             path_real.append(path_param)
         elif type(current_manifest) in [list, CommentedSeq]:
             # look for item with name == path_param
             idx = -1
             for i, item in enumerate(current_manifest):
-                if item['name'] == path_param:
+                if item[op.list_key] == path_param:
                     idx = i
 
             if idx == -1:
                 logging.error(f'Patch {patch.__dict__} at path {path} does not contain an item with name={path_param}')
                 exit(1)
             else:
                 path_real.append(idx)
```

### Comparing `ksux-0.5.3/src/ksux/src/read_file.py` & `ksux-0.5.4/src/ksux/src/read_file.py`

 * *Files identical despite different names*

### Comparing `ksux-0.5.3/src/ksux/src/save_manifests.py` & `ksux-0.5.4/src/ksux/src/save_manifests.py`

 * *Files identical despite different names*

### Comparing `ksux-0.5.3/src/ksux/src/schemas.py` & `ksux-0.5.4/src/ksux/src/schemas.py`

 * *Files 3% similar despite different names*

```diff
@@ -33,14 +33,15 @@
            required for action = remove
     action: Action
     """
     name: str
     path: str
     value: Optional[Union[str, int, dict, list]]
     action: Action
+    list_key: str = 'name'
 
     @validator('action')
     def check_value(cls, v, values, **kwargs):
         if v == Action.add or v == Action.replace:
             if 'value' not in values or values['value'] is None:
                 raise ValueError(f'Value needs to be present for action {v}')
```

### Comparing `ksux-0.5.3/src/ksux/tests/test_patch.py` & `ksux-0.5.4/src/ksux/tests/test_patch.py`

 * *Files 18% similar despite different names*

```diff
@@ -119,15 +119,15 @@
     for i in range(1, 5):
         patch.ops[0].path = f'/spec/template/spec/containers/container{i}/image'
         grp = get_real_path(patch, patch.ops[0], manifest)
 
         assert grp == ['spec', 'template', 'spec', 'containers', i - 1, 'image']
 
 
-def patch_manifest():
+def test_patch_manifest():
     manifest = {
         "apiVersion": "apps/v1",
         "kind": "Deployment",
         "metadata": {
             "name": "deploy"
         },
         "spec": {
@@ -141,30 +141,91 @@
                         }
                     ]
                 }
             }
         }
     }
 
-    replicas = 5
+    replicas = '5'
     new_image_name = 'new-image-name'
     new_image = 'redis'
 
     patched_manifest_real = deepcopy(manifest)
     patched_manifest_real['spec']['template']['spec']['replicas'] = replicas
     patched_manifest_real['spec']['template']['spec']['containers'][0]['name'] = new_image_name
     patched_manifest_real['spec']['template']['spec']['containers'][0]['image'] = new_image
 
     patch = Patch(**get_valid_patch())
     patch.ops = [
-        Op(name='replicas', path='/spec/template/spec/replicase', action=Action.replace, value=replicas),
+        Op(name='replicas', path='/spec/template/spec/replicas', action=Action.replace, value=replicas),
         Op(name='image name', path='/spec/template/spec/containers/container1/name', action=Action.replace,
            value=new_image_name),
         Op(name='image', path=f'/spec/template/spec/containers/{new_image_name}/image', action=Action.replace,
            value=new_image)
     ]
 
     patched_manifest = apply_patch(patch, patch.ops[0], manifest)
     patched_manifest = apply_patch(patch, patch.ops[1], patched_manifest)
     patched_manifest = apply_patch(patch, patch.ops[2], patched_manifest)
 
-    assert patched_manifest == patched_manifest_real
+
+def test_patch_ingress():
+    """Patch Ingress resource
+
+    Just an example, since ingress contains host field instead of name
+    """
+
+    NEW_HOST = 'new_host'
+
+    manifest = {
+        "apiVersion": "networking.k8s.io/v1",
+        "kind": "Ingress",
+        "metadata": {
+            "name": "ingress"
+        },
+        "spec": {
+            "rules": [
+                {
+                    "host": "host1",
+                    "http": {
+                        "paths": [
+                            {
+                                "path": "/",
+                                "pathType": "Prefix",
+                                "backend": {
+                                    "service": {
+                                        "name": "svc",
+                                        "port": {
+                                            "number": 80
+                                        }
+                                    }
+                                }
+                            }
+                        ]
+                    }
+                }
+            ]
+        }
+    }
+
+    patch_dict = {
+        "name": "ingress patch",
+        "target": {
+            "apiVersion": "networking.k8s.io/v1",
+            "kind": "Ingress",
+            "name": "ingress"
+        },
+        "ops": [
+            {
+                "name": "replace host",
+                "path": "/spec/rules/host1/host",
+                "action": "replace",
+                "value": NEW_HOST,
+                "list_key": "host"
+            }
+        ]
+    }
+    patch = Patch(**patch_dict)
+
+    patched = apply_patch(patch, patch.ops[0], manifest)
+
+    assert patched['spec']['rules'][0]['host'] == NEW_HOST
```

### Comparing `ksux-0.5.3/src/ksux/tests/test_read_file.py` & `ksux-0.5.4/src/ksux/tests/test_read_file.py`

 * *Files identical despite different names*

### Comparing `ksux-0.5.3/src/ksux.egg-info/PKG-INFO` & `ksux-0.5.4/src/ksux.egg-info/PKG-INFO`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 6b73 7578  : 2.1.Name: ksux
-00000020: 0a56 6572 7369 6f6e 3a20 302e 352e 330a  .Version: 0.5.3.
+00000020: 0a56 6572 7369 6f6e 3a20 302e 352e 340a  .Version: 0.5.4.
 00000030: 5375 6d6d 6172 793a 2045 6173 7920 6375  Summary: Easy cu
 00000040: 7374 6f6d 697a 6174 696f 6e20 6f66 206b  stomization of k
 00000050: 7562 6572 6e65 7465 7320 6d61 6e69 6665  ubernetes manife
 00000060: 7374 730a 4175 7468 6f72 3a20 546f 6d61  sts.Author: Toma
 00000070: 7320 536c 6164 6563 656b 0a4c 6963 656e  s Sladecek.Licen
 00000080: 7365 3a20 4d49 5420 4c69 6365 6e73 650a  se: MIT License.
 00000090: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
@@ -94,399 +94,406 @@
 000005d0: 6965 723a 204f 7065 7261 7469 6e67 2053  ier: Operating S
 000005e0: 7973 7465 6d20 3a3a 204f 5320 496e 6465  ystem :: OS Inde
 000005f0: 7065 6e64 656e 740a 5265 7175 6972 6573  pendent.Requires
 00000600: 2d50 7974 686f 6e3a 203e 3d33 2e36 0a44  -Python: >=3.6.D
 00000610: 6573 6372 6970 7469 6f6e 2d43 6f6e 7465  escription-Conte
 00000620: 6e74 2d54 7970 653a 2074 6578 742f 6d61  nt-Type: text/ma
 00000630: 726b 646f 776e 0a4c 6963 656e 7365 2d46  rkdown.License-F
-00000640: 696c 653a 204c 4943 454e 5345 0a0a 2320  ile: LICENSE..# 
-00000650: 6b73 7578 2020 215b 4769 7448 7562 2057  ksux  ![GitHub W
-00000660: 6f72 6b66 6c6f 7720 5374 6174 7573 2028  orkflow Status (
-00000670: 7769 7468 2062 7261 6e63 6829 5d28 6874  with branch)](ht
-00000680: 7470 733a 2f2f 696d 672e 7368 6965 6c64  tps://img.shield
-00000690: 732e 696f 2f67 6974 6875 622f 6163 7469  s.io/github/acti
-000006a0: 6f6e 732f 776f 726b 666c 6f77 2f73 7461  ons/workflow/sta
-000006b0: 7475 732f 7473 6c61 6465 6365 6b2f 6b73  tus/tsladecek/ks
-000006c0: 7578 2f74 6573 742e 796d 6c3f 6272 616e  ux/test.yml?bran
-000006d0: 6368 3d6d 6169 6e26 6c61 6265 6c3d 7465  ch=main&label=te
-000006e0: 7374 7326 6c6f 676f 3d47 6974 4875 6229  sts&logo=GitHub)
-000006f0: 2021 5b47 6974 4875 6220 7265 706f 2073   ![GitHub repo s
-00000700: 697a 655d 2868 7474 7073 3a2f 2f69 6d67  ize](https://img
-00000710: 2e73 6869 656c 6473 2e69 6f2f 6769 7468  .shields.io/gith
-00000720: 7562 2f72 6570 6f2d 7369 7a65 2f74 736c  ub/repo-size/tsl
-00000730: 6164 6563 656b 2f6b 7375 7829 2021 5b47  adecek/ksux) ![G
-00000740: 6974 4875 625d 2868 7474 7073 3a2f 2f69  itHub](https://i
-00000750: 6d67 2e73 6869 656c 6473 2e69 6f2f 6769  mg.shields.io/gi
-00000760: 7468 7562 2f6c 6963 656e 7365 2f74 736c  thub/license/tsl
-00000770: 6164 6563 656b 2f6b 7375 7829 2021 5b47  adecek/ksux) ![G
-00000780: 6974 4875 6220 7461 6720 286c 6174 6573  itHub tag (lates
-00000790: 7420 5365 6d56 6572 295d 2868 7474 7073  t SemVer)](https
-000007a0: 3a2f 2f69 6d67 2e73 6869 656c 6473 2e69  ://img.shields.i
-000007b0: 6f2f 6769 7468 7562 2f76 2f74 6167 2f74  o/github/v/tag/t
-000007c0: 736c 6164 6563 656b 2f6b 7375 783f 636f  sladecek/ksux?co
-000007d0: 6c6f 723d 7965 6c6c 6f77 266c 6162 656c  lor=yellow&label
-000007e0: 3d76 6572 7369 6f6e 266c 6f67 6f3d 4769  =version&logo=Gi
-000007f0: 7448 7562 2920 5b21 5b50 7950 495d 2868  tHub) [![PyPI](h
-00000800: 7474 7073 3a2f 2f69 6d67 2e73 6869 656c  ttps://img.shiel
-00000810: 6473 2e69 6f2f 7079 7069 2f76 2f6b 7375  ds.io/pypi/v/ksu
-00000820: 783f 6c6f 676f 3d50 7970 6929 5d28 6874  x?logo=Pypi)](ht
-00000830: 7470 733a 2f2f 7079 7069 2e6f 7267 2f70  tps://pypi.org/p
-00000840: 726f 6a65 6374 2f6b 7375 782f 2920 5b21  roject/ksux/) [!
-00000850: 5b44 6f63 6b65 7220 496d 6167 6520 5369  [Docker Image Si
-00000860: 7a65 2028 6c61 7465 7374 2062 7920 6461  ze (latest by da
-00000870: 7465 295d 2868 7474 7073 3a2f 2f69 6d67  te)](https://img
-00000880: 2e73 6869 656c 6473 2e69 6f2f 646f 636b  .shields.io/dock
-00000890: 6572 2f69 6d61 6765 2d73 697a 652f 7473  er/image-size/ts
-000008a0: 6c61 6465 6365 6b2f 6b73 7578 3f6c 6f67  ladecek/ksux?log
-000008b0: 6f3d 446f 636b 6572 2673 6f72 743d 6461  o=Docker&sort=da
-000008c0: 7465 295d 2868 7474 7073 3a2f 2f68 7562  te)](https://hub
-000008d0: 2e64 6f63 6b65 722e 636f 6d2f 722f 7473  .docker.com/r/ts
-000008e0: 6c61 6465 6365 6b2f 6b73 7578 290a 0a41  ladecek/ksux)..A
-000008f0: 2073 696d 706c 6520 7761 7920 666f 7220   simple way for 
-00000900: 7465 6d70 6c61 7469 6e67 206b 7562 6572  templating kuber
-00000910: 6e65 7465 7320 6d61 6e69 6665 7374 732e  netes manifests.
-00000920: 0a0a 312e 205b 5265 7175 6972 656d 656e  ..1. [Requiremen
-00000930: 7473 5d28 2372 6571 7569 7265 6d65 6e74  ts](#requirement
-00000940: 7329 0a32 2e20 5b49 6e73 7461 6c6c 6174  s).2. [Installat
-00000950: 696f 6e5d 2823 696e 7374 616c 6c61 7469  ion](#installati
-00000960: 6f6e 290a 2020 2031 2e20 5b4c 6f63 616c  on).   1. [Local
-00000970: 5d28 236c 6f63 616c 290a 2020 2032 2e20  ](#local).   2. 
-00000980: 5b44 6f63 6b65 725d 2823 646f 636b 6572  [Docker](#docker
-00000990: 290a 332e 205b 486f 7720 646f 6573 2069  ).3. [How does i
-000009a0: 7420 776f 726b 3f5d 2823 686f 772d 646f  t work?](#how-do
-000009b0: 6573 2d69 742d 776f 726b 290a 2020 2031  es-it-work).   1
-000009c0: 2e20 5b54 6865 2060 6f70 2e70 6174 6860  . [The `op.path`
-000009d0: 5d28 2374 6865 2d6f 7070 6174 6829 0a34  ](#the-oppath).4
-000009e0: 2e20 5b45 7861 6d70 6c65 5d28 2365 7861  . [Example](#exa
-000009f0: 6d70 6c65 290a 0a2d 2d2d 0a74 6c64 722e  mple)..---.tldr.
-00000a00: 0a0a 6060 6073 6865 6c6c 0a6b 7375 7820  ..```shell.ksux 
-00000a10: 2d62 203c 7061 7468 5f74 6f5f 6261 7365  -b <path_to_base
-00000a20: 5f64 6972 3e20 2d70 203c 7061 7468 5f74  _dir> -p <path_t
-00000a30: 6f5f 7061 7463 6865 735f 6469 723e 202d  o_patches_dir> -
-00000a40: 6f20 3c6f 7574 7075 745f 6469 723e 0a60  o <output_dir>.`
-00000a50: 6060 0a0a 6f72 2075 7369 6e67 2064 6f63  ``..or using doc
-00000a60: 6b65 723a 0a0a 6060 6073 6865 6c6c 0a64  ker:..```shell.d
-00000a70: 6f63 6b65 7220 7275 6e20 2d2d 726d 202d  ocker run --rm -
-00000a80: 7620 2f70 6174 682f 746f 2f79 6f75 722f  v /path/to/your/
-00000a90: 636f 6e66 6967 733a 2f63 6f6e 6669 6773  configs:/configs
-00000aa0: 2074 736c 6164 6563 656b 2f6b 7375 7820   tsladecek/ksux 
-00000ab0: 6b73 7578 202d 6220 2f63 6f6e 6669 6773  ksux -b /configs
-00000ac0: 2f62 6173 6520 2d70 202f 636f 6e66 6967  /base -p /config
-00000ad0: 732f 7061 7463 6865 7320 2d6f 202f 636f  s/patches -o /co
-00000ae0: 6e66 6967 732f 6f75 740a 6060 600a 0a2d  nfigs/out.```..-
-00000af0: 2d2d 0a0a 2323 2052 6571 7569 7265 6d65  --..## Requireme
-00000b00: 6e74 730a 0a54 6869 7320 6973 2061 2070  nts..This is a p
-00000b10: 7974 686f 6e20 7061 636b 6167 652e 2053  ython package. S
-00000b20: 6f20 7468 6520 6f6e 6c79 2072 6571 7569  o the only requi
-00000b30: 7265 6d65 6e74 7320 6172 6520 6070 7974  rements are `pyt
-00000b40: 686f 6e33 6020 616e 6420 6070 6970 600a  hon3` and `pip`.
-00000b50: 0a23 2320 496e 7374 616c 6c61 7469 6f6e  .## Installation
-00000b60: 0a0a 2323 2320 4c6f 6361 6c0a 0a2d 204f  ..### Local..- O
-00000b70: 7074 696f 6e61 6c3a 2043 7265 6174 6520  ptional: Create 
-00000b80: 616e 6420 6163 7469 7661 7465 2061 2076  and activate a v
-00000b90: 6972 7475 616c 2065 6e76 2e0a 0a60 6060  irtual env...```
-00000ba0: 7368 656c 6c0a 2320 6f70 7469 6f6e 2031  shell.# option 1
-00000bb0: 3a20 7669 7275 616c 7665 6e76 0a76 6972  : virualvenv.vir
-00000bc0: 7475 616c 7665 6e76 206b 7375 780a 736f  tualvenv ksux.so
-00000bd0: 7572 6365 206b 7375 782f 6269 6e2f 6163  urce ksux/bin/ac
-00000be0: 7469 7661 7465 0a0a 2320 6f70 7469 6f6e  tivate..# option
-00000bf0: 2032 3a20 7665 6e76 0a70 7974 686f 6e20   2: venv.python 
-00000c00: 2d6d 2076 656e 7620 6b73 7578 0a73 6f75  -m venv ksux.sou
-00000c10: 7263 6520 6b73 7578 2f62 696e 2f61 6374  rce ksux/bin/act
-00000c20: 6976 6174 650a 0a23 206f 7074 696f 6e20  ivate..# option 
-00000c30: 333a 2063 6f6e 6461 0a63 6f6e 6461 2063  3: conda.conda c
-00000c40: 7265 6174 6520 2d6e 206b 7375 7820 7079  reate -n ksux py
-00000c50: 7468 6f6e 0a63 6f6e 6461 2061 6374 6976  thon.conda activ
-00000c60: 6174 6520 6b73 7578 0a60 6060 0a0a 2d20  ate ksux.```..- 
-00000c70: 496e 7374 616c 6c0a 0a60 6060 7368 656c  Install..```shel
-00000c80: 6c0a 7069 7020 696e 7374 616c 6c20 6b73  l.pip install ks
-00000c90: 7578 0a60 6060 0a0a 2323 2320 446f 636b  ux.```..### Dock
-00000ca0: 6572 0a0a 7573 6520 7468 6520 5b64 6f63  er..use the [doc
-00000cb0: 6b65 7220 696d 6167 655d 2868 7474 7073  ker image](https
-00000cc0: 3a2f 2f68 7562 2e64 6f63 6b65 722e 636f  ://hub.docker.co
-00000cd0: 6d2f 722f 7473 6c61 6465 6365 6b2f 6b73  m/r/tsladecek/ks
-00000ce0: 7578 290a 0a54 6f20 7275 6e20 7468 6520  ux)..To run the 
-00000cf0: 636f 6d6d 616e 6420 696e 7369 6465 2061  command inside a
-00000d00: 2064 6f63 6b65 7220 636f 6e74 6169 6e65   docker containe
-00000d10: 722c 2079 6f75 206e 6565 6420 746f 206d  r, you need to m
-00000d20: 616b 6520 7375 7265 2074 6861 7420 616c  ake sure that al
-00000d30: 6c20 766f 6c75 6d65 7320 6172 6520 6d61  l volumes are ma
-00000d40: 7070 6564 2074 6f20 7468 6520 636f 6e74  pped to the cont
-00000d50: 6169 6e65 722e 204c 6574 2773 0a73 6179  ainer. Let's.say
-00000d60: 2074 6861 7420 796f 7520 6861 7665 2061   that you have a
-00000d70: 2066 6f6c 6c6f 7769 6e67 2066 696c 6520   following file 
-00000d80: 7374 7275 6374 7572 653a 0a0a 6060 6073  structure:..```s
-00000d90: 6865 6c6c 0a7c 2d20 2f68 6f6d 652f 7072  hell.|- /home/pr
-00000da0: 6f6a 6563 740a 7c20 207c 2d20 6261 7365  oject.|  |- base
-00000db0: 0a7c 2020 7c2d 2070 6174 6368 6573 0a7c  .|  |- patches.|
-00000dc0: 2020 7c2d 206f 7574 0a60 6060 0a0a 546f    |- out.```..To
-00000dd0: 2067 656e 6572 6174 6520 7061 7463 6865   generate patche
-00000de0: 6420 6d61 6e69 6665 7374 7320 696e 2074  d manifests in t
-00000df0: 6865 2060 2f68 6f6d 652f 7072 6f6a 6563  he `/home/projec
-00000e00: 742f 6f75 7460 2066 6f6c 6465 722c 2072  t/out` folder, r
-00000e10: 756e 2066 6f6c 6c6f 7769 6e67 2063 6f6d  un following com
-00000e20: 6d61 6e64 3a0a 0a60 6060 7368 656c 6c0a  mand:..```shell.
-00000e30: 646f 636b 6572 2072 756e 202d 2d72 6d20  docker run --rm 
-00000e40: 2d76 202f 686f 6d65 2f70 726f 6a65 6374  -v /home/project
-00000e50: 3a2f 636f 6e66 6967 7320 7473 6c61 6465  :/configs tslade
-00000e60: 6365 6b2f 6b73 7578 206b 7375 7820 2d62  cek/ksux ksux -b
-00000e70: 202f 636f 6e66 6967 732f 6261 7365 202d   /configs/base -
-00000e80: 7020 2f63 6f6e 6669 6773 2f70 6174 6368  p /configs/patch
-00000e90: 6573 202d 6f20 2f63 6f6e 6669 6773 2f6f  es -o /configs/o
-00000ea0: 7574 0a60 6060 0a0a 7468 6520 696d 706f  ut.```..the impo
-00000eb0: 7274 616e 7420 7061 7274 2069 7320 7468  rtant part is th
-00000ec0: 6520 602d 7660 2066 6c61 672c 2077 6869  e `-v` flag, whi
-00000ed0: 6368 2077 696c 6c20 6d6f 756e 7420 796f  ch will mount yo
-00000ee0: 7572 206c 6f63 616c 2066 6f6c 6465 7220  ur local folder 
-00000ef0: 6173 2076 6f6c 756d 6520 746f 2074 6865  as volume to the
-00000f00: 2063 6f6e 7461 696e 6572 2e0a 0a23 2320   container...## 
-00000f10: 486f 7720 646f 6573 2069 7420 776f 726b  How does it work
-00000f20: 3f0a 0a4c 6574 2773 2073 6179 2074 6861  ?..Let's say tha
-00000f30: 7420 796f 7520 6861 7665 206d 616e 7920  t you have many 
-00000f40: 6d61 6e69 6665 7374 7320 696e 2073 6f6d  manifests in som
-00000f50: 6520 6469 7265 6374 6f72 7920 2860 6261  e directory (`ba
-00000f60: 7365 6020 6469 7265 6374 6f72 7929 2074  se` directory) t
-00000f70: 6861 7420 796f 7520 7769 7368 2074 6f20  hat you wish to 
-00000f80: 7061 7463 6820 7769 7468 2070 6174 6368  patch with patch
-00000f90: 6573 2028 696e 2074 6865 0a60 7061 7463  es (in the.`patc
-00000fa0: 6865 7360 2920 6469 7265 6374 6f72 792e  hes`) directory.
-00000fb0: 0a0a 5061 7463 6865 7320 636f 756c 6420  ..Patches could 
-00000fc0: 6265 2069 6e20 6079 616d 6c60 206f 7220  be in `yaml` or 
-00000fd0: 606a 736f 6e60 2066 6f72 6d61 7420 2861  `json` format (a
-00000fe0: 7320 7765 6c6c 2061 7320 796f 7572 206d  s well as your m
-00000ff0: 616e 6966 6573 7473 292e 2048 6f77 6576  anifests). Howev
-00001000: 6572 2c20 7468 6579 206d 7573 7420 6164  er, they must ad
-00001010: 6865 7265 2074 6f20 666f 6c6c 6f77 696e  here to followin
-00001020: 6720 7363 6865 6d61 3a0a 0a60 6060 7961  g schema:..```ya
-00001030: 6d6c 0a6e 616d 653a 203c 7061 7463 685f  ml.name: <patch_
-00001040: 6465 7363 7269 7074 696f 6e3e 0a74 6172  description>.tar
-00001050: 6765 743a 0a20 2061 7069 5665 7273 696f  get:.  apiVersio
-00001060: 6e3a 203c 6170 6956 6572 7369 6f6e 206f  n: <apiVersion o
-00001070: 6620 7461 7267 6574 6564 2072 6573 6f75  f targeted resou
-00001080: 7263 653e 0a20 206b 696e 643a 203c 4465  rce>.  kind: <De
-00001090: 706c 6f79 6d65 6e74 2074 7970 6520 6f66  ployment type of
-000010a0: 2074 6172 6765 7465 6420 7265 736f 7572   targeted resour
-000010b0: 6365 3e0a 2020 6e61 6d65 3a20 3c6e 616d  ce>.  name: <nam
-000010c0: 6520 6f66 2074 6172 6765 7465 6420 7265  e of targeted re
-000010d0: 736f 7572 6365 3e0a 6f70 733a 0a20 202d  source>.ops:.  -
-000010e0: 206e 616d 653a 203c 6f70 6572 6174 696f   name: <operatio
-000010f0: 6e20 6465 7363 7269 7074 696f 6e3e 0a20  n description>. 
-00001100: 2020 2070 6174 683a 203c 7061 7468 2074     path: <path t
-00001110: 6f20 7468 6520 7061 7274 206f 6620 7468  o the part of th
-00001120: 6520 6d61 6e69 6665 7374 2074 6f20 6265  e manifest to be
-00001130: 2070 6174 6368 6564 3e0a 2020 2020 7661   patched>.    va
-00001140: 6c75 653a 203c 7661 6c75 6520 7768 6963  lue: <value whic
-00001150: 6820 7368 6f75 6c64 2062 6520 7265 706c  h should be repl
-00001160: 6163 6564 206f 7220 6164 6465 643e 0a20  aced or added>. 
-00001170: 2020 2061 6374 696f 6e3a 203c 6164 647c     action: <add|
-00001180: 7265 706c 6163 657c 7265 6d6f 7665 3e0a  replace|remove>.
-00001190: 6060 600a 0a65 6163 6820 7061 7463 6820  ```..each patch 
-000011a0: 6669 6c65 2063 616e 2062 6520 6120 6c69  file can be a li
-000011b0: 7374 206f 6620 7061 7463 6865 732e 2059  st of patches. Y
-000011c0: 6f75 2063 616e 2075 7365 2074 6865 2063  ou can use the c
-000011d0: 6c61 7373 6963 2079 616d 6c20 666f 726d  lassic yaml form
-000011e0: 6174 2c20 652e 672e 3a0a 0a60 6060 7961  at, e.g.:..```ya
-000011f0: 6d6c 0a2d 206e 616d 653a 2064 6570 6c6f  ml.- name: deplo
-00001200: 796d 656e 745f 7061 7463 6865 730a 2020  yment_patches.  
-00001210: 7461 7267 6574 3a0a 2020 2020 6170 6956  target:.    apiV
-00001220: 6572 7369 6f6e 3a20 6170 7073 2f76 310a  ersion: apps/v1.
-00001230: 2020 2020 6b69 6e64 3a20 4465 706c 6f79      kind: Deploy
-00001240: 6d65 6e74 0a20 2020 206e 616d 653a 2077  ment.    name: w
-00001250: 6562 0a20 206f 7073 3a0a 2020 2020 2d20  eb.  ops:.    - 
-00001260: 6e61 6d65 3a20 7265 706c 6163 655f 696d  name: replace_im
-00001270: 6167 650a 2020 2020 2020 7061 7468 3a20  age.      path: 
-00001280: 2f73 7065 632f 7465 6d70 6c61 7465 2f73  /spec/template/s
-00001290: 7065 632f 636f 6e74 6169 6e65 7273 2f6e  pec/containers/n
-000012a0: 6769 6e78 2f69 6d61 6765 0a20 2020 2020  ginx/image.     
-000012b0: 2076 616c 7565 3a20 6e67 696e 783a 312e   value: nginx:1.
-000012c0: 3233 0a20 2020 2020 2061 6374 696f 6e3a  23.      action:
-000012d0: 2072 6570 6c61 6365 0a2d 206e 616d 653a   replace.- name:
-000012e0: 2073 6572 7669 6365 5f70 6174 6368 6573   service_patches
-000012f0: 0a20 2074 6172 6765 743a 0a20 2020 2061  .  target:.    a
-00001300: 7069 5665 7273 696f 6e3a 2076 310a 2020  piVersion: v1.  
-00001310: 2020 6b69 6e64 3a20 5365 7276 6963 650a    kind: Service.
-00001320: 2020 2020 6e61 6d65 3a20 6e67 696e 782d      name: nginx-
-00001330: 7365 7276 6963 650a 2020 6f70 733a 0a20  service.  ops:. 
-00001340: 2020 202d 206e 616d 653a 2061 6464 5f68     - name: add_h
-00001350: 7474 7073 5f70 6f72 740a 2020 2020 2020  ttps_port.      
-00001360: 7061 7468 3a20 2f73 7065 632f 706f 7274  path: /spec/port
-00001370: 730a 2020 2020 2020 7661 6c75 653a 0a20  s.      value:. 
-00001380: 2020 2020 2020 206e 616d 653a 2068 7474         name: htt
-00001390: 7073 0a20 2020 2020 2020 2070 6f72 743a  ps.        port:
-000013a0: 2034 3433 0a20 2020 2020 2020 2070 726f   443.        pro
-000013b0: 746f 636f 6c3a 2054 4350 0a20 2020 2020  tocol: TCP.     
-000013c0: 2020 2074 6172 6765 7450 6f72 743a 2034     targetPort: 4
-000013d0: 3433 0a20 2020 2020 2061 6374 696f 6e3a  43.      action:
-000013e0: 2061 6464 0a20 2020 202d 206e 616d 653a   add.    - name:
-000013f0: 2072 656e 616d 655f 6874 7470 5f70 6f72   rename_http_por
-00001400: 740a 2020 2020 2020 7061 7468 3a20 2f73  t.      path: /s
-00001410: 7065 632f 706f 7274 732f 6874 7470 2f6e  pec/ports/http/n
-00001420: 616d 650a 2020 2020 2020 6163 7469 6f6e  ame.      action
-00001430: 3a20 7265 706c 6163 650a 2020 2020 2020  : replace.      
-00001440: 7661 6c75 653a 206e 6577 5f6e 616d 650a  value: new_name.
-00001450: 6060 600a 0a6f 7220 7573 6520 7468 6520  ```..or use the 
-00001460: 602d 2d2d 6020 7365 7061 7261 746f 723a  `---` separator:
-00001470: 0a0a 6060 6079 616d 6c0a 2d2d 2d0a 6e61  ..```yaml.---.na
-00001480: 6d65 3a20 6465 706c 6f79 6d65 6e74 5f70  me: deployment_p
-00001490: 6174 6368 6573 0a74 6172 6765 743a 0a20  atches.target:. 
-000014a0: 2061 7069 5665 7273 696f 6e3a 2061 7070   apiVersion: app
-000014b0: 732f 7631 0a20 206b 696e 643a 2044 6570  s/v1.  kind: Dep
-000014c0: 6c6f 796d 656e 740a 2020 6e61 6d65 3a20  loyment.  name: 
-000014d0: 7765 620a 6f70 733a 0a2d 206e 616d 653a  web.ops:.- name:
-000014e0: 2072 6570 6c61 6365 5f69 6d61 6765 0a20   replace_image. 
-000014f0: 2070 6174 683a 202f 7370 6563 2f74 656d   path: /spec/tem
-00001500: 706c 6174 652f 7370 6563 2f63 6f6e 7461  plate/spec/conta
-00001510: 696e 6572 732f 6e67 696e 782f 696d 6167  iners/nginx/imag
-00001520: 650a 2020 7661 6c75 653a 206e 6769 6e78  e.  value: nginx
-00001530: 3a31 2e32 330a 2020 6163 7469 6f6e 3a20  :1.23.  action: 
-00001540: 7265 706c 6163 650a 2d2d 2d0a 6e61 6d65  replace.---.name
-00001550: 3a20 7365 7276 6963 655f 7061 7463 6865  : service_patche
-00001560: 730a 7461 7267 6574 3a0a 2020 6170 6956  s.target:.  apiV
-00001570: 6572 7369 6f6e 3a20 7631 0a20 206b 696e  ersion: v1.  kin
-00001580: 643a 2053 6572 7669 6365 0a20 206e 616d  d: Service.  nam
-00001590: 653a 206e 6769 6e78 2d73 6572 7669 6365  e: nginx-service
-000015a0: 0a6f 7073 3a0a 2d20 6e61 6d65 3a20 6164  .ops:.- name: ad
-000015b0: 645f 6874 7470 735f 706f 7274 0a20 2070  d_https_port.  p
-000015c0: 6174 683a 202f 7370 6563 2f70 6f72 7473  ath: /spec/ports
-000015d0: 0a20 2076 616c 7565 3a0a 2020 2020 6e61  .  value:.    na
-000015e0: 6d65 3a20 6874 7470 730a 2020 2020 706f  me: https.    po
-000015f0: 7274 3a20 3434 330a 2020 2020 7072 6f74  rt: 443.    prot
-00001600: 6f63 6f6c 3a20 5443 500a 2020 2020 7461  ocol: TCP.    ta
-00001610: 7267 6574 506f 7274 3a20 3434 330a 2020  rgetPort: 443.  
-00001620: 6163 7469 6f6e 3a20 6164 640a 2d20 6e61  action: add.- na
-00001630: 6d65 3a20 7265 6e61 6d65 5f68 7474 705f  me: rename_http_
-00001640: 706f 7274 0a20 2070 6174 683a 202f 7370  port.  path: /sp
-00001650: 6563 2f70 6f72 7473 2f68 7474 702f 6e61  ec/ports/http/na
-00001660: 6d65 0a20 2061 6374 696f 6e3a 2072 6570  me.  action: rep
-00001670: 6c61 6365 0a20 2076 616c 7565 3a20 6e65  lace.  value: ne
-00001680: 775f 6e61 6d65 0a60 6060 0a0a 5468 656e  w_name.```..Then
-00001690: 2061 6c6c 2079 6f75 206e 6565 6420 746f   all you need to
-000016a0: 2064 6f2c 2069 7320 7275 6e3a 0a0a 6060   do, is run:..``
-000016b0: 6073 6865 6c6c 0a6b 7375 7820 2d62 203c  `shell.ksux -b <
-000016c0: 7061 7468 5f74 6f5f 6261 7365 5f64 6972  path_to_base_dir
-000016d0: 3e20 2d70 203c 7061 7468 5f74 6f5f 7061  > -p <path_to_pa
-000016e0: 7463 6865 735f 6469 723e 202d 6f20 3c6f  tches_dir> -o <o
-000016f0: 7574 7075 745f 6469 723e 0a60 6060 0a0a  utput_dir>.```..
-00001700: 5468 6973 2077 696c 6c20 7361 7665 2061  This will save a
-00001710: 6c6c 2070 6174 6368 6564 206d 616e 6966  ll patched manif
-00001720: 6573 7473 2074 6f20 7468 6520 6f75 7470  ests to the outp
-00001730: 7574 2064 6972 2e20 596f 7520 6361 6e20  ut dir. You can 
-00001740: 7573 6520 7468 6520 602d 2d64 7279 2d72  use the `--dry-r
-00001750: 756e 6020 666c 6167 2074 6f20 7072 696e  un` flag to prin
-00001760: 7420 7468 6520 7061 7463 6865 640a 6d61  t the patched.ma
-00001770: 6e69 6665 7374 7320 746f 2073 7464 6f75  nifests to stdou
-00001780: 743a 0a0a 6060 6073 6865 6c6c 0a6b 7375  t:..```shell.ksu
-00001790: 7820 2d62 203c 7061 7468 5f74 6f5f 6261  x -b <path_to_ba
-000017a0: 7365 5f64 6972 3e20 2d70 203c 7061 7468  se_dir> -p <path
-000017b0: 5f74 6f5f 7061 7463 6865 735f 6469 723e  _to_patches_dir>
-000017c0: 202d 2d64 7279 2d72 756e 0a60 6060 0a0a   --dry-run.```..
-000017d0: 466f 7220 6c69 7374 206f 6620 616c 6c20  For list of all 
-000017e0: 6f70 7469 6f6e 7320 7365 653a 0a0a 6060  options see:..``
-000017f0: 6073 6865 6c6c 0a6b 7375 7820 2d2d 6865  `shell.ksux --he
-00001800: 6c70 0a60 6060 0a0a 2323 2320 7468 6520  lp.```..### the 
-00001810: 606f 702e 7061 7468 600a 0a54 6869 7320  `op.path`..This 
-00001820: 6973 2061 2070 7265 7474 7920 636f 6f6c  is a pretty cool
-00001830: 2074 6869 6e67 2e20 5369 6d69 6c61 7220   thing. Similar 
-00001840: 746f 206b 7573 746f 6d69 7a65 2070 6174  to kustomize pat
-00001850: 682c 2068 6f77 6576 6572 2079 6f75 2063  h, however you c
-00001860: 616e 2074 6172 6765 7420 6c69 7374 2069  an target list i
-00001870: 7465 6d20 6279 206e 616d 6573 206f 6620  tem by names of 
-00001880: 6368 696c 6420 6f62 6a65 6374 732e 0a45  child objects..E
-00001890: 2e67 2e20 7361 7920 796f 7520 6861 7665  .g. say you have
-000018a0: 2061 206c 6973 7420 6f66 2070 6f72 7473   a list of ports
-000018b0: 2069 6e20 6120 7365 7276 6963 653a 0a0a   in a service:..
-000018c0: 6060 6079 616d 6c0a 6170 6956 6572 7369  ```yaml.apiVersi
-000018d0: 6f6e 3a20 7631 0a6b 696e 643a 2053 6572  on: v1.kind: Ser
-000018e0: 7669 6365 0a6d 6574 6164 6174 613a 0a20  vice.metadata:. 
-000018f0: 206c 6162 656c 733a 0a20 2020 2061 7070   labels:.    app
-00001900: 3a20 6e67 696e 782d 7365 7276 6963 650a  : nginx-service.
-00001910: 2020 6e61 6d65 3a20 6e67 696e 782d 7365    name: nginx-se
-00001920: 7276 6963 650a 7370 6563 3a0a 2020 706f  rvice.spec:.  po
-00001930: 7274 733a 0a20 2020 202d 206e 616d 653a  rts:.    - name:
-00001940: 206e 6577 5f6e 616d 650a 2020 2020 2020   new_name.      
-00001950: 706f 7274 3a20 3830 0a20 2020 2020 2070  port: 80.      p
-00001960: 726f 746f 636f 6c3a 2054 4350 0a20 2020  rotocol: TCP.   
-00001970: 2020 2074 6172 6765 7450 6f72 743a 2038     targetPort: 8
-00001980: 300a 2020 2020 2d20 6e61 6d65 3a20 6874  0.    - name: ht
-00001990: 7470 730a 2020 2020 2020 706f 7274 3a20  tps.      port: 
-000019a0: 3434 330a 2020 2020 2020 7072 6f74 6f63  443.      protoc
-000019b0: 6f6c 3a20 5443 500a 2020 2020 2020 7461  ol: TCP.      ta
-000019c0: 7267 6574 506f 7274 3a20 3434 330a 2020  rgetPort: 443.  
-000019d0: 7365 6c65 6374 6f72 3a0a 2020 2020 6170  selector:.    ap
-000019e0: 703a 2077 6562 0a20 2074 7970 653a 2043  p: web.  type: C
-000019f0: 6c75 7374 6572 4950 0a60 6060 0a0a 546f  lusterIP.```..To
-00001a00: 2074 6172 6765 7420 7468 6520 6068 7474   target the `htt
-00001a10: 7073 6020 7365 7276 6963 6520 616e 6420  ps` service and 
-00001a20: 6368 616e 6765 2069 7473 206e 616d 652c  change its name,
-00001a30: 2079 6f75 2063 616e 2073 7065 6369 6679   you can specify
-00001a40: 2074 6865 2070 6174 683a 2060 2f73 7065   the path: `/spe
-00001a50: 632f 706f 7274 732f 6874 7470 732f 6e61  c/ports/https/na
-00001a60: 6d65 6020 616e 6420 7468 656e 0a73 6574  me` and then.set
-00001a70: 2074 6865 2076 616c 7565 2074 6f20 7468   the value to th
-00001a80: 6520 6e65 7720 6e61 6d65 20f0 9f92 aa2e  e new name .....
-00001a90: 0a0a 2323 2045 7861 6d70 6c65 0a0a 496e  ..## Example..In
-00001aa0: 2074 6865 2060 2e2f 6578 616d 706c 6573   the `./examples
-00001ab0: 6020 666f 6c64 6572 2074 6865 7265 2061  ` folder there a
-00001ac0: 7265 2033 2073 7562 2d66 6f6c 6465 7273  re 3 sub-folders
-00001ad0: 3a0a 2020 2020 2d20 602f 6578 616d 706c  :.    - `/exampl
-00001ae0: 6573 2f62 6173 6560 2077 6974 6820 6465  es/base` with de
-00001af0: 706c 6f79 6d65 6e74 2c20 7365 7276 6963  ployment, servic
-00001b00: 6520 616e 6420 6120 636f 6e66 6967 6d61  e and a configma
-00001b10: 7020 6d61 6e69 6665 7374 732e 2054 6865  p manifests. The
-00001b20: 7365 2061 7265 2074 6865 2062 6173 6520  se are the base 
-00001b30: 6d61 6e69 6665 7374 7320 7768 6963 6820  manifests which 
-00001b40: 7765 2077 6973 680a 2020 2020 746f 2070  we wish.    to p
-00001b50: 6174 6368 0a20 2020 202d 2060 2f65 7861  atch.    - `/exa
-00001b60: 6d70 6c65 732f 7061 7463 6865 7360 2063  mples/patches` c
-00001b70: 6f6e 7461 696e 2074 6865 2070 6174 6368  ontain the patch
-00001b80: 6573 2028 6e6f 7469 6365 2074 6861 7420  es (notice that 
-00001b90: 626f 7468 2062 6173 6520 6b75 6265 726e  both base kubern
-00001ba0: 6574 6573 206d 616e 6966 6573 7473 2061  etes manifests a
-00001bb0: 6e64 2070 6174 6368 6573 2063 616e 2062  nd patches can b
-00001bc0: 6520 6569 7468 6572 2069 6e0a 2020 2020  e either in.    
-00001bd0: 606a 736f 6e60 206f 7220 6079 6d6c 602f  `json` or `yml`/
-00001be0: 6079 616d 6c60 2066 6f72 6d61 7429 0a20  `yaml` format). 
-00001bf0: 2020 202d 2060 2f65 7861 6d70 6c65 732f     - `/examples/
-00001c00: 6f75 7460 2069 7320 7468 6520 6f75 7470  out` is the outp
-00001c10: 7574 2064 6972 6563 746f 7279 2077 6865  ut directory whe
-00001c20: 7265 2074 6865 2070 6174 6368 6564 2072  re the patched r
-00001c30: 6573 6f75 7263 6573 2077 696c 6c20 6265  esources will be
-00001c40: 206f 7574 7075 740a 0a46 6972 7374 2c20   output..First, 
-00001c50: 7765 2077 696c 6c20 6064 7279 2d72 756e  we will `dry-run
-00001c60: 6020 7468 6520 7061 7463 6869 6e67 3a0a  ` the patching:.
-00001c70: 0a60 6060 7368 656c 6c0a 6b73 7578 202d  .```shell.ksux -
-00001c80: 6220 6578 616d 706c 6573 2f62 6173 6520  b examples/base 
-00001c90: 2d70 2065 7861 6d70 6c65 732f 7061 7463  -p examples/patc
-00001ca0: 6865 7320 2d2d 6472 792d 7275 6e0a 6060  hes --dry-run.``
-00001cb0: 600a 0a59 6f75 2073 686f 756c 6420 7365  `..You should se
-00001cc0: 6520 7468 6520 7061 7463 6865 6420 6d61  e the patched ma
-00001cd0: 6e69 6665 7374 7320 7072 696e 7465 6420  nifests printed 
-00001ce0: 6f75 7420 746f 2074 6865 2063 6f6e 736f  out to the conso
-00001cf0: 6c65 2e20 4e6f 7720 7765 2063 616e 2072  le. Now we can r
-00001d00: 756e 2069 7420 616e 6420 7361 7665 2074  un it and save t
-00001d10: 6865 2070 6174 6368 6564 206d 616e 6966  he patched manif
-00001d20: 6573 7473 0a74 6f20 7468 6520 606f 7574  ests.to the `out
-00001d30: 7075 7460 2066 6f6c 6465 723a 0a0a 6060  put` folder:..``
-00001d40: 6073 6865 6c6c 0a6b 7375 7820 2d62 2065  `shell.ksux -b e
-00001d50: 7861 6d70 6c65 732f 6261 7365 202d 7020  xamples/base -p 
-00001d60: 6578 616d 706c 6573 2f70 6174 6368 6573  examples/patches
-00001d70: 202d 6f20 6578 616d 706c 6573 2f6f 7574   -o examples/out
-00001d80: 0a60 6060 0a0a 4279 2064 6566 6175 6c74  .```..By default
-00001d90: 2c20 7468 6520 6d61 6e69 6665 7374 7320  , the manifests 
-00001da0: 7769 6c6c 2062 6520 7361 7665 6420 696e  will be saved in
-00001db0: 2060 7961 6d6c 6020 666f 726d 6174 2077   `yaml` format w
-00001dc0: 6974 6820 602e 7961 6d6c 6020 6578 7465  ith `.yaml` exte
-00001dd0: 6e73 696f 6e2e 2049 6620 796f 7520 7769  nsion. If you wi
-00001de0: 7368 2074 6f20 7573 6520 7468 6520 602e  sh to use the `.
-00001df0: 796d 6c60 2065 7874 656e 7369 6f6e 0a6f  yml` extension.o
-00001e00: 7220 7361 7665 2074 6865 206d 616e 6966  r save the manif
-00001e10: 6573 7473 2069 6e20 606a 736f 6e60 2066  ests in `json` f
-00001e20: 6f72 6d61 742c 2073 696d 706c 7920 7072  ormat, simply pr
-00001e30: 6f76 6964 6520 7468 6520 602d 6560 2066  ovide the `-e` f
-00001e40: 6c61 6720 7769 7468 2063 6f72 7265 7370  lag with corresp
-00001e50: 6f6e 6469 6e67 2065 7874 656e 7369 6f6e  onding extension
-00001e60: 2e20 452e 672e 3a0a 0a60 6060 7368 656c  . E.g.:..```shel
-00001e70: 6c0a 6b73 7578 202d 6220 6578 616d 706c  l.ksux -b exampl
-00001e80: 6573 2f62 6173 6520 2d70 2065 7861 6d70  es/base -p examp
-00001e90: 6c65 732f 7061 7463 6865 7320 2d6f 2065  les/patches -o e
-00001ea0: 7861 6d70 6c65 732f 6f75 7420 2d65 206a  xamples/out -e j
-00001eb0: 736f 6e0a 6060 600a                      son.```.
+00000640: 696c 653a 204c 4943 454e 5345 0a0a 3c70  ile: LICENSE..<p
+00000650: 2061 6c69 676e 3d22 6365 6e74 6572 223e   align="center">
+00000660: 0a20 203c 696d 6720 7372 633d 226d 6973  .  <img src="mis
+00000670: 632f 6c6f 676f 2e73 7667 2220 7769 6474  c/logo.svg" widt
+00000680: 683d 2237 3525 223e 0a3c 2f70 3e0a 0a3c  h="75%">.</p>..<
+00000690: 7020 616c 6967 6e3d 6365 6e74 6572 3e0a  p align=center>.
+000006a0: 2020 203c 656d 3e41 2073 696d 706c 6520     <em>A simple 
+000006b0: 7761 7920 666f 7220 7465 6d70 6c61 7469  way for templati
+000006c0: 6e67 206b 7562 6572 6e65 7465 7320 6d61  ng kubernetes ma
+000006d0: 6e69 6665 7374 732e 3c2f 656d 3e0a 3c2f  nifests.</em>.</
+000006e0: 703e 0a0a 3c70 2061 6c69 676e 3d63 656e  p>..<p align=cen
+000006f0: 7465 723e 0a20 2020 3c69 6d67 2073 7263  ter>.   <img src
+00000700: 3d27 6874 7470 733a 2f2f 696d 672e 7368  ='https://img.sh
+00000710: 6965 6c64 732e 696f 2f67 6974 6875 622f  ields.io/github/
+00000720: 6163 7469 6f6e 732f 776f 726b 666c 6f77  actions/workflow
+00000730: 2f73 7461 7475 732f 7473 6c61 6465 6365  /status/tsladece
+00000740: 6b2f 6b73 7578 2f74 6573 742e 796d 6c3f  k/ksux/test.yml?
+00000750: 6272 616e 6368 3d6d 6169 6e26 6c61 6265  branch=main&labe
+00000760: 6c3d 7465 7374 7326 6c6f 676f 3d47 6974  l=tests&logo=Git
+00000770: 4875 6227 2061 6c74 3d27 272f 3e0a 2020  Hub' alt=''/>.  
+00000780: 203c 696d 6720 7372 633d 2768 7474 7073   <img src='https
+00000790: 3a2f 2f69 6d67 2e73 6869 656c 6473 2e69  ://img.shields.i
+000007a0: 6f2f 6769 7468 7562 2f72 6570 6f2d 7369  o/github/repo-si
+000007b0: 7a65 2f74 736c 6164 6563 656b 2f6b 7375  ze/tsladecek/ksu
+000007c0: 7827 2061 6c74 3d27 272f 3e0a 2020 203c  x' alt=''/>.   <
+000007d0: 696d 6720 7372 633d 2768 7474 7073 3a2f  img src='https:/
+000007e0: 2f69 6d67 2e73 6869 656c 6473 2e69 6f2f  /img.shields.io/
+000007f0: 6769 7468 7562 2f6c 6963 656e 7365 2f74  github/license/t
+00000800: 736c 6164 6563 656b 2f6b 7375 7827 2061  sladecek/ksux' a
+00000810: 6c74 3d27 4c69 6365 6e73 653a 204d 4954  lt='License: MIT
+00000820: 272f 3e0a 2020 203c 696d 6720 7372 633d  '/>.   <img src=
+00000830: 2768 7474 7073 3a2f 2f69 6d67 2e73 6869  'https://img.shi
+00000840: 656c 6473 2e69 6f2f 6769 7468 7562 2f76  elds.io/github/v
+00000850: 2f74 6167 2f74 736c 6164 6563 656b 2f6b  /tag/tsladecek/k
+00000860: 7375 783f 636f 6c6f 723d 7965 6c6c 6f77  sux?color=yellow
+00000870: 266c 6162 656c 3d76 6572 7369 6f6e 266c  &label=version&l
+00000880: 6f67 6f3d 4769 7448 7562 272f 3e0a 2020  ogo=GitHub'/>.  
+00000890: 203c 6120 6872 6566 3d27 6874 7470 733a   <a href='https:
+000008a0: 2f2f 7079 7069 2e6f 7267 2f70 726f 6a65  //pypi.org/proje
+000008b0: 6374 2f6b 7375 782f 273e 3c69 6d67 2073  ct/ksux/'><img s
+000008c0: 7263 3d27 6874 7470 733a 2f2f 696d 672e  rc='https://img.
+000008d0: 7368 6965 6c64 732e 696f 2f70 7970 692f  shields.io/pypi/
+000008e0: 762f 6b73 7578 3f6c 6f67 6f3d 5079 7069  v/ksux?logo=Pypi
+000008f0: 272f 3e3c 2f61 3e0a 2020 203c 6120 6872  '/></a>.   <a hr
+00000900: 6566 3d27 6874 7470 733a 2f2f 6875 622e  ef='https://hub.
+00000910: 646f 636b 6572 2e63 6f6d 2f72 2f74 736c  docker.com/r/tsl
+00000920: 6164 6563 656b 2f6b 7375 7827 3e3c 696d  adecek/ksux'><im
+00000930: 6720 7372 633d 2768 7474 7073 3a2f 2f69  g src='https://i
+00000940: 6d67 2e73 6869 656c 6473 2e69 6f2f 646f  mg.shields.io/do
+00000950: 636b 6572 2f69 6d61 6765 2d73 697a 652f  cker/image-size/
+00000960: 7473 6c61 6465 6365 6b2f 6b73 7578 3f6c  tsladecek/ksux?l
+00000970: 6f67 6f3d 446f 636b 6572 2673 6f72 743d  ogo=Docker&sort=
+00000980: 6461 7465 2720 2f3e 3c2f 613e 0a3c 2f70  date' /></a>.</p
+00000990: 3e0a 0a2d 2d2d 0a0a 312e 205b 5265 7175  >..---..1. [Requ
+000009a0: 6972 656d 656e 7473 5d28 2372 6571 7569  irements](#requi
+000009b0: 7265 6d65 6e74 7329 0a32 2e20 5b49 6e73  rements).2. [Ins
+000009c0: 7461 6c6c 6174 696f 6e5d 2823 696e 7374  tallation](#inst
+000009d0: 616c 6c61 7469 6f6e 290a 2020 2031 2e20  allation).   1. 
+000009e0: 5b4c 6f63 616c 5d28 236c 6f63 616c 290a  [Local](#local).
+000009f0: 2020 2032 2e20 5b44 6f63 6b65 725d 2823     2. [Docker](#
+00000a00: 646f 636b 6572 290a 332e 205b 486f 7720  docker).3. [How 
+00000a10: 646f 6573 2069 7420 776f 726b 3f5d 2823  does it work?](#
+00000a20: 686f 772d 646f 6573 2d69 742d 776f 726b  how-does-it-work
+00000a30: 290a 2020 2031 2e20 5b54 6865 2060 6f70  ).   1. [The `op
+00000a40: 2e70 6174 6860 5d28 2374 6865 2d6f 7070  .path`](#the-opp
+00000a50: 6174 6829 0a34 2e20 5b45 7861 6d70 6c65  ath).4. [Example
+00000a60: 5d28 2365 7861 6d70 6c65 290a 0a2a 2a74  ](#example)..**t
+00000a70: 6c64 722e 2a2a 0a0a 6060 6073 6865 6c6c  ldr.**..```shell
+00000a80: 0a6b 7375 7820 2d62 203c 7061 7468 5f74  .ksux -b <path_t
+00000a90: 6f5f 6261 7365 5f64 6972 3e20 2d70 203c  o_base_dir> -p <
+00000aa0: 7061 7468 5f74 6f5f 7061 7463 6865 735f  path_to_patches_
+00000ab0: 6469 723e 202d 6f20 3c6f 7574 7075 745f  dir> -o <output_
+00000ac0: 6469 723e 0a60 6060 0a0a 6f72 2075 7369  dir>.```..or usi
+00000ad0: 6e67 2064 6f63 6b65 723a 0a0a 6060 6073  ng docker:..```s
+00000ae0: 6865 6c6c 0a64 6f63 6b65 7220 7275 6e20  hell.docker run 
+00000af0: 2d2d 726d 202d 7620 2f70 6174 682f 746f  --rm -v /path/to
+00000b00: 2f79 6f75 722f 636f 6e66 6967 733a 2f63  /your/configs:/c
+00000b10: 6f6e 6669 6773 2074 736c 6164 6563 656b  onfigs tsladecek
+00000b20: 2f6b 7375 7820 6b73 7578 202d 6220 2f63  /ksux ksux -b /c
+00000b30: 6f6e 6669 6773 2f62 6173 6520 2d70 202f  onfigs/base -p /
+00000b40: 636f 6e66 6967 732f 7061 7463 6865 7320  configs/patches 
+00000b50: 2d6f 202f 636f 6e66 6967 732f 6f75 740a  -o /configs/out.
+00000b60: 6060 600a 0a2d 2d2d 0a0a 2323 2052 6571  ```..---..## Req
+00000b70: 7569 7265 6d65 6e74 730a 0a54 6869 7320  uirements..This 
+00000b80: 6973 2061 2070 7974 686f 6e20 7061 636b  is a python pack
+00000b90: 6167 652e 2053 6f20 7468 6520 6f6e 6c79  age. So the only
+00000ba0: 2072 6571 7569 7265 6d65 6e74 7320 6172   requirements ar
+00000bb0: 6520 6070 7974 686f 6e33 6020 616e 6420  e `python3` and 
+00000bc0: 6070 6970 600a 0a23 2320 496e 7374 616c  `pip`..## Instal
+00000bd0: 6c61 7469 6f6e 0a0a 2323 2320 4c6f 6361  lation..### Loca
+00000be0: 6c0a 0a2d 204f 7074 696f 6e61 6c3a 2043  l..- Optional: C
+00000bf0: 7265 6174 6520 616e 6420 6163 7469 7661  reate and activa
+00000c00: 7465 2061 2076 6972 7475 616c 2065 6e76  te a virtual env
+00000c10: 2e0a 0a60 6060 7368 656c 6c0a 2320 6f70  ...```shell.# op
+00000c20: 7469 6f6e 2031 3a20 7669 7275 616c 7665  tion 1: virualve
+00000c30: 6e76 0a76 6972 7475 616c 7665 6e76 206b  nv.virtualvenv k
+00000c40: 7375 780a 736f 7572 6365 206b 7375 782f  sux.source ksux/
+00000c50: 6269 6e2f 6163 7469 7661 7465 0a0a 2320  bin/activate..# 
+00000c60: 6f70 7469 6f6e 2032 3a20 7665 6e76 0a70  option 2: venv.p
+00000c70: 7974 686f 6e20 2d6d 2076 656e 7620 6b73  ython -m venv ks
+00000c80: 7578 0a73 6f75 7263 6520 6b73 7578 2f62  ux.source ksux/b
+00000c90: 696e 2f61 6374 6976 6174 650a 0a23 206f  in/activate..# o
+00000ca0: 7074 696f 6e20 333a 2063 6f6e 6461 0a63  ption 3: conda.c
+00000cb0: 6f6e 6461 2063 7265 6174 6520 2d6e 206b  onda create -n k
+00000cc0: 7375 7820 7079 7468 6f6e 0a63 6f6e 6461  sux python.conda
+00000cd0: 2061 6374 6976 6174 6520 6b73 7578 0a60   activate ksux.`
+00000ce0: 6060 0a0a 2d20 496e 7374 616c 6c0a 0a60  ``..- Install..`
+00000cf0: 6060 7368 656c 6c0a 7069 7020 696e 7374  ``shell.pip inst
+00000d00: 616c 6c20 6b73 7578 0a60 6060 0a0a 2323  all ksux.```..##
+00000d10: 2320 446f 636b 6572 0a0a 7573 6520 7468  # Docker..use th
+00000d20: 6520 5b64 6f63 6b65 7220 696d 6167 655d  e [docker image]
+00000d30: 2868 7474 7073 3a2f 2f68 7562 2e64 6f63  (https://hub.doc
+00000d40: 6b65 722e 636f 6d2f 722f 7473 6c61 6465  ker.com/r/tslade
+00000d50: 6365 6b2f 6b73 7578 290a 0a54 6f20 7275  cek/ksux)..To ru
+00000d60: 6e20 7468 6520 636f 6d6d 616e 6420 696e  n the command in
+00000d70: 7369 6465 2061 2064 6f63 6b65 7220 636f  side a docker co
+00000d80: 6e74 6169 6e65 722c 2079 6f75 206e 6565  ntainer, you nee
+00000d90: 6420 746f 206d 616b 6520 7375 7265 2074  d to make sure t
+00000da0: 6861 7420 616c 6c20 766f 6c75 6d65 7320  hat all volumes 
+00000db0: 6172 6520 6d61 7070 6564 2074 6f20 7468  are mapped to th
+00000dc0: 6520 636f 6e74 6169 6e65 722e 204c 6574  e container. Let
+00000dd0: 2773 0a73 6179 2074 6861 7420 796f 7520  's.say that you 
+00000de0: 6861 7665 2061 2066 6f6c 6c6f 7769 6e67  have a following
+00000df0: 2066 696c 6520 7374 7275 6374 7572 653a   file structure:
+00000e00: 0a0a 6060 6073 6865 6c6c 0a7c 2d20 2f68  ..```shell.|- /h
+00000e10: 6f6d 652f 7072 6f6a 6563 740a 7c20 207c  ome/project.|  |
+00000e20: 2d20 6261 7365 0a7c 2020 7c2d 2070 6174  - base.|  |- pat
+00000e30: 6368 6573 0a7c 2020 7c2d 206f 7574 0a60  ches.|  |- out.`
+00000e40: 6060 0a0a 546f 2067 656e 6572 6174 6520  ``..To generate 
+00000e50: 7061 7463 6865 6420 6d61 6e69 6665 7374  patched manifest
+00000e60: 7320 696e 2074 6865 2060 2f68 6f6d 652f  s in the `/home/
+00000e70: 7072 6f6a 6563 742f 6f75 7460 2066 6f6c  project/out` fol
+00000e80: 6465 722c 2072 756e 2066 6f6c 6c6f 7769  der, run followi
+00000e90: 6e67 2063 6f6d 6d61 6e64 3a0a 0a60 6060  ng command:..```
+00000ea0: 7368 656c 6c0a 646f 636b 6572 2072 756e  shell.docker run
+00000eb0: 202d 2d72 6d20 2d76 202f 686f 6d65 2f70   --rm -v /home/p
+00000ec0: 726f 6a65 6374 3a2f 636f 6e66 6967 7320  roject:/configs 
+00000ed0: 7473 6c61 6465 6365 6b2f 6b73 7578 206b  tsladecek/ksux k
+00000ee0: 7375 7820 2d62 202f 636f 6e66 6967 732f  sux -b /configs/
+00000ef0: 6261 7365 202d 7020 2f63 6f6e 6669 6773  base -p /configs
+00000f00: 2f70 6174 6368 6573 202d 6f20 2f63 6f6e  /patches -o /con
+00000f10: 6669 6773 2f6f 7574 0a60 6060 0a0a 7468  figs/out.```..th
+00000f20: 6520 696d 706f 7274 616e 7420 7061 7274  e important part
+00000f30: 2069 7320 7468 6520 602d 7660 2066 6c61   is the `-v` fla
+00000f40: 672c 2077 6869 6368 2077 696c 6c20 6d6f  g, which will mo
+00000f50: 756e 7420 796f 7572 206c 6f63 616c 2066  unt your local f
+00000f60: 6f6c 6465 7220 6173 2076 6f6c 756d 6520  older as volume 
+00000f70: 746f 2074 6865 2063 6f6e 7461 696e 6572  to the container
+00000f80: 2e0a 0a23 2320 486f 7720 646f 6573 2069  ...## How does i
+00000f90: 7420 776f 726b 3f0a 0a4c 6574 2773 2073  t work?..Let's s
+00000fa0: 6179 2074 6861 7420 796f 7520 6861 7665  ay that you have
+00000fb0: 206d 616e 7920 6d61 6e69 6665 7374 7320   many manifests 
+00000fc0: 696e 2073 6f6d 6520 6469 7265 6374 6f72  in some director
+00000fd0: 7920 2860 6261 7365 6020 6469 7265 6374  y (`base` direct
+00000fe0: 6f72 7929 2074 6861 7420 796f 7520 7769  ory) that you wi
+00000ff0: 7368 2074 6f20 7061 7463 6820 7769 7468  sh to patch with
+00001000: 2070 6174 6368 6573 2028 696e 2074 6865   patches (in the
+00001010: 0a60 7061 7463 6865 7360 2920 6469 7265  .`patches`) dire
+00001020: 6374 6f72 792e 0a0a 5061 7463 6865 7320  ctory...Patches 
+00001030: 636f 756c 6420 6265 2069 6e20 6079 616d  could be in `yam
+00001040: 6c60 206f 7220 606a 736f 6e60 2066 6f72  l` or `json` for
+00001050: 6d61 7420 2861 7320 7765 6c6c 2061 7320  mat (as well as 
+00001060: 796f 7572 206d 616e 6966 6573 7473 292e  your manifests).
+00001070: 2048 6f77 6576 6572 2c20 7468 6579 206d   However, they m
+00001080: 7573 7420 6164 6865 7265 2074 6f20 666f  ust adhere to fo
+00001090: 6c6c 6f77 696e 6720 7363 6865 6d61 3a0a  llowing schema:.
+000010a0: 0a60 6060 7961 6d6c 0a6e 616d 653a 203c  .```yaml.name: <
+000010b0: 7061 7463 685f 6465 7363 7269 7074 696f  patch_descriptio
+000010c0: 6e3e 0a74 6172 6765 743a 0a20 2061 7069  n>.target:.  api
+000010d0: 5665 7273 696f 6e3a 203c 6170 6956 6572  Version: <apiVer
+000010e0: 7369 6f6e 206f 6620 7461 7267 6574 6564  sion of targeted
+000010f0: 2072 6573 6f75 7263 653e 0a20 206b 696e   resource>.  kin
+00001100: 643a 203c 4465 706c 6f79 6d65 6e74 2074  d: <Deployment t
+00001110: 7970 6520 6f66 2074 6172 6765 7465 6420  ype of targeted 
+00001120: 7265 736f 7572 6365 3e0a 2020 6e61 6d65  resource>.  name
+00001130: 3a20 3c6e 616d 6520 6f66 2074 6172 6765  : <name of targe
+00001140: 7465 6420 7265 736f 7572 6365 3e0a 6f70  ted resource>.op
+00001150: 733a 0a20 202d 206e 616d 653a 203c 6f70  s:.  - name: <op
+00001160: 6572 6174 696f 6e20 6465 7363 7269 7074  eration descript
+00001170: 696f 6e3e 0a20 2020 2070 6174 683a 203c  ion>.    path: <
+00001180: 7061 7468 2074 6f20 7468 6520 7061 7274  path to the part
+00001190: 206f 6620 7468 6520 6d61 6e69 6665 7374   of the manifest
+000011a0: 2074 6f20 6265 2070 6174 6368 6564 3e0a   to be patched>.
+000011b0: 2020 2020 7661 6c75 653a 203c 7661 6c75      value: <valu
+000011c0: 6520 7768 6963 6820 7368 6f75 6c64 2062  e which should b
+000011d0: 6520 7265 706c 6163 6564 206f 7220 6164  e replaced or ad
+000011e0: 6465 643e 0a20 2020 2061 6374 696f 6e3a  ded>.    action:
+000011f0: 203c 6164 647c 7265 706c 6163 657c 7265   <add|replace|re
+00001200: 6d6f 7665 3e0a 6060 600a 0a65 6163 6820  move>.```..each 
+00001210: 7061 7463 6820 6669 6c65 2063 616e 2062  patch file can b
+00001220: 6520 6120 6c69 7374 206f 6620 7061 7463  e a list of patc
+00001230: 6865 732e 2059 6f75 2063 616e 2075 7365  hes. You can use
+00001240: 2074 6865 2063 6c61 7373 6963 2079 616d   the classic yam
+00001250: 6c20 666f 726d 6174 2c20 652e 672e 3a0a  l format, e.g.:.
+00001260: 0a60 6060 7961 6d6c 0a2d 206e 616d 653a  .```yaml.- name:
+00001270: 2064 6570 6c6f 796d 656e 745f 7061 7463   deployment_patc
+00001280: 6865 730a 2020 7461 7267 6574 3a0a 2020  hes.  target:.  
+00001290: 2020 6170 6956 6572 7369 6f6e 3a20 6170    apiVersion: ap
+000012a0: 7073 2f76 310a 2020 2020 6b69 6e64 3a20  ps/v1.    kind: 
+000012b0: 4465 706c 6f79 6d65 6e74 0a20 2020 206e  Deployment.    n
+000012c0: 616d 653a 2077 6562 0a20 206f 7073 3a0a  ame: web.  ops:.
+000012d0: 2020 2020 2d20 6e61 6d65 3a20 7265 706c      - name: repl
+000012e0: 6163 655f 696d 6167 650a 2020 2020 2020  ace_image.      
+000012f0: 7061 7468 3a20 2f73 7065 632f 7465 6d70  path: /spec/temp
+00001300: 6c61 7465 2f73 7065 632f 636f 6e74 6169  late/spec/contai
+00001310: 6e65 7273 2f6e 6769 6e78 2f69 6d61 6765  ners/nginx/image
+00001320: 0a20 2020 2020 2076 616c 7565 3a20 6e67  .      value: ng
+00001330: 696e 783a 312e 3233 0a20 2020 2020 2061  inx:1.23.      a
+00001340: 6374 696f 6e3a 2072 6570 6c61 6365 0a2d  ction: replace.-
+00001350: 206e 616d 653a 2073 6572 7669 6365 5f70   name: service_p
+00001360: 6174 6368 6573 0a20 2074 6172 6765 743a  atches.  target:
+00001370: 0a20 2020 2061 7069 5665 7273 696f 6e3a  .    apiVersion:
+00001380: 2076 310a 2020 2020 6b69 6e64 3a20 5365   v1.    kind: Se
+00001390: 7276 6963 650a 2020 2020 6e61 6d65 3a20  rvice.    name: 
+000013a0: 6e67 696e 782d 7365 7276 6963 650a 2020  nginx-service.  
+000013b0: 6f70 733a 0a20 2020 202d 206e 616d 653a  ops:.    - name:
+000013c0: 2061 6464 5f68 7474 7073 5f70 6f72 740a   add_https_port.
+000013d0: 2020 2020 2020 7061 7468 3a20 2f73 7065        path: /spe
+000013e0: 632f 706f 7274 730a 2020 2020 2020 7661  c/ports.      va
+000013f0: 6c75 653a 0a20 2020 2020 2020 206e 616d  lue:.        nam
+00001400: 653a 2068 7474 7073 0a20 2020 2020 2020  e: https.       
+00001410: 2070 6f72 743a 2034 3433 0a20 2020 2020   port: 443.     
+00001420: 2020 2070 726f 746f 636f 6c3a 2054 4350     protocol: TCP
+00001430: 0a20 2020 2020 2020 2074 6172 6765 7450  .        targetP
+00001440: 6f72 743a 2034 3433 0a20 2020 2020 2061  ort: 443.      a
+00001450: 6374 696f 6e3a 2061 6464 0a20 2020 202d  ction: add.    -
+00001460: 206e 616d 653a 2072 656e 616d 655f 6874   name: rename_ht
+00001470: 7470 5f70 6f72 740a 2020 2020 2020 7061  tp_port.      pa
+00001480: 7468 3a20 2f73 7065 632f 706f 7274 732f  th: /spec/ports/
+00001490: 6874 7470 2f6e 616d 650a 2020 2020 2020  http/name.      
+000014a0: 6163 7469 6f6e 3a20 7265 706c 6163 650a  action: replace.
+000014b0: 2020 2020 2020 7661 6c75 653a 206e 6577        value: new
+000014c0: 5f6e 616d 650a 6060 600a 0a6f 7220 7573  _name.```..or us
+000014d0: 6520 7468 6520 602d 2d2d 6020 7365 7061  e the `---` sepa
+000014e0: 7261 746f 723a 0a0a 6060 6079 616d 6c0a  rator:..```yaml.
+000014f0: 2d2d 2d0a 6e61 6d65 3a20 6465 706c 6f79  ---.name: deploy
+00001500: 6d65 6e74 5f70 6174 6368 6573 0a74 6172  ment_patches.tar
+00001510: 6765 743a 0a20 2061 7069 5665 7273 696f  get:.  apiVersio
+00001520: 6e3a 2061 7070 732f 7631 0a20 206b 696e  n: apps/v1.  kin
+00001530: 643a 2044 6570 6c6f 796d 656e 740a 2020  d: Deployment.  
+00001540: 6e61 6d65 3a20 7765 620a 6f70 733a 0a2d  name: web.ops:.-
+00001550: 206e 616d 653a 2072 6570 6c61 6365 5f69   name: replace_i
+00001560: 6d61 6765 0a20 2070 6174 683a 202f 7370  mage.  path: /sp
+00001570: 6563 2f74 656d 706c 6174 652f 7370 6563  ec/template/spec
+00001580: 2f63 6f6e 7461 696e 6572 732f 6e67 696e  /containers/ngin
+00001590: 782f 696d 6167 650a 2020 7661 6c75 653a  x/image.  value:
+000015a0: 206e 6769 6e78 3a31 2e32 330a 2020 6163   nginx:1.23.  ac
+000015b0: 7469 6f6e 3a20 7265 706c 6163 650a 2d2d  tion: replace.--
+000015c0: 2d0a 6e61 6d65 3a20 7365 7276 6963 655f  -.name: service_
+000015d0: 7061 7463 6865 730a 7461 7267 6574 3a0a  patches.target:.
+000015e0: 2020 6170 6956 6572 7369 6f6e 3a20 7631    apiVersion: v1
+000015f0: 0a20 206b 696e 643a 2053 6572 7669 6365  .  kind: Service
+00001600: 0a20 206e 616d 653a 206e 6769 6e78 2d73  .  name: nginx-s
+00001610: 6572 7669 6365 0a6f 7073 3a0a 2d20 6e61  ervice.ops:.- na
+00001620: 6d65 3a20 6164 645f 6874 7470 735f 706f  me: add_https_po
+00001630: 7274 0a20 2070 6174 683a 202f 7370 6563  rt.  path: /spec
+00001640: 2f70 6f72 7473 0a20 2076 616c 7565 3a0a  /ports.  value:.
+00001650: 2020 2020 6e61 6d65 3a20 6874 7470 730a      name: https.
+00001660: 2020 2020 706f 7274 3a20 3434 330a 2020      port: 443.  
+00001670: 2020 7072 6f74 6f63 6f6c 3a20 5443 500a    protocol: TCP.
+00001680: 2020 2020 7461 7267 6574 506f 7274 3a20      targetPort: 
+00001690: 3434 330a 2020 6163 7469 6f6e 3a20 6164  443.  action: ad
+000016a0: 640a 2d20 6e61 6d65 3a20 7265 6e61 6d65  d.- name: rename
+000016b0: 5f68 7474 705f 706f 7274 0a20 2070 6174  _http_port.  pat
+000016c0: 683a 202f 7370 6563 2f70 6f72 7473 2f68  h: /spec/ports/h
+000016d0: 7474 702f 6e61 6d65 0a20 2061 6374 696f  ttp/name.  actio
+000016e0: 6e3a 2072 6570 6c61 6365 0a20 2076 616c  n: replace.  val
+000016f0: 7565 3a20 6e65 775f 6e61 6d65 0a60 6060  ue: new_name.```
+00001700: 0a0a 5468 656e 2061 6c6c 2079 6f75 206e  ..Then all you n
+00001710: 6565 6420 746f 2064 6f2c 2069 7320 7275  eed to do, is ru
+00001720: 6e3a 0a0a 6060 6073 6865 6c6c 0a6b 7375  n:..```shell.ksu
+00001730: 7820 2d62 203c 7061 7468 5f74 6f5f 6261  x -b <path_to_ba
+00001740: 7365 5f64 6972 3e20 2d70 203c 7061 7468  se_dir> -p <path
+00001750: 5f74 6f5f 7061 7463 6865 735f 6469 723e  _to_patches_dir>
+00001760: 202d 6f20 3c6f 7574 7075 745f 6469 723e   -o <output_dir>
+00001770: 0a60 6060 0a0a 5468 6973 2077 696c 6c20  .```..This will 
+00001780: 7361 7665 2061 6c6c 2070 6174 6368 6564  save all patched
+00001790: 206d 616e 6966 6573 7473 2074 6f20 7468   manifests to th
+000017a0: 6520 6f75 7470 7574 2064 6972 2e20 596f  e output dir. Yo
+000017b0: 7520 6361 6e20 7573 6520 7468 6520 602d  u can use the `-
+000017c0: 2d64 7279 2d72 756e 6020 666c 6167 2074  -dry-run` flag t
+000017d0: 6f20 7072 696e 7420 7468 6520 7061 7463  o print the patc
+000017e0: 6865 640a 6d61 6e69 6665 7374 7320 746f  hed.manifests to
+000017f0: 2073 7464 6f75 743a 0a0a 6060 6073 6865   stdout:..```she
+00001800: 6c6c 0a6b 7375 7820 2d62 203c 7061 7468  ll.ksux -b <path
+00001810: 5f74 6f5f 6261 7365 5f64 6972 3e20 2d70  _to_base_dir> -p
+00001820: 203c 7061 7468 5f74 6f5f 7061 7463 6865   <path_to_patche
+00001830: 735f 6469 723e 202d 2d64 7279 2d72 756e  s_dir> --dry-run
+00001840: 0a60 6060 0a0a 466f 7220 6c69 7374 206f  .```..For list o
+00001850: 6620 616c 6c20 6f70 7469 6f6e 7320 7365  f all options se
+00001860: 653a 0a0a 6060 6073 6865 6c6c 0a6b 7375  e:..```shell.ksu
+00001870: 7820 2d2d 6865 6c70 0a60 6060 0a0a 2323  x --help.```..##
+00001880: 2320 7468 6520 606f 702e 7061 7468 600a  # the `op.path`.
+00001890: 0a54 6869 7320 6973 2061 2070 7265 7474  .This is a prett
+000018a0: 7920 636f 6f6c 2074 6869 6e67 2e20 5369  y cool thing. Si
+000018b0: 6d69 6c61 7220 746f 206b 7573 746f 6d69  milar to kustomi
+000018c0: 7a65 2070 6174 682c 2068 6f77 6576 6572  ze path, however
+000018d0: 2079 6f75 2063 616e 2074 6172 6765 7420   you can target 
+000018e0: 6c69 7374 2069 7465 6d20 6279 206e 616d  list item by nam
+000018f0: 6573 206f 6620 6368 696c 6420 6f62 6a65  es of child obje
+00001900: 6374 732e 0a45 2e67 2e20 7361 7920 796f  cts..E.g. say yo
+00001910: 7520 6861 7665 2061 206c 6973 7420 6f66  u have a list of
+00001920: 2070 6f72 7473 2069 6e20 6120 7365 7276   ports in a serv
+00001930: 6963 653a 0a0a 6060 6079 616d 6c0a 6170  ice:..```yaml.ap
+00001940: 6956 6572 7369 6f6e 3a20 7631 0a6b 696e  iVersion: v1.kin
+00001950: 643a 2053 6572 7669 6365 0a6d 6574 6164  d: Service.metad
+00001960: 6174 613a 0a20 206c 6162 656c 733a 0a20  ata:.  labels:. 
+00001970: 2020 2061 7070 3a20 6e67 696e 782d 7365     app: nginx-se
+00001980: 7276 6963 650a 2020 6e61 6d65 3a20 6e67  rvice.  name: ng
+00001990: 696e 782d 7365 7276 6963 650a 7370 6563  inx-service.spec
+000019a0: 3a0a 2020 706f 7274 733a 0a20 2020 202d  :.  ports:.    -
+000019b0: 206e 616d 653a 206e 6577 5f6e 616d 650a   name: new_name.
+000019c0: 2020 2020 2020 706f 7274 3a20 3830 0a20        port: 80. 
+000019d0: 2020 2020 2070 726f 746f 636f 6c3a 2054       protocol: T
+000019e0: 4350 0a20 2020 2020 2074 6172 6765 7450  CP.      targetP
+000019f0: 6f72 743a 2038 300a 2020 2020 2d20 6e61  ort: 80.    - na
+00001a00: 6d65 3a20 6874 7470 730a 2020 2020 2020  me: https.      
+00001a10: 706f 7274 3a20 3434 330a 2020 2020 2020  port: 443.      
+00001a20: 7072 6f74 6f63 6f6c 3a20 5443 500a 2020  protocol: TCP.  
+00001a30: 2020 2020 7461 7267 6574 506f 7274 3a20      targetPort: 
+00001a40: 3434 330a 2020 7365 6c65 6374 6f72 3a0a  443.  selector:.
+00001a50: 2020 2020 6170 703a 2077 6562 0a20 2074      app: web.  t
+00001a60: 7970 653a 2043 6c75 7374 6572 4950 0a60  ype: ClusterIP.`
+00001a70: 6060 0a0a 546f 2074 6172 6765 7420 7468  ``..To target th
+00001a80: 6520 6068 7474 7073 6020 7365 7276 6963  e `https` servic
+00001a90: 6520 616e 6420 6368 616e 6765 2069 7473  e and change its
+00001aa0: 206e 616d 652c 2079 6f75 2063 616e 2073   name, you can s
+00001ab0: 7065 6369 6679 2074 6865 2070 6174 683a  pecify the path:
+00001ac0: 2060 2f73 7065 632f 706f 7274 732f 6874   `/spec/ports/ht
+00001ad0: 7470 732f 6e61 6d65 6020 616e 6420 7468  tps/name` and th
+00001ae0: 656e 0a73 6574 2074 6865 2076 616c 7565  en.set the value
+00001af0: 2074 6f20 7468 6520 6e65 7720 6e61 6d65   to the new name
+00001b00: 20f0 9f92 aa2e 0a0a 2323 2045 7861 6d70   .......## Examp
+00001b10: 6c65 0a0a 496e 2074 6865 2060 2e2f 6578  le..In the `./ex
+00001b20: 616d 706c 6573 6020 666f 6c64 6572 2074  amples` folder t
+00001b30: 6865 7265 2061 7265 2033 2073 7562 2d66  here are 3 sub-f
+00001b40: 6f6c 6465 7273 3a0a 2020 2020 2d20 602f  olders:.    - `/
+00001b50: 6578 616d 706c 6573 2f62 6173 6560 2077  examples/base` w
+00001b60: 6974 6820 6465 706c 6f79 6d65 6e74 2c20  ith deployment, 
+00001b70: 7365 7276 6963 6520 616e 6420 6120 636f  service and a co
+00001b80: 6e66 6967 6d61 7020 6d61 6e69 6665 7374  nfigmap manifest
+00001b90: 732e 2054 6865 7365 2061 7265 2074 6865  s. These are the
+00001ba0: 2062 6173 6520 6d61 6e69 6665 7374 7320   base manifests 
+00001bb0: 7768 6963 6820 7765 2077 6973 680a 2020  which we wish.  
+00001bc0: 2020 746f 2070 6174 6368 0a20 2020 202d    to patch.    -
+00001bd0: 2060 2f65 7861 6d70 6c65 732f 7061 7463   `/examples/patc
+00001be0: 6865 7360 2063 6f6e 7461 696e 2074 6865  hes` contain the
+00001bf0: 2070 6174 6368 6573 2028 6e6f 7469 6365   patches (notice
+00001c00: 2074 6861 7420 626f 7468 2062 6173 6520   that both base 
+00001c10: 6b75 6265 726e 6574 6573 206d 616e 6966  kubernetes manif
+00001c20: 6573 7473 2061 6e64 2070 6174 6368 6573  ests and patches
+00001c30: 2063 616e 2062 6520 6569 7468 6572 2069   can be either i
+00001c40: 6e0a 2020 2020 606a 736f 6e60 206f 7220  n.    `json` or 
+00001c50: 6079 6d6c 602f 6079 616d 6c60 2066 6f72  `yml`/`yaml` for
+00001c60: 6d61 7429 0a20 2020 202d 2060 2f65 7861  mat).    - `/exa
+00001c70: 6d70 6c65 732f 6f75 7460 2069 7320 7468  mples/out` is th
+00001c80: 6520 6f75 7470 7574 2064 6972 6563 746f  e output directo
+00001c90: 7279 2077 6865 7265 2074 6865 2070 6174  ry where the pat
+00001ca0: 6368 6564 2072 6573 6f75 7263 6573 2077  ched resources w
+00001cb0: 696c 6c20 6265 206f 7574 7075 740a 0a46  ill be output..F
+00001cc0: 6972 7374 2c20 7765 2077 696c 6c20 6064  irst, we will `d
+00001cd0: 7279 2d72 756e 6020 7468 6520 7061 7463  ry-run` the patc
+00001ce0: 6869 6e67 3a0a 0a60 6060 7368 656c 6c0a  hing:..```shell.
+00001cf0: 6b73 7578 202d 6220 6578 616d 706c 6573  ksux -b examples
+00001d00: 2f62 6173 6520 2d70 2065 7861 6d70 6c65  /base -p example
+00001d10: 732f 7061 7463 6865 7320 2d2d 6472 792d  s/patches --dry-
+00001d20: 7275 6e0a 6060 600a 0a59 6f75 2073 686f  run.```..You sho
+00001d30: 756c 6420 7365 6520 7468 6520 7061 7463  uld see the patc
+00001d40: 6865 6420 6d61 6e69 6665 7374 7320 7072  hed manifests pr
+00001d50: 696e 7465 6420 6f75 7420 746f 2074 6865  inted out to the
+00001d60: 2063 6f6e 736f 6c65 2e20 4e6f 7720 7765   console. Now we
+00001d70: 2063 616e 2072 756e 2069 7420 616e 6420   can run it and 
+00001d80: 7361 7665 2074 6865 2070 6174 6368 6564  save the patched
+00001d90: 206d 616e 6966 6573 7473 0a74 6f20 7468   manifests.to th
+00001da0: 6520 606f 7574 7075 7460 2066 6f6c 6465  e `output` folde
+00001db0: 723a 0a0a 6060 6073 6865 6c6c 0a6b 7375  r:..```shell.ksu
+00001dc0: 7820 2d62 2065 7861 6d70 6c65 732f 6261  x -b examples/ba
+00001dd0: 7365 202d 7020 6578 616d 706c 6573 2f70  se -p examples/p
+00001de0: 6174 6368 6573 202d 6f20 6578 616d 706c  atches -o exampl
+00001df0: 6573 2f6f 7574 0a60 6060 0a0a 4279 2064  es/out.```..By d
+00001e00: 6566 6175 6c74 2c20 7468 6520 6d61 6e69  efault, the mani
+00001e10: 6665 7374 7320 7769 6c6c 2062 6520 7361  fests will be sa
+00001e20: 7665 6420 696e 2060 7961 6d6c 6020 666f  ved in `yaml` fo
+00001e30: 726d 6174 2077 6974 6820 602e 7961 6d6c  rmat with `.yaml
+00001e40: 6020 6578 7465 6e73 696f 6e2e 2049 6620  ` extension. If 
+00001e50: 796f 7520 7769 7368 2074 6f20 7573 6520  you wish to use 
+00001e60: 7468 6520 602e 796d 6c60 2065 7874 656e  the `.yml` exten
+00001e70: 7369 6f6e 0a6f 7220 7361 7665 2074 6865  sion.or save the
+00001e80: 206d 616e 6966 6573 7473 2069 6e20 606a   manifests in `j
+00001e90: 736f 6e60 2066 6f72 6d61 742c 2073 696d  son` format, sim
+00001ea0: 706c 7920 7072 6f76 6964 6520 7468 6520  ply provide the 
+00001eb0: 602d 6560 2066 6c61 6720 7769 7468 2063  `-e` flag with c
+00001ec0: 6f72 7265 7370 6f6e 6469 6e67 2065 7874  orresponding ext
+00001ed0: 656e 7369 6f6e 2e20 452e 672e 3a0a 0a60  ension. E.g.:..`
+00001ee0: 6060 7368 656c 6c0a 6b73 7578 202d 6220  ``shell.ksux -b 
+00001ef0: 6578 616d 706c 6573 2f62 6173 6520 2d70  examples/base -p
+00001f00: 2065 7861 6d70 6c65 732f 7061 7463 6865   examples/patche
+00001f10: 7320 2d6f 2065 7861 6d70 6c65 732f 6f75  s -o examples/ou
+00001f20: 7420 2d65 206a 736f 6e0a 6060 600a       t -e json.```.
```

### Comparing `ksux-0.5.3/src/ksux.egg-info/SOURCES.txt` & `ksux-0.5.4/src/ksux.egg-info/SOURCES.txt`

 * *Files identical despite different names*

