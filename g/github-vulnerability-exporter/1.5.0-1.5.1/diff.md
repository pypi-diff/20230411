# Comparing `tmp/github_vulnerability_exporter-1.5.0.tar.gz` & `tmp/github_vulnerability_exporter-1.5.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/github_vulnerability_exporter-1.5.0.tar", last modified: Fri Jun  7 17:56:34 2019, max compression
+gzip compressed data, was "github_vulnerability_exporter-1.5.1.tar", last modified: Tue Apr 11 15:58:35 2023, max compression
```

## Comparing `github_vulnerability_exporter-1.5.0.tar` & `github_vulnerability_exporter-1.5.1.tar`

### file list

```diff
@@ -1,24 +1,18 @@
-drwxr-xr-x   0 wosc      (1000) wosc      (1000)        0 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/
--rw-r--r--   0 wosc      (1000) wosc      (1000)       48 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/tox.ini
--rw-r--r--   0 wosc      (1000) wosc      (1000)      697 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/CHANGES.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)      140 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/requirements.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)       56 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/.dockerignore
-drwxr-xr-x   0 wosc      (1000) wosc      (1000)        0 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/src/
-drwxr-xr-x   0 wosc      (1000) wosc      (1000)        0 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter/
--rw-r--r--   0 wosc      (1000) wosc      (1000)     5924 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter/exporter.py
--rw-r--r--   0 wosc      (1000) wosc      (1000)       56 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter/__init__.py
-drwxr-xr-x   0 wosc      (1000) wosc      (1000)        0 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/
--rw-r--r--   0 wosc      (1000) wosc      (1000)       38 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/requires.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)       30 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/top_level.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)      592 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/SOURCES.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)       86 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/entry_points.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)        1 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/not-zip-safe
--rw-r--r--   0 wosc      (1000) wosc      (1000)        1 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/dependency_links.txt
--rw-r--r--   0 wosc      (1000) wosc      (1000)     3575 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter.egg-info/PKG-INFO
--rw-r--r--   0 wosc      (1000) wosc      (1000)     1824 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/README.rst
--rw-r--r--   0 wosc      (1000) wosc      (1000)       38 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/setup.cfg
--rw-r--r--   0 wosc      (1000) wosc      (1000)        7 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/.gitignore
--rw-r--r--   0 wosc      (1000) wosc      (1000)     1485 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/LICENSE
--rw-r--r--   0 wosc      (1000) wosc      (1000)      763 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/setup.py
--rw-r--r--   0 wosc      (1000) wosc      (1000)      242 2019-06-07 17:56:33.000000 github_vulnerability_exporter-1.5.0/Dockerfile
--rw-r--r--   0 wosc      (1000) wosc      (1000)     3575 2019-06-07 17:56:34.000000 github_vulnerability_exporter-1.5.0/PKG-INFO
+drwxrwxr-x   0 wosc      (1000) wosc      (1000)        0 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)     1485 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/LICENSE
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)     2912 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/PKG-INFO
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)     1825 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/README.rst
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)       38 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/setup.cfg
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)      763 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/setup.py
+drwxrwxr-x   0 wosc      (1000) wosc      (1000)        0 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/src/
+drwxrwxr-x   0 wosc      (1000) wosc      (1000)        0 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter/
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)       56 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter/__init__.py
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)     6348 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter/exporter.py
+drwxrwxr-x   0 wosc      (1000) wosc      (1000)        0 2023-04-11 15:58:35.865394 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)     2912 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/PKG-INFO
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)      519 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/SOURCES.txt
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)        1 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/dependency_links.txt
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)       86 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/entry_points.txt
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)        1 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/not-zip-safe
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)       38 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/requires.txt
+-rw-rw-r--   0 wosc      (1000) wosc      (1000)       30 2023-04-11 15:58:35.000000 github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter.egg-info/top_level.txt
```

### filetype from file(1)

```diff
@@ -1 +1 @@
-POSIX tar archive (GNU)
+POSIX tar archive
```

### Comparing `github_vulnerability_exporter-1.5.0/src/github_vulnerability_exporter/exporter.py` & `github_vulnerability_exporter-1.5.1/src/github_vulnerability_exporter/exporter.py`

 * *Files 4% similar despite different names*

```diff
@@ -74,15 +74,24 @@
             page = data['pageInfo']
             has_next = page['hasNextPage']
             cursor = page['endCursor']
 
             for repo in data['nodes']:
                 status = collections.Counter()
                 for alert in repo['vulnerabilityAlerts']['nodes']:
-                    status[bool(alert.get('dismissedAt'))] += 1
+                    dismissed = alert.get('dismissedAt', 'missing')
+                    # Sometimes the timestamp of dismissal apparently is
+                    # unknown, which is returned as None, yay.
+                    if dismissed is None:
+                        dismissed = True
+                    elif dismissed == 'missing':
+                        dismissed = False
+                    else:
+                        dismissed = True
+                    status[dismissed] += 1
                 reponame = '%s/%s' % (self.owner, repo['name'])
                 metrics['vulnerabilities'].add_metric(
                     (reponame, 'active'), status[False])
                 metrics['vulnerabilities'].add_metric(
                     (reponame, 'dismissed'), status[True])
                 # Does not fit the prometheus data model:
                 #   securityVulnerability {
```

### Comparing `github_vulnerability_exporter-1.5.0/README.rst` & `github_vulnerability_exporter-1.5.1/README.rst`

 * *Files 3% similar despite different names*

```diff
@@ -11,17 +11,17 @@
 Usage
 =====
 
 Configure API token
 -------------------
 
 You'll need to provide an access token with scope ``repo`` to access the GitHub API.
-See the `GitHub documentation` for details.
+See the `GitHub documentation`_ for details.
 
-.. `GitHub documentation`: https://developer.github.com/v4/guides/forming-calls/#authenticating-with-graphql
+.. _`GitHub documentation`: https://developer.github.com/v4/guides/forming-calls/#authenticating-with-graphql
 
 
 Start HTTP service
 ------------------
 
 Start the HTTP server like this::
 
@@ -37,15 +37,15 @@
 Configure Prometheus
 --------------------
 
 ::
 
     scrape_configs:
       - job_name: 'vulnerabilities'
-        scrape_interval: 1800s
+        scrape_interval: 300s
         static_configs:
           - targets: ['localhost:9597']
 
 We export one metric, a gauge called ``github_vulnerability_alerts``,
 with labels ``{repository="MyGitHubOrgOrUser/my-repository-name, status="active|dismissed"}``.
 
 Additionally, a ``ghvuln_scrape_duration_seconds`` gauge is exported.
```

### Comparing `github_vulnerability_exporter-1.5.0/LICENSE` & `github_vulnerability_exporter-1.5.1/LICENSE`

 * *Files identical despite different names*

### Comparing `github_vulnerability_exporter-1.5.0/setup.py` & `github_vulnerability_exporter-1.5.1/setup.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 from setuptools import setup, find_packages
 
 
 setup(
     name='github_vulnerability_exporter',
-    version='1.5.0',
+    version='1.5.1',
     author='Wolfgang Schnerring',
     author_email='wolfgang.schnerring@zeit.de',
     url='https://github.com/ZeitOnline/github_vulnerability_exporter',
     description='',
     long_description=(
         open('README.rst').read() +
         '\n\n' +
```

