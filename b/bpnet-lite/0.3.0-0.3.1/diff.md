# Comparing `tmp/bpnet_lite-0.3.0-py3-none-any.whl.zip` & `tmp/bpnet_lite-0.3.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,18 +1,18 @@
-Zip file size: 29969 bytes, number of entries: 16
--rwxr-xr-x  2.0 unx     8723 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.data/scripts/bpnet
--rwxr-xr-x  2.0 unx     8649 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.data/scripts/chrombpnet
--rw-r--r--  2.0 unx      175 b- defN 23-Apr-10 16:26 bpnetlite/__init__.py
+Zip file size: 30120 bytes, number of entries: 16
+-rwxr-xr-x  2.0 unx     9234 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.data/scripts/bpnet
+-rwxr-xr-x  2.0 unx     8649 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.data/scripts/chrombpnet
+-rw-r--r--  2.0 unx      175 b- defN 23-Apr-11 06:05 bpnetlite/__init__.py
 -rw-r--r--  2.0 unx    10712 b- defN 23-Mar-23 21:47 bpnetlite/attributions.py
--rw-r--r--  2.0 unx    15776 b- defN 23-Feb-26 20:40 bpnetlite/bpnet.py
+-rw-r--r--  2.0 unx    15775 b- defN 23-Apr-11 05:40 bpnetlite/bpnet.py
 -rw-r--r--  2.0 unx     5827 b- defN 23-Feb-26 21:40 bpnetlite/chrombpnet.py
 -rw-r--r--  2.0 unx    17015 b- defN 22-Nov-17 02:16 bpnetlite/io.py
 -rw-r--r--  2.0 unx     1643 b- defN 22-Oct-24 22:28 bpnetlite/logging.py
 -rw-r--r--  2.0 unx     2418 b- defN 22-May-03 00:14 bpnetlite/losses.py
 -rw-r--r--  2.0 unx     3674 b- defN 23-Jan-20 02:13 bpnetlite/marginalize.py
 -rw-r--r--  2.0 unx    13599 b- defN 22-May-04 18:11 bpnetlite/performance.py
--rw-r--r--  2.0 unx     1072 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.dist-info/LICENSE
--rw-r--r--  2.0 unx      533 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       10 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1294 b- defN 23-Apr-10 16:26 bpnet_lite-0.3.0.dist-info/RECORD
-16 files, 91212 bytes uncompressed, 27855 bytes compressed:  69.5%
+-rw-r--r--  2.0 unx     1072 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx      722 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       10 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1294 b- defN 23-Apr-11 06:06 bpnet_lite-0.3.1.dist-info/RECORD
+16 files, 91911 bytes uncompressed, 28006 bytes compressed:  69.5%
```

## zipnote {}

```diff
@@ -1,11 +1,11 @@
-Filename: bpnet_lite-0.3.0.data/scripts/bpnet
+Filename: bpnet_lite-0.3.1.data/scripts/bpnet
 Comment: 
 
-Filename: bpnet_lite-0.3.0.data/scripts/chrombpnet
+Filename: bpnet_lite-0.3.1.data/scripts/chrombpnet
 Comment: 
 
 Filename: bpnetlite/__init__.py
 Comment: 
 
 Filename: bpnetlite/attributions.py
 Comment: 
@@ -27,23 +27,23 @@
 
 Filename: bpnetlite/marginalize.py
 Comment: 
 
 Filename: bpnetlite/performance.py
 Comment: 
 
-Filename: bpnet_lite-0.3.0.dist-info/LICENSE
+Filename: bpnet_lite-0.3.1.dist-info/LICENSE
 Comment: 
 
-Filename: bpnet_lite-0.3.0.dist-info/METADATA
+Filename: bpnet_lite-0.3.1.dist-info/METADATA
 Comment: 
 
-Filename: bpnet_lite-0.3.0.dist-info/WHEEL
+Filename: bpnet_lite-0.3.1.dist-info/WHEEL
 Comment: 
 
-Filename: bpnet_lite-0.3.0.dist-info/top_level.txt
+Filename: bpnet_lite-0.3.1.dist-info/top_level.txt
 Comment: 
 
-Filename: bpnet_lite-0.3.0.dist-info/RECORD
+Filename: bpnet_lite-0.3.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## bpnetlite/__init__.py

```diff
@@ -1,8 +1,8 @@
 # bpnet-lite
 # Author: Jacob Schreiber
 # Code adapted from Avanti Shrikumar and Ziga Avsec
 
 from .bpnet import BPNet
 from .chrombpnet import ChromBPNet
 
-__version__ = '0.3.0'
+__version__ = '0.3.1'
```

## bpnetlite/bpnet.py

```diff
@@ -252,15 +252,14 @@
 				y_profiles.append(y_profiles_)
 				y_counts.append(y_counts_)
 
 			y_profiles = torch.cat(y_profiles)
 			y_counts = torch.cat(y_counts)
 			return y_profiles, y_counts
 
-
 	def fit(self, training_data, optimizer, X_valid=None, X_ctl_valid=None, 
 		y_valid=None, max_epochs=100, batch_size=64, validation_iter=100, 
 		verbose=True):
 		"""Fit the model to data and validate it periodically.
 
 		This method controls the training of a BPNet model. It will fit the
 		model to examples generated by the `training_data` DataLoader object
```

## Comparing `bpnet_lite-0.3.0.data/scripts/bpnet` & `bpnet_lite-0.3.1.data/scripts/bpnet`

 * *Files 12% similar despite different names*

```diff
@@ -51,14 +51,20 @@
 if args.cmd == "train":
 	with open(args.parameters, "r") as infile:
 		parameters = json.load(infile)
 
 	default_parameters = {
 		'n_filters': 64,
 		'n_layers': 8,
+		'n_outputs': 2,
+		'n_control_tracks': 2,
+		'profile_output_bias': True,
+		'count_output_bias': True,
+		'name': None,
+
 		'batch_size': 64,
 		'in_window': 2114,
 		'out_window': 1000,
 		'max_jitter': 128,
 		'reverse_complement': True,
 		'max_epochs': 250,
 		'validation_iter': 100,
@@ -102,37 +108,48 @@
 		min_counts=parameters['min_counts'],
 		max_counts=parameters['max_counts'],
 		random_state=parameters['random_state'],
 		batch_size=parameters['batch_size'],
 		verbose=parameters['verbose']
 	)
 
-
-	valid_sequences, valid_signals, valid_controls = extract_loci(
+	valid_data = extract_loci(
 		sequences=parameters['sequences'],
 		signals=parameters['signals'],
 		controls=parameters['controls'],
 		loci=parameters['loci'],
 		chroms=parameters['validation_chroms'],
 		in_window=parameters['in_window'],
 		out_window=parameters['out_window'],
 		max_jitter=0,
 		verbose=parameters['verbose']
 	)
 
+	if parameters['controls'] is not None:
+		valid_sequences, valid_signals, valid_controls = valid_data
+	else:
+		valid_sequences, valid_signals = valid_data
+		valid_controls = None
+
 	trimming = (parameters['in_window'] - parameters['out_window']) // 2
 
 	model = BPNet(n_filters=parameters['n_filters'], 
 		n_layers=parameters['n_layers'],
+		n_outputs=parameters['n_outputs'],
+		n_control_tracks=parameters['n_control_tracks'],
+		profile_output_bias=parameters['profile_output_bias'],
+		count_output_bias=parameters['count_output_bias'],
 		alpha=parameters['alpha'],
-		trimming=trimming).cuda()
+		trimming=trimming,
+		name=parameters['name'],
+		verbose=parameters['verbose']).cuda()
 
 	optimizer = torch.optim.Adam(model.parameters(), lr=parameters['lr'])
 
-	model.fit_generator(training_data, optimizer, X_valid=valid_sequences, 
+	model.fit(training_data, optimizer, X_valid=valid_sequences, 
 		X_ctl_valid=valid_controls, y_valid=valid_signals, 
 		max_epochs=parameters['max_epochs'], 
 		validation_iter=parameters['validation_iter'], 
 		batch_size=parameters['batch_size'])
 
 elif args.cmd == 'predict':
 	with open(args.parameters, "r") as infile:
```

## Comparing `bpnet_lite-0.3.0.data/scripts/chrombpnet` & `bpnet_lite-0.3.1.data/scripts/chrombpnet`

 * *Files identical despite different names*

## Comparing `bpnet_lite-0.3.0.dist-info/LICENSE` & `bpnet_lite-0.3.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `bpnet_lite-0.3.0.dist-info/RECORD` & `bpnet_lite-0.3.1.dist-info/RECORD`

 * *Files 18% similar despite different names*

```diff
@@ -1,16 +1,16 @@
-bpnet_lite-0.3.0.data/scripts/bpnet,sha256=50s_NV-O0KNC5hs8-BNhnKfkch-EuspXE7ozEfg9f28,8723
-bpnet_lite-0.3.0.data/scripts/chrombpnet,sha256=-q6JKUd4uPZfPjWRkmB0tKbWDTnvsdHwlR4Z9vP7ohQ,8649
-bpnetlite/__init__.py,sha256=q6bovXNUCw0oGZuDdUUoGMr157Tkxdi1-VQ9RyEFaoM,175
+bpnet_lite-0.3.1.data/scripts/bpnet,sha256=ybdcdcUn85c4APntmHXYr33oQBK0mLJiKuNtYxVUosE,9234
+bpnet_lite-0.3.1.data/scripts/chrombpnet,sha256=-q6JKUd4uPZfPjWRkmB0tKbWDTnvsdHwlR4Z9vP7ohQ,8649
+bpnetlite/__init__.py,sha256=CBKwUZ5qlYs6lYGRIjw3HqiicER6uONS2TsrdAoQbfw,175
 bpnetlite/attributions.py,sha256=5n1PKmAc_XBPTGILEgas7YyZh87L4ZlLb7emRFSJGHU,10712
-bpnetlite/bpnet.py,sha256=GaJdYf2fNf5c9Jl3I-3Bxzg4oGbXHwtpsVYFOp0LtrE,15776
+bpnetlite/bpnet.py,sha256=EjHJkuAfPr5WVNVm-W4SmgI21142MbhW0XdLs78z5nQ,15775
 bpnetlite/chrombpnet.py,sha256=aTtNg9hkXdlNPswmQczERSn9HZkEUYw38QBnjzKnrm0,5827
 bpnetlite/io.py,sha256=JCqy5evhTgjJGZ7PlWddBe8ESeonPOk4CaXHZ3bWUvo,17015
 bpnetlite/logging.py,sha256=7dT7lGHcMxZgbI6_kqOBPN87WzJMvVrsA0XXLd3ZbAQ,1643
 bpnetlite/losses.py,sha256=2kPpx-_HpmjGdOaHgG9eKVEOQga2wCzkYuxXgBc64OE,2418
 bpnetlite/marginalize.py,sha256=DWv764jJmkQK4NYErIheD3GLh-9i-Yts6fo-7mwSa6k,3674
 bpnetlite/performance.py,sha256=P6hbqcGsZscN8ee_R10TftQCt1moi0kU4s3Pa8LQGM4,13599
-bpnet_lite-0.3.0.dist-info/LICENSE,sha256=7INkXi8uNRhuIecag4RwrinhCQmP-P6pAWoK6UOxi1U,1072
-bpnet_lite-0.3.0.dist-info/METADATA,sha256=37Z4Db4BId3c8I4vAgh4mr8j9ZrerEdI3jHBqNt66TA,533
-bpnet_lite-0.3.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-bpnet_lite-0.3.0.dist-info/top_level.txt,sha256=SKuFVvK8spuR4slxk09vQL-IR3R_x4ahC68BLEU7y3g,10
-bpnet_lite-0.3.0.dist-info/RECORD,,
+bpnet_lite-0.3.1.dist-info/LICENSE,sha256=7INkXi8uNRhuIecag4RwrinhCQmP-P6pAWoK6UOxi1U,1072
+bpnet_lite-0.3.1.dist-info/METADATA,sha256=ShYIShxebFnuhQmd647ZuhSebJTWcSsj5d8yTn7qu1o,722
+bpnet_lite-0.3.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+bpnet_lite-0.3.1.dist-info/top_level.txt,sha256=SKuFVvK8spuR4slxk09vQL-IR3R_x4ahC68BLEU7y3g,10
+bpnet_lite-0.3.1.dist-info/RECORD,,
```

